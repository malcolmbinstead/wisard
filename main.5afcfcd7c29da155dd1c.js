(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{0:function(t,e,n){t.exports=n("zUnb")},PSQu:function(t,e){},crnd:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="crnd"},yLV6:function(t,e,n){var s;!function(l,i,r,o){"use strict";var u,a=["","webkit","Moz","MS","ms","o"],c=i.createElement("div"),h="function",d=Math.round,p=Math.abs,f=Date.now;function g(t,e,n){return setTimeout(C(t,n),e)}function m(t,e,n){return!!Array.isArray(t)&&(_(t,n[e],n),!0)}function _(t,e,n){var s;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==o)for(s=0;s<t.length;)e.call(n,t[s],s,t),s++;else for(s in t)t.hasOwnProperty(s)&&e.call(n,t[s],s,t)}function y(t,e,n){var s="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=l.console&&(l.console.warn||l.console.log);return i&&i.call(l.console,s,n),t.apply(this,arguments)}}u="function"!=typeof Object.assign?function(t){if(t===o||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var s=arguments[n];if(s!==o&&null!==s)for(var l in s)s.hasOwnProperty(l)&&(e[l]=s[l])}return e}:Object.assign;var v=y(function(t,e,n){for(var s=Object.keys(e),l=0;l<s.length;)(!n||n&&t[s[l]]===o)&&(t[s[l]]=e[s[l]]),l++;return t},"extend","Use `assign`."),b=y(function(t,e){return v(t,e,!0)},"merge","Use `assign`.");function w(t,e,n){var s,l=e.prototype;(s=t.prototype=Object.create(l)).constructor=t,s._super=l,n&&u(s,n)}function C(t,e){return function(){return t.apply(e,arguments)}}function S(t,e){return typeof t==h?t.apply(e&&e[0]||o,e):t}function T(t,e){return t===o?e:t}function x(t,e,n){_(R(e),function(e){t.addEventListener(e,n,!1)})}function E(t,e,n){_(R(e),function(e){t.removeEventListener(e,n,!1)})}function k(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function I(t,e){return t.indexOf(e)>-1}function R(t){return t.trim().split(/\s+/g)}function A(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var s=0;s<t.length;){if(n&&t[s][n]==e||!n&&t[s]===e)return s;s++}return-1}function O(t){return Array.prototype.slice.call(t,0)}function P(t,e,n){for(var s=[],l=[],i=0;i<t.length;){var r=e?t[i][e]:t[i];A(l,r)<0&&s.push(t[i]),l[i]=r,i++}return n&&(s=e?s.sort(function(t,n){return t[e]>n[e]}):s.sort()),s}function N(t,e){for(var n,s,l=e[0].toUpperCase()+e.slice(1),i=0;i<a.length;){if((s=(n=a[i])?n+l:e)in t)return s;i++}return o}var M=1;function D(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||l}var W="ontouchstart"in l,L=N(l,"PointerEvent")!==o,V=W&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),B=25,F=1,j=4,U=8,H=1,z=2,$=4,G=8,Y=16,q=z|$,X=G|Y,K=q|X,Q=["x","y"],Z=["clientX","clientY"];function J(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){S(t.options.enable,[t])&&n.handler(e)},this.init()}function tt(t,e,n){var s=n.pointers.length,l=n.changedPointers.length,i=e&F&&s-l==0,r=e&(j|U)&&s-l==0;n.isFirst=!!i,n.isFinal=!!r,i&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,s=e.pointers,l=s.length;n.firstInput||(n.firstInput=et(e)),l>1&&!n.firstMultiple?n.firstMultiple=et(e):1===l&&(n.firstMultiple=!1);var i=n.firstInput,r=n.firstMultiple,u=r?r.center:i.center,a=e.center=nt(s);e.timeStamp=f(),e.deltaTime=e.timeStamp-i.timeStamp,e.angle=rt(u,a),e.distance=it(u,a),function(t,e){var n=e.center,s=t.offsetDelta||{},l=t.prevDelta||{},i=t.prevInput||{};e.eventType!==F&&i.eventType!==j||(l=t.prevDelta={x:i.deltaX||0,y:i.deltaY||0},s=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=l.x+(n.x-s.x),e.deltaY=l.y+(n.y-s.y)}(n,e),e.offsetDirection=lt(e.deltaX,e.deltaY);var c,h,d=st(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=d.x,e.overallVelocityY=d.y,e.overallVelocity=p(d.x)>p(d.y)?d.x:d.y,e.scale=r?(c=r.pointers,it((h=s)[0],h[1],Z)/it(c[0],c[1],Z)):1,e.rotation=r?function(t,e){return rt(s[1],s[0],Z)+rt(t[1],t[0],Z)}(r.pointers):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,s,l,i,r=t.lastInterval||e,u=e.timeStamp-r.timeStamp;if(e.eventType!=U&&(u>B||r.velocity===o)){var a=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,h=st(u,a,c);s=h.x,l=h.y,n=p(h.x)>p(h.y)?h.x:h.y,i=lt(a,c),t.lastInterval=e}else n=r.velocity,s=r.velocityX,l=r.velocityY,i=r.direction;e.velocity=n,e.velocityX=s,e.velocityY=l,e.direction=i}(n,e);var g=t.element;k(e.srcEvent.target,g)&&(g=e.srcEvent.target),e.target=g}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function et(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:d(t.pointers[n].clientX),clientY:d(t.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:e,center:nt(e),deltaX:t.deltaX,deltaY:t.deltaY}}function nt(t){var e=t.length;if(1===e)return{x:d(t[0].clientX),y:d(t[0].clientY)};for(var n=0,s=0,l=0;l<e;)n+=t[l].clientX,s+=t[l].clientY,l++;return{x:d(n/e),y:d(s/e)}}function st(t,e,n){return{x:e/t||0,y:n/t||0}}function lt(t,e){return t===e?H:p(t)>=p(e)?t<0?z:$:e<0?G:Y}function it(t,e,n){n||(n=Q);var s=e[n[0]]-t[n[0]],l=e[n[1]]-t[n[1]];return Math.sqrt(s*s+l*l)}function rt(t,e,n){return n||(n=Q),180*Math.atan2(e[n[1]]-t[n[1]],e[n[0]]-t[n[0]])/Math.PI}J.prototype={handler:function(){},init:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(D(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(D(this.element),this.evWin,this.domHandler)}};var ot={mousedown:F,mousemove:2,mouseup:j},ut="mousedown",at="mousemove mouseup";function ct(){this.evEl=ut,this.evWin=at,this.pressed=!1,J.apply(this,arguments)}w(ct,J,{handler:function(t){var e=ot[t.type];e&F&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=j),this.pressed&&(e&j&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var ht={pointerdown:F,pointermove:2,pointerup:j,pointercancel:U,pointerout:U},dt={2:"touch",3:"pen",4:"mouse",5:"kinect"},pt="pointerdown",ft="pointermove pointerup pointercancel";function gt(){this.evEl=pt,this.evWin=ft,J.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}l.MSPointerEvent&&!l.PointerEvent&&(pt="MSPointerDown",ft="MSPointerMove MSPointerUp MSPointerCancel"),w(gt,J,{handler:function(t){var e=this.store,n=!1,s=t.type.toLowerCase().replace("ms",""),l=ht[s],i=dt[t.pointerType]||t.pointerType,r="touch"==i,o=A(e,t.pointerId,"pointerId");l&F&&(0===t.button||r)?o<0&&(e.push(t),o=e.length-1):l&(j|U)&&(n=!0),o<0||(e[o]=t,this.callback(this.manager,l,{pointers:e,changedPointers:[t],pointerType:i,srcEvent:t}),n&&e.splice(o,1))}});var mt={touchstart:F,touchmove:2,touchend:j,touchcancel:U},_t="touchstart",yt="touchstart touchmove touchend touchcancel";function vt(){this.evTarget=_t,this.evWin=yt,this.started=!1,J.apply(this,arguments)}w(vt,J,{handler:function(t){var e=mt[t.type];if(e===F&&(this.started=!0),this.started){var n=(function(t,e){var n=O(t.touches),s=O(t.changedTouches);return e&(j|U)&&(n=P(n.concat(s),"identifier",!0)),[n,s]}).call(this,t,e);e&(j|U)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var bt={touchstart:F,touchmove:2,touchend:j,touchcancel:U},wt="touchstart touchmove touchend touchcancel";function Ct(){this.evTarget=wt,this.targetIds={},J.apply(this,arguments)}w(Ct,J,{handler:function(t){var e=bt[t.type],n=(function(t,e){var n=O(t.touches),s=this.targetIds;if(e&(2|F)&&1===n.length)return s[n[0].identifier]=!0,[n,n];var l,i,r=O(t.changedTouches),o=[],u=this.target;if(i=n.filter(function(t){return k(t.target,u)}),e===F)for(l=0;l<i.length;)s[i[l].identifier]=!0,l++;for(l=0;l<r.length;)s[r[l].identifier]&&o.push(r[l]),e&(j|U)&&delete s[r[l].identifier],l++;return o.length?[P(i.concat(o),"identifier",!0),o]:void 0}).call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var St=2500;function Tt(){J.apply(this,arguments);var t=C(this.handler,this);this.touch=new Ct(this.manager,t),this.mouse=new ct(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function xt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var s=this.lastTouches;setTimeout(function(){var t=s.indexOf(n);t>-1&&s.splice(t,1)},St)}}w(Tt,J,{handler:function(t,e,n){var s="mouse"==n.pointerType;if(!(s&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)(function(t,e){t&F?(this.primaryTouch=e.changedPointers[0].identifier,xt.call(this,e)):t&(j|U)&&xt.call(this,e)}).call(this,e,n);else if(s&&(function(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,s=0;s<this.lastTouches.length;s++){var l=this.lastTouches[s],i=Math.abs(e-l.x),r=Math.abs(n-l.y);if(i<=25&&r<=25)return!0}return!1}).call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Et=N(c.style,"touchAction"),kt=Et!==o,It=function(){if(!kt)return!1;var t={},e=l.CSS&&l.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||l.CSS.supports("touch-action",n)}),t}();function Rt(t,e){this.manager=t,this.set(e)}Rt.prototype={set:function(t){"compute"==t&&(t=this.compute()),kt&&this.manager.element.style&&It[t]&&(this.manager.element.style[Et]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return _(this.manager.recognizers,function(e){S(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(I(t,"none"))return"none";var e=I(t,"pan-x"),n=I(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":I(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var s=this.actions,l=I(s,"none")&&!It.none,i=I(s,"pan-y")&&!It["pan-y"],r=I(s,"pan-x")&&!It["pan-x"];if(l&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!r||!i)return l||i&&n&q||r&&n&X?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var At=1,Ot=2,Pt=4,Nt=8,Mt=Nt,Dt=16;function Wt(t){this.options=u({},this.defaults,t||{}),this.id=M++,this.manager=null,this.options.enable=T(this.options.enable,!0),this.state=At,this.simultaneous={},this.requireFail=[]}function Lt(t){return t&Dt?"cancel":t&Nt?"end":t&Pt?"move":t&Ot?"start":""}function Vt(t){return t==Y?"down":t==G?"up":t==z?"left":t==$?"right":""}function Bt(t,e){var n=e.manager;return n?n.get(t):t}function Ft(){Wt.apply(this,arguments)}function jt(){Ft.apply(this,arguments),this.pX=null,this.pY=null}function Ut(){Ft.apply(this,arguments)}function Ht(){Wt.apply(this,arguments),this._timer=null,this._input=null}function zt(){Ft.apply(this,arguments)}function $t(){Ft.apply(this,arguments)}function Gt(){Wt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Yt(t,e){return(e=e||{}).recognizers=T(e.recognizers,Yt.defaults.preset),new qt(t,e)}function qt(t,e){var n;this.options=u({},Yt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(L?gt:V?Ct:W?Tt:ct))(n,tt),this.touchAction=new Rt(this,this.options.touchAction),Xt(this,!0),_(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function Xt(t,e){var n,s=t.element;s.style&&(_(t.options.cssProps,function(l,i){n=N(s.style,i),e?(t.oldCssProps[n]=s.style[n],s.style[n]=l):s.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={}))}Wt.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Bt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)?this:(t=Bt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===A(e,t=Bt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=Bt(t,this);var e=A(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function s(n){e.manager.emit(n,t)}n<Nt&&s(e.options.event+Lt(n)),s(e.options.event),t.additionalEvent&&s(t.additionalEvent),n>=Nt&&s(e.options.event+Lt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|At)))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!S(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(Mt|Dt|32)&&(this.state=At),this.state=this.process(e),this.state&(Ot|Pt|Nt|Dt)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},w(Ft,Wt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,s=e&(Ot|Pt),l=this.attrTest(t);return s&&(n&U||!l)?e|Dt:s||l?n&j?e|Nt:e&Ot?e|Pt:Ot:32}}),w(jt,Ft,{defaults:{event:"pan",threshold:10,pointers:1,direction:K},getTouchAction:function(){var t=this.options.direction,e=[];return t&q&&e.push("pan-y"),t&X&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,s=t.distance,l=t.direction,i=t.deltaX,r=t.deltaY;return l&e.direction||(e.direction&q?(l=0===i?H:i<0?z:$,n=i!=this.pX,s=Math.abs(t.deltaX)):(l=0===r?H:r<0?G:Y,n=r!=this.pY,s=Math.abs(t.deltaY))),t.direction=l,n&&s>e.threshold&&l&e.direction},attrTest:function(t){return Ft.prototype.attrTest.call(this,t)&&(this.state&Ot||!(this.state&Ot)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Vt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),w(Ut,Ft,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Ot)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),w(Ht,Wt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,s=t.distance<e.threshold,l=t.deltaTime>e.time;if(this._input=t,!s||!n||t.eventType&(j|U)&&!l)this.reset();else if(t.eventType&F)this.reset(),this._timer=g(function(){this.state=Mt,this.tryEmit()},e.time,this);else if(t.eventType&j)return Mt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Mt&&(t&&t.eventType&j?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),w(zt,Ft,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Ot)}}),w($t,Ft,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:q|X,pointers:1},getTouchAction:function(){return jt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(q|X)?e=t.overallVelocity:n&q?e=t.overallVelocityX:n&X&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&p(e)>this.options.velocity&&t.eventType&j},emit:function(t){var e=Vt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),w(Gt,Wt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,s=t.distance<e.threshold,l=t.deltaTime<e.time;if(this.reset(),t.eventType&F&&0===this.count)return this.failTimeout();if(s&&l&&n){if(t.eventType!=j)return this.failTimeout();var i=!this.pTime||t.timeStamp-this.pTime<e.interval,r=!this.pCenter||it(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,r&&i?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=g(function(){this.state=Mt,this.tryEmit()},e.interval,this),Ot):Mt}return 32},failTimeout:function(){return this._timer=g(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Mt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Yt.VERSION="2.0.7",Yt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[zt,{enable:!1}],[Ut,{enable:!1},["rotate"]],[$t,{direction:q}],[jt,{direction:q},["swipe"]],[Gt],[Gt,{event:"doubletap",taps:2},["tap"]],[Ht]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},qt.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var s=this.recognizers,l=e.curRecognizer;(!l||l&&l.state&Mt)&&(l=e.curRecognizer=null);for(var i=0;i<s.length;)n=s[i],2===e.stopped||l&&n!=l&&!n.canRecognizeWith(l)?n.reset():n.recognize(t),!l&&n.state&(Ot|Pt|Nt)&&(l=e.curRecognizer=n),i++}},get:function(t){if(t instanceof Wt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=A(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==o&&e!==o){var n=this.handlers;return _(R(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==o){var n=this.handlers;return _(R(t),function(t){e?n[t]&&n[t].splice(A(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=i.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var s=0;s<n.length;)n[s](e),s++}},destroy:function(){this.element&&Xt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Yt,{INPUT_START:F,INPUT_MOVE:2,INPUT_END:j,INPUT_CANCEL:U,STATE_POSSIBLE:At,STATE_BEGAN:Ot,STATE_CHANGED:Pt,STATE_ENDED:Nt,STATE_RECOGNIZED:Mt,STATE_CANCELLED:Dt,STATE_FAILED:32,DIRECTION_NONE:H,DIRECTION_LEFT:z,DIRECTION_RIGHT:$,DIRECTION_UP:G,DIRECTION_DOWN:Y,DIRECTION_HORIZONTAL:q,DIRECTION_VERTICAL:X,DIRECTION_ALL:K,Manager:qt,Input:J,TouchAction:Rt,TouchInput:Ct,MouseInput:ct,PointerEventInput:gt,TouchMouseInput:Tt,SingleTouchInput:vt,Recognizer:Wt,AttrRecognizer:Ft,Tap:Gt,Pan:jt,Swipe:$t,Pinch:Ut,Rotate:zt,Press:Ht,on:x,off:E,each:_,merge:b,extend:v,assign:u,inherit:w,bindFn:C,prefixed:N}),(void 0!==l?l:"undefined"!=typeof self?self:{}).Hammer=Yt,(s=(function(){return Yt}).call(e,n,e,t))===o||(t.exports=s)}(window,document)},zUnb:function(t,e,n){"use strict";function s(t){return"function"==typeof t}n.r(e),n("yLV6");let l=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){l=t},get useDeprecatedSynchronousErrorHandling(){return l}};function r(t){setTimeout(()=>{throw t})}const o={closed:!0,next(t){},error(t){if(i.useDeprecatedSynchronousErrorHandling)throw t;r(t)},complete(){}},u=Array.isArray||(t=>t&&"number"==typeof t.length);function a(t){return null!=t&&"object"==typeof t}const c={e:{}};let h;function d(){try{return h.apply(this,arguments)}catch(t){return c.e=t,c}}function p(t){return h=t,d}function f(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}f.prototype=Object.create(Error.prototype);const g=f,m=function(){class t{constructor(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t,e=!1;if(this.closed)return;let{_parent:n,_parents:l,_unsubscribe:i,_subscriptions:r}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let o=-1,h=l?l.length:0;for(;n;)n.remove(this),n=++o<h&&l[o]||null;if(s(i)&&p(i).call(this)===c&&(e=!0,t=t||(c.e instanceof g?_(c.e.errors):[c.e])),u(r))for(o=-1,h=r.length;++o<h;){const n=r[o];if(a(n)&&p(n.unsubscribe).call(n)===c){e=!0,t=t||[];let n=c.e;n instanceof g?t=t.concat(_(n.errors)):t.push(n)}}if(e)throw new g(t)}add(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;let n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){const e=n;(n=new t)._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}_addParent(t){let{_parent:e,_parents:n}=this;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t}}var e;return t.EMPTY=((e=new t).closed=!0,e),t}();function _(t){return t.reduce((t,e)=>t.concat(e instanceof g?e.errors:e),[])}const y="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class v extends m{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,this._parentSubscription=null,arguments.length){case 0:this.destination=o;break;case 1:if(!t){this.destination=o;break}if("object"==typeof t){t instanceof v?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new b(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new b(this,t,e,n)}}[y](){return this}static create(t,e,n){const s=new v(t,e,n);return s.syncErrorThrowable=!1,s}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:t,_parents:e}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this._parentSubscription=null,this}}class b extends v{constructor(t,e,n,l){let i;super(),this._parentSubscriber=t;let r=this;s(e)?i=e:e&&(i=e.next,n=e.error,l=e.complete,e!==o&&(s((r=Object.create(e)).unsubscribe)&&this.add(r.unsubscribe.bind(r)),r.unsubscribe=this.unsubscribe.bind(this))),this._context=r,this._next=i,this._error=n,this._complete=l}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;i.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=i;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):r(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;r(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);i.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),i.useDeprecatedSynchronousErrorHandling)throw n;r(n)}}__tryOrSetError(t,e,n){if(!i.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(s){return i.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=s,t.syncErrorThrown=!0,!0):(r(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const w="function"==typeof Symbol&&Symbol.observable||"@@observable";function C(){}function S(...t){return T(t)}function T(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:C}const x=function(){class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,l=function(t,e,n){if(t){if(t instanceof v)return t;if(t[y])return t[y]()}return t||e||n?new v(t,e,n):new v(o)}(t,e,n);if(s?s.call(l,this.source):l.add(this.source||i.useDeprecatedSynchronousErrorHandling&&!l.syncErrorThrowable?this._subscribe(l):this._trySubscribe(l)),i.useDeprecatedSynchronousErrorHandling&&l.syncErrorThrowable&&(l.syncErrorThrowable=!1,l.syncErrorThrown))throw l.syncErrorValue;return l}_trySubscribe(t){try{return this._subscribe(t)}catch(e){i.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:s}=t;if(e||s)return!1;t=n&&n instanceof v?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=E(e))((e,n)=>{let s;s=this.subscribe(e=>{try{t(e)}catch(l){n(l),s&&s.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[w](){return this}pipe(...t){return 0===t.length?this:T(t)(this)}toPromise(t){return new(t=E(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=(e=>new t(e)),t}();function E(t){if(t||(t=i.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function k(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}k.prototype=Object.create(Error.prototype);const I=k;class R extends m{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class A extends v{constructor(t){super(t),this.destination=t}}const O=function(){class t extends x{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[y](){return new A(this)}lift(t){const e=new P(this,this);return e.operator=t,e}next(t){if(this.closed)throw new I;if(!this.isStopped){const{observers:e}=this,n=e.length,s=e.slice();for(let l=0;l<n;l++)s[l].next(t)}}error(t){if(this.closed)throw new I;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,s=e.slice();for(let l=0;l<n;l++)s[l].error(t);this.observers.length=0}complete(){if(this.closed)throw new I;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let s=0;s<e;s++)n[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new I;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new I;return this.hasError?(t.error(this.thrownError),m.EMPTY):this.isStopped?(t.complete(),m.EMPTY):(this.observers.push(t),new R(this,t))}asObservable(){const t=new x;return t.source=this,t}}return t.create=((t,e)=>new P(t,e)),t}();class P extends O{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):m.EMPTY}}function N(t){return t&&"function"==typeof t.schedule}class M extends v{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const D=t=>e=>{for(let n=0,s=t.length;n<s&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()},W=t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,r),e);function L(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const V=L(),B=t=>e=>{const n=t[V]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e},F=t=>e=>{const n=t[w]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)},j=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function U(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const H=t=>{if(t instanceof x)return e=>t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e);if(t&&"function"==typeof t[w])return F(t);if(j(t))return D(t);if(U(t))return W(t);if(t&&"function"==typeof t[V])return B(t);{const e=a(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function z(t,e,n,s,l=new M(t,n,s)){if(!l.closed)return H(e)(l)}class $ extends v{notifyNext(t,e,n,s,l){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function G(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Y(t,e))}}class Y{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new q(t,this.project,this.thisArg))}}class q extends v{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function X(t,e){return new x(e?n=>{const s=new m;let l=0;return s.add(e.schedule(function(){l!==t.length?(n.next(t[l++]),n.closed||s.add(this.schedule())):n.complete()})),s}:D(t))}function K(t,e){if(!e)return t instanceof x?t:new x(H(t));if(null!=t){if(function(t){return t&&"function"==typeof t[w]}(t))return function(t,e){return new x(e?n=>{const s=new m;return s.add(e.schedule(()=>{const l=t[w]();s.add(l.subscribe({next(t){s.add(e.schedule(()=>n.next(t)))},error(t){s.add(e.schedule(()=>n.error(t)))},complete(){s.add(e.schedule(()=>n.complete()))}}))})),s}:F(t))}(t,e);if(U(t))return function(t,e){return new x(e?n=>{const s=new m;return s.add(e.schedule(()=>t.then(t=>{s.add(e.schedule(()=>{n.next(t),s.add(e.schedule(()=>n.complete()))}))},t=>{s.add(e.schedule(()=>n.error(t)))}))),s}:W(t))}(t,e);if(j(t))return X(t,e);if(function(t){return t&&"function"==typeof t[V]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new x(e?n=>{const s=new m;let l;return s.add(()=>{l&&"function"==typeof l.return&&l.return()}),s.add(e.schedule(()=>{l=t[V](),s.add(e.schedule(function(){if(n.closed)return;let t,e;try{const i=l.next();t=i.value,e=i.done}catch(s){return void n.error(s)}e?n.complete():(n.next(t),this.schedule())}))})),s}:B(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function Q(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(Q((n,s)=>K(t(n,s)).pipe(G((t,l)=>e(n,t,s,l))),n)):("number"==typeof e&&(n=e),e=>e.lift(new Z(t,n)))}class Z{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new J(t,this.project,this.concurrent))}}class J extends ${constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const s=new M(this,void 0,void 0);this.destination.add(s),z(this,t,e,n,s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,s,l){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function tt(t){return t}function et(t=Number.POSITIVE_INFINITY){return Q(tt,t)}function nt(...t){let e=Number.POSITIVE_INFINITY,n=null,s=t[t.length-1];return N(s)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof s&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof x?t[0]:et(e)(X(t,n))}function st(){return function(t){return t.lift(new lt(t))}}class lt{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const s=new it(t,n),l=e.subscribe(s);return s.closed||(s.connection=n.connect()),l}}class it extends v{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,s=t._connection;this.connection=null,!s||n&&s!==n||s.unsubscribe()}}const rt=class extends x{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new m).add(this.source.subscribe(new ut(this.getSubject(),this))),t.closed?(this._connection=null,t=m.EMPTY):this._connection=t),t}refCount(){return st()(this)}}.prototype,ot={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:rt._subscribe},_isComplete:{value:rt._isComplete,writable:!0},getSubject:{value:rt.getSubject},connect:{value:rt.connect},refCount:{value:rt.refCount}};class ut extends A{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function at(){return new O}function ct(t){for(let e in t)if(t[e]===ct)return e;throw Error("Could not find renamed property on target object.")}const ht=ct({ngInjectableDef:ct});function dt(t){return{providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function pt(t){return t&&t.hasOwnProperty(ht)?t[ht]:null}class ft{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==e?dt({providedIn:e.providedIn||"root",factory:e.factory}):void 0}toString(){return`InjectionToken ${this._desc}`}}const gt="__parameters__";function mt(t,e,n){const s=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function l(...t){if(this instanceof l)return s.apply(this,t),this;const e=new l(...t);return n.annotation=e,n;function n(t,n,s){const l=t.hasOwnProperty(gt)?t[gt]:Object.defineProperty(t,gt,{value:[]})[gt];for(;l.length<=s;)l.push(null);return(l[s]=l[s]||[]).push(e),t}}return n&&(l.prototype=Object.create(n.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l}const _t=new ft("AnalyzeForEntryComponents"),yt="undefined"!=typeof window&&window,vt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,bt="undefined"!=typeof global&&global||yt||vt,wt=Promise.resolve(0);let Ct=null;function St(){if(!Ct){const t=bt.Symbol;if(t&&t.iterator)Ct=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ct=n)}}}return Ct}function Tt(t){"undefined"==typeof Zone?wt.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function xt(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Et(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(Et).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const kt=ct({__forward_ref__:ct});function It(t){return t.__forward_ref__=It,t.toString=function(){return Et(this())},t}function Rt(t){const e=t;return"function"==typeof e&&e.hasOwnProperty(kt)&&e.__forward_ref__===It?e():t}const At=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),Ot=mt("Inject",t=>({token:t})),Pt=mt("Optional"),Nt=mt("Self"),Mt=mt("SkipSelf"),Dt=function(){var t={Default:0,Host:1,Self:2,SkipSelf:4,Optional:8};return t[t.Default]="Default",t[t.Host]="Host",t[t.Self]="Self",t[t.SkipSelf]="SkipSelf",t[t.Optional]="Optional",t}();let Wt,Lt=void 0;function Vt(t){const e=Lt;return Lt=t,e}function Bt(t,e=Dt.Default){return(Wt||function(t,e=Dt.Default){if(void 0===Lt)throw new Error("inject() must be called from an injection context");return null===Lt?function(t,e,n){const s=pt(t);if(s&&"root"==s.providedIn)return void 0===s.value?s.value=s.factory():s.value;if(n&Dt.Optional)return null;throw new Error(`Injector: NOT_FOUND [${Et(t)}]`)}(t,0,e):Lt.get(t,e&Dt.Optional?null:void 0,e)})(t,e)}const Ft=/([A-Z])/g;function jt(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function Ut(t,e){const n=$t(t),s=$t(e);if(n&&s)return function(t,e,n){const s=t[St()](),l=e[St()]();for(;;){const t=s.next(),e=l.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,Ut);{const l=t&&("object"==typeof t||"function"==typeof t),i=e&&("object"==typeof e||"function"==typeof e);return!(n||!l||s||!i)||xt(t,e)}}class Ht{constructor(t){this.wrapped=t}static wrap(t){return new Ht(t)}static unwrap(t){return Ht.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ht}}class zt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function $t(t){return!!Gt(t)&&(Array.isArray(t)||!(t instanceof Map)&&St()in t)}function Gt(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Yt(...t){}const qt="__source",Xt=new Object,Kt=new ft("INJECTOR");class Qt{get(t,e=Xt){if(e===Xt)throw new Error(`NullInjectorError: No provider for ${Et(t)}!`);return e}}const Zt=function(){class t{static create(t,e){return Array.isArray(t)?new ce(t,e):new ce(t.providers,t.parent,t.name||null)}}return t.THROW_IF_NOT_FOUND=Xt,t.NULL=new Qt,t.ngInjectableDef=dt({providedIn:"any",factory:()=>Bt(Kt)}),t.__NG_ELEMENT_ID__=(()=>Jt()),t}(),Jt=Yt,te=function(t){return t},ee=[],ne=te,se=function(){return Array.prototype.slice.call(arguments)},le=ct({provide:String,useValue:ct}),ie="ngTokenPath",re="ngTempTokenPath",oe=Zt.NULL,ue=/\n/gm,ae="\u0275";class ce{constructor(t,e=oe,n=null){this.parent=e,this.source=n;const s=this._records=new Map;s.set(Zt,{token:Zt,fn:te,deps:ee,value:this,useNew:!1}),s.set(Kt,{token:Kt,fn:te,deps:ee,value:this,useNew:!1}),function t(e,n){if(n)if((n=Rt(n))instanceof Array)for(let s=0;s<n.length;s++)t(e,n[s]);else{if("function"==typeof n)throw pe("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw pe("Unexpected provider",n);{let t=Rt(n.provide);const s=function(t){const e=function(t){let e=ee;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let s=6,l=Rt(n[t]);if(l instanceof Array)for(let t=0,e=l;t<e.length;t++){const n=e[t];n instanceof Pt||n==Pt?s|=1:n instanceof Mt||n==Mt?s&=-3:n instanceof Nt||n==Nt?s&=-5:l=n instanceof Ot?n.token:Rt(n)}e.push({token:l,options:s})}}else if(t.useExisting)e=[{token:Rt(t.useExisting),options:6}];else if(!(n||le in t))throw pe("'deps' required",t);return e}(t);let n=te,s=ee,l=!1,i=Rt(t.provide);if(le in t)s=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)l=!0,n=Rt(t.useClass);else{if("function"!=typeof i)throw pe("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);l=!0,n=i}return{deps:e,fn:n,useNew:l,value:s}}(n);if(!0===n.multi){let s=e.get(t);if(s){if(s.fn!==se)throw he(t)}else e.set(t,s={token:n.provide,deps:[],useNew:!1,fn:se,value:ee});s.deps.push({token:t=n,options:6})}const l=e.get(t);if(l&&l.fn==se)throw he(t);e.set(t,s)}}}(s,t)}get(t,e,n=Dt.Default){const s=this._records.get(t);try{return function t(e,n,s,l,i,r){try{return function(e,n,s,l,i,r){let o;if(!n||r&Dt.SkipSelf)r&Dt.Self||(o=l.get(e,i,Dt.Default));else{if((o=n.value)==ne)throw Error(ae+"Circular dependency");if(o===ee){n.value=ne;let e=void 0,i=n.useNew,r=n.fn,u=n.deps,a=ee;if(u.length){a=[];for(let e=0;e<u.length;e++){const n=u[e],i=n.options,r=2&i?s.get(n.token):void 0;a.push(t(n.token,r,s,r||4&i?l:oe,1&i?null:Zt.THROW_IF_NOT_FOUND,Dt.Default))}}n.value=o=i?new r(...a):r.apply(e,a)}}return o}(e,n,s,l,i,r)}catch(o){throw o instanceof Error||(o=new Error(o)),(o[re]=o[re]||[]).unshift(e),n&&n.value==ne&&(n.value=ee),o}}(t,s,this._records,this.parent,e,n)}catch(l){const e=l[re];throw t[qt]&&e.unshift(t[qt]),l.message=de("\n"+l.message,e,this.source),l[ie]=e,l[re]=null,l}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(Et(n))),`StaticInjector[${t.join(", ")}]`}}function he(t){return pe("Cannot mix multi providers and regular providers",t)}function de(t,e,n=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==ae?t.substr(2):t;let s=Et(e);if(e instanceof Array)s=e.map(Et).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let s=e[n];t.push(n+":"+("string"==typeof s?JSON.stringify(s):Et(s)))}s=`{${t.join(", ")}}`}return`StaticInjectorError${n?"("+n+")":""}[${s}]: ${t.replace(ue,"\n  ")}`}function pe(t,e){return new Error(de(t,e))}const fe=new ft("The presence of this token marks an injector as being the root injector.");class ge{}class me{}function _e(t){const e=Error(`No component factory found for ${Et(t)}. Did you add it to @NgModule.entryComponents?`);return e[ye]=t,e}const ye="ngComponent";class ve{resolveComponentFactory(t){throw _e(t)}}const be=function(){class t{}return t.NULL=new ve,t}();class we{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let s=0;s<t.length;s++){const e=t[s];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw _e(t);return new Ce(e,this._ngModule)}}class Ce extends me{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,s){return this.factory.create(t,e,n,s||this.ngModule)}}class Se{}class Te{}const xe=function(){class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=(()=>Ee(t)),t}(),Ee=Yt;class ke{}class Ie{}const Re=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),Ae=function(){class t{}return t.__NG_ELEMENT_ID__=(()=>Oe()),t}(),Oe=Yt,Pe=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();class Ne{}class Me{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const De=new Me("7.2.8");let We=!0,Le=!1;function Ve(){return Le=!0,We}class Be{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(s){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const n=(new window.DOMParser).parseFromString(t,"text/html").body;return n.removeChild(n.firstChild),n}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(t){const e=t.attributes;for(let s=e.length-1;0<s;s--){const n=e.item(s).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Fe=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,je=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ue(t){return(t=String(t)).match(Fe)||t.match(je)?t:(Ve()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function He(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function ze(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const $e=He("area,br,col,hr,img,wbr"),Ge=He("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ye=He("rp,rt"),qe=ze(Ye,Ge),Xe=ze($e,ze(Ge,He("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ze(Ye,He("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),qe),Ke=He("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Qe=He("srcset"),Ze=ze(Ke,Qe,He("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),Je=He("script,style,template");class tn{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Xe.hasOwnProperty(e))return this.sanitizedSomething=!0,!Je.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let l=0;l<n.length;l++){const t=n.item(l),e=t.name,i=e.toLowerCase();if(!Ze.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let r=t.value;Ke[i]&&(r=Ue(r)),Qe[i]&&(s=r,r=(s=String(s)).split(",").map(t=>Ue(t.trim())).join(", ")),this.buf.push(" ",e,'="',sn(r),'"')}var s;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Xe.hasOwnProperty(e)&&!$e.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(sn(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const en=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nn=/([^\#-~ |!])/g;function sn(t){return t.replace(/&/g,"&amp;").replace(en,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(nn,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ln;function rn(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}class on extends O{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let s,l=t=>null,i=()=>null;t&&"object"==typeof t?(s=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(l=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(i=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(s=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(l=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(i=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const r=super.subscribe(s,l,i);return t instanceof m&&t.add(r),r}}const un=function(){class t{}return t.__NG_ELEMENT_ID__=(()=>an(t,xe)),t}(),an=Yt,cn=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),hn=/^url\(([^)]+)\)$/;class dn{}const pn="ngDebugContext",fn="ngOriginalError",gn="ngErrorLogger";function mn(t){return t[pn]}function _n(t){return t[fn]}function yn(t,...e){t.error(...e)}class vn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),s=function(t){return t[gn]||yn}(t);s(this._console,"ERROR",t),e&&s(this._console,"ORIGINAL ERROR",e),n&&s(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?mn(t)?mn(t):this._findContext(_n(t)):null}_findOriginalError(t){let e=_n(t);for(;e&&_n(e);)e=_n(e);return e}}function bn(t){return!!t&&"function"==typeof t.then}function wn(t){return!!t&&"function"==typeof t.subscribe}const Cn=new ft("Application Initializer");class Sn{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();bn(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}const Tn=new ft("AppId");function xn(){return`${En()}${En()}${En()}`}function En(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const kn=new ft("Platform Initializer"),In=new ft("Platform ID"),Rn=new ft("appBootstrapListener");class An{log(t){console.log(t)}warn(t){console.warn(t)}}function On(){throw new Error("Runtime compiler is not loaded")}const Pn=On,Nn=On,Mn=On,Dn=On;class Wn{constructor(){this.compileModuleSync=Pn,this.compileModuleAsync=Nn,this.compileModuleAndAllComponentsSync=Mn,this.compileModuleAndAllComponentsAsync=Dn}clearCache(){}clearCacheFor(t){}getModuleId(t){}}class Ln{}let Vn,Bn;function Fn(){const t=bt.wtf;return!(!t||!(Vn=t.trace)||(Bn=Vn.events,0))}const jn=Fn(),Un=jn?function(t,e=null){return Bn.createScope(t,e)}:(t,e)=>(function(t,e){return null}),Hn=jn?function(t,e){return Vn.leaveScope(t,e),e}:(t,e)=>e;class zn{constructor({enableLongStackTrace:t=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new on(!1),this.onMicrotaskEmpty=new on(!1),this.onStable=new on(!1),this.onError=new on(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var e;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,s,l,i,r)=>{try{return qn(e),t.invokeTask(s,l,i,r)}finally{Xn(e)}},onInvoke:(t,n,s,l,i,r,o)=>{try{return qn(e),t.invoke(s,l,i,r,o)}finally{Xn(e)}},onHasTask:(t,n,s,l)=>{t.hasTask(s,l),n===s&&("microTask"==l.change?(e.hasPendingMicrotasks=l.microTask,Yn(e)):"macroTask"==l.change&&(e.hasPendingMacrotasks=l.macroTask))},onHandleError:(t,n,s,l)=>(t.handleError(s,l),e.runOutsideAngular(()=>e.onError.emit(l)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(zn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,s){const l=this._inner,i=l.scheduleEventTask("NgZoneEvent: "+s,t,Gn,$n,$n);try{return l.runTask(i,e,n)}finally{l.cancelTask(i)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function $n(){}const Gn={};function Yn(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qn(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Xn(t){t._nesting--,Yn(t)}class Kn{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new on,this.onMicrotaskEmpty=new on,this.onStable=new on,this.onError=new on}run(t){return t()}runGuarded(t){return t()}runOutsideAngular(t){return t()}runTask(t){return t()}}class Qn{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zn.assertNotInAngularZone(),Tt(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Tt(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let s=-1;e&&e>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==s),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}const Zn=function(){class t{constructor(){this._applications=new Map,es.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return es.findTestabilityInTree(this,t,e)}}return t.ctorParameters=(()=>[]),t}();class Jn{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let ts,es=new Jn,ns=function(t,e,n){return t.get(Ln).createCompiler([e]).compileModuleAsync(n)};const ss=new ft("AllowMultipleToken");class ls{constructor(t,e){this.name=t,this.token=e}}function is(t,e,n=[]){const s=`Platform: ${e}`,l=new ft(s);return(e=[])=>{let i=rs();if(!i||i.injector.get(ss,!1))if(t)t(n.concat(e).concat({provide:l,useValue:!0}));else{const t=n.concat(e).concat({provide:l,useValue:!0});!function(t){if(ts&&!ts.destroyed&&!ts.injector.get(ss,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ts=t.get(os);const e=t.get(kn,null);e&&e.forEach(t=>t())}(Zt.create({providers:t,name:s}))}return function(t){const e=rs();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(l)}}function rs(){return ts&&!ts.destroyed?ts:null}class os{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n="noop"===(l=e?e.ngZone:void 0)?new Kn:("zone.js"===l?void 0:l)||new zn({enableLongStackTrace:Ve()}),s=[{provide:zn,useValue:n}];var l;return n.run(()=>{const e=Zt.create({providers:s,parent:this.injector,name:t.moduleType.name}),l=t.create(e),i=l.injector.get(vn,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return l.onDestroy(()=>cs(this._modules,l)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{i.handleError(t)}})),function(t,e,n){try{const l=n();return bn(l)?l.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):l}catch(s){throw e.runOutsideAngular(()=>t.handleError(s)),s}}(i,n,()=>{const t=l.injector.get(Sn);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(l),l))})})}bootstrapModule(t,e=[]){const n=us({},e);return ns(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(as);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${Et(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}function us(t,e){return Array.isArray(e)?e.reduce(us,t):Object.assign({},t,e)}const as=function(){class t{constructor(t,e,n,s,l,i){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=s,this._componentFactoryResolver=l,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Ve(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const r=new x(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),o=new x(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{zn.assertNotInAngularZone(),Tt(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{zn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=nt(r,o.pipe(t=>st()(function(t,e){return function(e){let n;n="function"==typeof t?t:function(){return t};const s=Object.create(e,ot);return s.source=e,s.subjectFactory=n,s}}(at)(t))))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof me?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const s=n instanceof Ce?null:this._injector.get(Se),l=n.create(Zt.NULL,[],e||n.selector,s);l.onDestroy(()=>{this._unloadComponent(l)});const i=l.injector.get(Qn,null);return i&&l.injector.get(Zn).registerApplication(l.location.nativeElement,i),this._loadComponent(l),Ve()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),l}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=t._tickScope();try{this._runningTick=!0,this._views.forEach(t=>t.detectChanges()),this._enforceNoNewChanges&&this._views.forEach(t=>t.checkNoChanges())}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,Hn(e)}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;cs(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Rn,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),cs(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t._tickScope=Un("ApplicationRef#tick()"),t}();function cs(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class hs{constructor(){this.dirty=!0,this._results=[],this.changes=new on,this.length=0}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}[St()](){return this._results[St()]()}toString(){return this._results.toString()}reset(t){this._results=function t(e){return e.reduce((e,n)=>{const s=Array.isArray(n)?t(n):n;return e.concat(s)},[])}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const ds="#",ps="NgFactory";class fs{}const gs={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class ms{constructor(t,e){this._compiler=t,this._config=e||gs}load(t){return this._compiler instanceof Wn?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,s]=t.split(ds);return void 0===s&&(s="default"),n("crnd")(e).then(t=>t[s]).then(t=>_s(t,e,s)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,s]=t.split(ds),l=ps;return void 0===s&&(s="default",l=""),n("crnd")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[s+l]).then(t=>_s(t,e,s))}}function _s(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const ys=function(){class t{}return t.__NG_ELEMENT_ID__=(()=>vs(t,xe)),t}(),vs=Yt,bs=function(){class t{}return t.__NG_ELEMENT_ID__=(()=>ws()),t}(),ws=(...t)=>{};class Cs{constructor(t,e){this.name=t,this.callback=e}}class Ss{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof Ts&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Ts extends Ss{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,s){e.childNodes.forEach(e=>{e instanceof Ts&&(n(e)&&s.push(e),t(e,n,s))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,s){e instanceof Ts&&e.childNodes.forEach(e=>{n(e)&&s.push(e),e instanceof Ts&&t(e,n,s)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof Ts)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const xs=new Map,Es=function(t){return xs.get(t)||null};function ks(t){xs.set(t.nativeNode,t)}class Is{constructor(){}supports(t){return $t(t)}create(t){return new As(t)}}const Rs=(t,e)=>e;class As{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Rs}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,s=0,l=null;for(;e||n;){const i=!n||e&&e.currentIndex<Ms(n,s,l)?e:n,r=Ms(i,s,l),o=i.currentIndex;if(i===n)s--,n=n._nextRemoved;else if(e=e._next,null==i.previousIndex)s++;else{l||(l=[]);const t=r-s,e=o-s;if(t!=e){for(let n=0;n<t;n++){const s=n<l.length?l[n]:l[n]=0,i=s+n;e<=i&&i<t&&(l[n]=s+1)}l[i.previousIndex]=e-t}}r!==o&&t(i,r,o)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!$t(t))throw new Error(`Error trying to diff '${Et(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,s,l=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)s=this._trackByFn(e,n=t[e]),null!==l&&xt(l.trackById,s)?(i&&(l=this._verifyReinsertion(l,n,s,e)),xt(l.item,n)||this._addIdentityChange(l,n)):(l=this._mismatch(l,n,s,e),i=!0),l=l._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[St()]();let s;for(;!(s=n.next()).done;)e(s.value)}}(t,t=>{s=this._trackByFn(e,t),null!==l&&xt(l.trackById,s)?(i&&(l=this._verifyReinsertion(l,t,s,e)),xt(l.item,t)||this._addIdentityChange(l,t)):(l=this._mismatch(l,t,s,e),i=!0),l=l._next,e++}),this.length=e;return this._truncate(l),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,s){let l;return null===t?l=this._itTail:(l=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,s))?(xt(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,l,s)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(xt(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,l,s)):t=this._addAfter(new Os(e,n),l,s),t}_verifyReinsertion(t,e,n,s){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==l?t=this._reinsertAfter(l,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,l=t._nextRemoved;return null===s?this._removalsHead=l:s._nextRemoved=l,null===l?this._removalsTail=s:l._prevRemoved=s,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const s=null===e?this._itHead:e._next;return t._next=s,t._prev=e,null===s?this._itTail=t:s._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ns),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ns),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Os{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ps{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&xt(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ns{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ps,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ms(t,e,n){const s=t.previousIndex;if(null===s)return s;let l=0;return n&&s<n.length&&(l=n[s]),s+e+l}class Ds{constructor(){}supports(t){return t instanceof Map||Gt(t)}create(){return new Ws}}class Ws{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Gt(t)))throw new Error(`Error trying to diff '${Et(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const s=n._prev,l=n._next;return s&&(s._next=l),l&&(l._prev=s),n._next=null,n._prev=null,n}const n=new Ls(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){xt(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ls{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}const Vs=function(){class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Mt,new Pt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.ngInjectableDef=dt({providedIn:"root",factory:()=>new t([new Is])}),t}(),Bs=function(){class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Mt,new Pt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.ngInjectableDef=dt({providedIn:"root",factory:()=>new t([new Ds])}),t}(),Fs=[new Ds],js=new Vs([new Is]),Us=new Bs(Fs),Hs=is(null,"core",[{provide:In,useValue:"unknown"},{provide:os,deps:[Zt]},{provide:Zn,deps:[]},{provide:An,deps:[]}]),zs=new ft("LocaleId");function $s(){return js}function Gs(){return Us}function Ys(t){return t||"en-US"}class qs{constructor(t){}}function Xs(t,e,n){const s=t.state,l=1792&s;return l===e?(t.state=-1793&s|n,t.initIndex=-1,!0):l===n}function Ks(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Qs(t,e){return t.nodes[e]}function Zs(t,e){return t.nodes[e]}function Js(t,e){return t.nodes[e]}function tl(t,e){return t.nodes[e]}function el(t,e){return t.nodes[e]}const nl={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function sl(t,e,n,s){let l=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return s&&(l+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return ll(n,e),n}(l,t)}function ll(t,e){t[pn]=e,t[gn]=e.logError.bind(e)}function il(t){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${t}`)}const rl=()=>{},ol=new Map;function ul(t){let e=ol.get(t);return e||(e=Et(t)+"_"+ol.size,ol.set(t,e)),e}const al="$$undefined",cl="$$empty";function hl(t){return{id:al,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let dl=0;function pl(t,e,n,s){return!(!(2&t.state)&&xt(t.oldValues[e.bindingIndex+n],s))}function fl(t,e,n,s){return!!pl(t,e,n,s)&&(t.oldValues[e.bindingIndex+n]=s,!0)}function gl(t,e,n,s){const l=t.oldValues[e.bindingIndex+n];if(1&t.state||!Ut(l,s)){const i=e.bindings[n].name;throw sl(nl.createDebugContext(t,e.nodeIndex),`${i}: ${l}`,`${i}: ${s}`,0!=(1&t.state))}}function ml(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function _l(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function yl(t,e,n,s){try{return ml(33554432&t.def.nodes[e].flags?Zs(t,e).componentView:t),nl.handleEvent(t,e,n,s)}catch(l){t.root.errorHandler.handleError(l)}}function vl(t){return t.parent?Zs(t.parent,t.parentNodeDef.nodeIndex):null}function bl(t){return t.parent?t.parentNodeDef.parent:null}function wl(t,e){switch(201347067&e.flags){case 1:return Zs(t,e.nodeIndex).renderElement;case 2:return Qs(t,e.nodeIndex).renderText}}function Cl(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Sl(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Tl(t){return 1<<t%32}function xl(t){const e={};let n=0;const s={};return t&&t.forEach(([t,l])=>{"number"==typeof t?(e[t]=l,n|=Tl(t)):s[t]=l}),{matchedQueries:e,references:s,matchedQueryIds:n}}function El(t,e){return t.map(t=>{let n,s;return Array.isArray(t)?[s,n]=t:(s=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,qt,{value:e,configurable:!0}),{flags:s,token:n,tokenKey:ul(n)}})}function kl(t,e,n){let s=n.renderParent;return s?0==(1&s.flags)||0==(33554432&s.flags)||s.element.componentRendererType&&s.element.componentRendererType.encapsulation===At.Native?Zs(t,n.renderParent.nodeIndex).renderElement:void 0:e}const Il=new WeakMap;function Rl(t){let e=Il.get(t);return e||((e=t(()=>rl)).factory=t,Il.set(t,e)),e}function Al(t,e,n,s,l){3===e&&(n=t.renderer.parentNode(wl(t,t.def.lastRenderRootNode))),Ol(t,e,0,t.def.nodes.length-1,n,s,l)}function Ol(t,e,n,s,l,i,r){for(let o=n;o<=s;o++){const n=t.def.nodes[o];11&n.flags&&Nl(t,n,e,l,i,r),o+=n.childCount}}function Pl(t,e,n,s,l,i){let r=t;for(;r&&!Cl(r);)r=r.parent;const o=r.parent,u=bl(r),a=u.nodeIndex+u.childCount;for(let c=u.nodeIndex+1;c<=a;c++){const t=o.def.nodes[c];t.ngContentIndex===e&&Nl(o,t,n,s,l,i),c+=t.childCount}if(!o.parent){const r=t.root.projectableNodes[e];if(r)for(let e=0;e<r.length;e++)Ml(t,r[e],n,s,l,i)}}function Nl(t,e,n,s,l,i){if(8&e.flags)Pl(t,e.ngContent.index,n,s,l,i);else{const r=wl(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Ml(t,r,n,s,l,i),32&e.bindingFlags&&Ml(Zs(t,e.nodeIndex).componentView,r,n,s,l,i)):Ml(t,r,n,s,l,i),16777216&e.flags){const r=Zs(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<r.length;t++)Al(r[t],n,s,l,i)}1&e.flags&&!e.element.name&&Ol(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,s,l,i)}}function Ml(t,e,n,s,l,i){const r=t.renderer;switch(n){case 1:r.appendChild(s,e);break;case 2:r.insertBefore(s,e,l);break;case 3:r.removeChild(s,e);break;case 0:i.push(e)}}const Dl=/^:([^:]+):(.+)$/;function Wl(t){if(":"===t[0]){const e=t.match(Dl);return[e[1],e[2]]}return["",t]}function Ll(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}function Vl(t,e,n,s,l,i){t|=1;const{matchedQueries:r,references:o,matchedQueryIds:u}=xl(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:r,matchedQueryIds:u,references:o,ngContentIndex:n,childCount:s,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:i?Rl(i):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:l||rl},provider:null,text:null,query:null,ngContent:null}}function Bl(t,e,n,s,l,i,r=[],o,u,a,c,h){a||(a=rl);const{matchedQueries:d,references:p,matchedQueryIds:f}=xl(n);let g=null,m=null;i&&([g,m]=Wl(i)),o=o||[];const _=new Array(o.length);for(let b=0;b<o.length;b++){const[t,e,n]=o[b],[s,l]=Wl(e);let i=void 0,r=void 0;switch(15&t){case 4:r=n;break;case 1:case 8:i=n}_[b]={flags:t,ns:s,name:l,nonMinifiedName:l,securityContext:i,suffix:r}}u=u||[];const y=new Array(u.length);for(let b=0;b<u.length;b++){const[t,e]=u[b];y[b]={type:0,target:t,eventName:e,propName:null}}const v=(r=r||[]).map(([t,e])=>{const[n,s]=Wl(t);return[n,s,e]});return h=function(t){if(t&&t.id===al){const e=null!=t.encapsulation&&t.encapsulation!==At.None||t.styles.length||Object.keys(t.data).length;t.id=e?`c${dl++}`:cl}return t&&t.id===cl&&(t=null),t||null}(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:f,references:p,ngContentIndex:s,childCount:l,bindings:_,bindingFlags:Ll(_),outputs:y,element:{ns:g,name:m,attrs:v,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:a||rl},provider:null,text:null,query:null,ngContent:null}}function Fl(t,e,n){const s=n.element,l=t.root.selectorOrNode,i=t.renderer;let r;if(t.parent||!l){r=s.name?i.createElement(s.name,s.ns):i.createComment("");const l=kl(t,e,n);l&&i.appendChild(l,r)}else r=i.selectRootElement(l,!!s.componentRendererType&&s.componentRendererType.encapsulation===At.ShadowDom);if(s.attrs)for(let o=0;o<s.attrs.length;o++){const[t,e,n]=s.attrs[o];i.setAttribute(r,e,n,t)}return r}function jl(t,e,n,s){for(let r=0;r<n.outputs.length;r++){const o=n.outputs[r],u=Ul(t,n.nodeIndex,(i=o.eventName,(l=o.target)?`${l}:${i}`:i));let a=o.target,c=t;"component"===o.target&&(a=null,c=e);const h=c.renderer.listen(a||s,o.eventName,u);t.disposables[n.outputIndex+r]=h}var l,i}function Ul(t,e,n){return s=>yl(t,e,n,s)}function Hl(t,e,n,s){if(!fl(t,e,n,s))return!1;const l=e.bindings[n],i=Zs(t,e.nodeIndex),r=i.renderElement,o=l.name;switch(15&l.flags){case 1:!function(t,e,n,s,l,i){const r=e.securityContext;let o=r?t.root.sanitizer.sanitize(r,i):i;o=null!=o?o.toString():null;const u=t.renderer;null!=i?u.setAttribute(n,l,o,s):u.removeAttribute(n,l,s)}(t,l,r,l.ns,o,s);break;case 2:!function(t,e,n,s){const l=t.renderer;s?l.addClass(e,n):l.removeClass(e,n)}(t,r,o,s);break;case 4:!function(t,e,n,s,l){let i=t.root.sanitizer.sanitize(Pe.STYLE,l);if(null!=i){i=i.toString();const t=e.suffix;null!=t&&(i+=t)}else i=null;const r=t.renderer;null!=i?r.setStyle(n,s,i):r.removeStyle(n,s)}(t,l,r,o,s);break;case 8:!function(t,e,n,s,l){const i=e.securityContext;let r=i?t.root.sanitizer.sanitize(i,l):l;t.renderer.setProperty(n,s,r)}(33554432&e.flags&&32&l.flags?i.componentView:t,l,r,o,s)}return!0}const zl=new Object,$l=ul(Zt),Gl=ul(Kt),Yl=ul(Se);function ql(t,e,n,s){return n=Rt(n),{index:-1,deps:El(s,Et(e)),flags:t,token:e,value:n}}function Xl(t,e,n=Zt.THROW_IF_NOT_FOUND){const s=Vt(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const r=e.tokenKey;switch(r){case $l:case Gl:case Yl:return t}const o=t._def.providersByKey[r];let u;if(o){let e=t._providers[o.index];return void 0===e&&(e=t._providers[o.index]=Kl(t,o)),e===zl?void 0:e}if((u=pt(e.token))&&(l=t,null!=(i=u).providedIn&&(function(t,e){return t._def.modules.indexOf(i.providedIn)>-1}(l)||"root"===i.providedIn&&l._def.isRoot))){const n=t._providers.length;return t._def.providersByKey[e.tokenKey]={flags:5120,value:u.factory,deps:[],index:n,token:e.token},t._providers[n]=zl,t._providers[n]=Kl(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{Vt(s)}var l,i}function Kl(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const s=n.length;switch(s){case 0:return new e;case 1:return new e(Xl(t,n[0]));case 2:return new e(Xl(t,n[0]),Xl(t,n[1]));case 3:return new e(Xl(t,n[0]),Xl(t,n[1]),Xl(t,n[2]));default:const l=new Array(s);for(let e=0;e<s;e++)l[e]=Xl(t,n[e]);return new e(...l)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const s=n.length;switch(s){case 0:return e();case 1:return e(Xl(t,n[0]));case 2:return e(Xl(t,n[0]),Xl(t,n[1]));case 3:return e(Xl(t,n[0]),Xl(t,n[1]),Xl(t,n[2]));default:const l=Array(s);for(let e=0;e<s;e++)l[e]=Xl(t,n[e]);return e(...l)}}(t,e.value,e.deps);break;case 2048:n=Xl(t,e.deps[0]);break;case 256:n=e.value}return n===zl||null==n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?zl:n}function Ql(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const s=n[e];return s.viewContainerParent=null,ei(n,e),nl.dirtyParentQueries(s),Jl(s),s}function Zl(t,e,n){const s=e?wl(e,e.def.lastRenderRootNode):t.renderElement,l=n.renderer.parentNode(s),i=n.renderer.nextSibling(s);Al(n,2,l,i,void 0)}function Jl(t){Al(t,3,null,null,void 0)}function ti(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ei(t,e){e>=t.length-1?t.pop():t.splice(e,1)}const ni=new Object;function si(t,e,n,s,l,i){return new li(t,e,n,s,l,i)}class li extends me{constructor(t,e,n,s,l,i){super(),this.selector=t,this.componentType=e,this._inputs=s,this._outputs=l,this.ngContentSelectors=i,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,s){if(!s)throw new Error("ngModule should be provided");const l=Rl(this.viewDefFactory),i=l.nodes[0].element.componentProvider.nodeIndex,r=nl.createRootView(t,e||[],n,l,s,ni),o=Js(r,i).instance;return n&&r.renderer.setAttribute(Zs(r,0).renderElement,"ng-version",De.full),new ii(r,new ai(r),o)}}class ii extends ge{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new xe(Zs(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new pi(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function ri(t,e,n){return new oi(t,e,n)}class oi{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new xe(this._data.renderElement)}get injector(){return new pi(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=bl(t),t=t.parent;return t?new pi(t,e):new pi(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=Ql(this._data,t);nl.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new ai(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const s=t.createEmbeddedView(e||{});return this.insert(s,n),s}createComponent(t,e,n,s,l){const i=n||this.parentInjector;l||t instanceof Ce||(l=i.get(Se));const r=t.create(i,s,void 0,l);return this.insert(r.hostView,e),r}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,s){let l=e.viewContainer._embeddedViews;null==n&&(n=l.length),s.viewContainerParent=t,ti(l,n,s),function(t,e){const n=vl(e);if(!n||n===t||16&e.state)return;e.state|=16;let s=n.template._projectedViews;s||(s=n.template._projectedViews=[]),s.push(e),function(t,n){if(4&n.flags)return;e.parent.def.nodeFlags|=4,n.flags|=4;let s=n.parent;for(;s;)s.childFlags|=4,s=s.parent}(0,e.parentNodeDef)}(e,s),nl.dirtyParentQueries(s),Zl(e,n>0?l[n-1]:null,s)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,s){const l=t.viewContainer._embeddedViews,i=l[n];ei(l,n),null==s&&(s=l.length),ti(l,s,i),nl.dirtyParentQueries(i),Jl(i),Zl(t,s>0?l[s-1]:null,i)}(this._data,0,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=Ql(this._data,t);e&&nl.destroyView(e)}detach(t){const e=Ql(this._data,t);return e?new ai(e):null}}function ui(t){return new ai(t)}class ai{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return Al(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){ml(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{nl.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){nl.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),nl.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Jl(this._view),nl.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function ci(t,e){return new hi(t,e)}class hi extends un{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new ai(nl.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new xe(Zs(this._parentView,this._def.nodeIndex).renderElement)}}function di(t,e){return new pi(t,e)}class pi{constructor(t,e){this.view=t,this.elDef=e}get(t,e=Zt.THROW_IF_NOT_FOUND){return nl.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:ul(t)},e)}}function fi(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=Zs(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return Qs(t,n.nodeIndex).renderText;if(20240&n.flags)return Js(t,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${e}`)}function gi(t){return new mi(t.renderer)}class mi{constructor(t){this.delegate=t}selectRootElement(t){return this.delegate.selectRootElement(t)}createElement(t,e){const[n,s]=Wl(e),l=this.delegate.createElement(s,n);return t&&this.delegate.appendChild(t,l),l}createViewRoot(t){return t}createTemplateAnchor(t){const e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}createText(t,e){const n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}projectNodes(t,e){for(let n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}attachViewAfter(t,e){const n=this.delegate.parentNode(t),s=this.delegate.nextSibling(t);for(let l=0;l<e.length;l++)this.delegate.insertBefore(n,e[l],s)}detachView(t){for(let e=0;e<t.length;e++){const n=t[e],s=this.delegate.parentNode(n);this.delegate.removeChild(s,n)}}destroyView(t,e){for(let n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}listen(t,e,n){return this.delegate.listen(t,e,n)}listenGlobal(t,e,n){return this.delegate.listen(t,e,n)}setElementProperty(t,e,n){this.delegate.setProperty(t,e,n)}setElementAttribute(t,e,n){const[s,l]=Wl(e);null!=n?this.delegate.setAttribute(t,l,n,s):this.delegate.removeAttribute(t,l,s)}setBindingDebugInfo(t,e,n){}setElementClass(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}setElementStyle(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}invokeElementMethod(t,e,n){t[e].apply(t,n)}setText(t,e){this.delegate.setValue(t,e)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function _i(t,e,n,s){return new yi(t,e,n,s)}class yi{constructor(t,e,n,s){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=s,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=new Array(e.providers.length);for(let s=0;s<e.providers.length;s++){const l=e.providers[s];4096&l.flags||void 0===n[s]&&(n[s]=Kl(t,l))}}(this)}get(t,e=Zt.THROW_IF_NOT_FOUND,n=Dt.Default){let s=0;return n&Dt.SkipSelf?s|=1:n&Dt.Self&&(s|=4),Xl(this,{token:t,tokenKey:ul(t),flags:s},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(be)}destroy(){if(this._destroyed)throw new Error(`The ng module ${Et(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,s=new Set;for(let l=0;l<n.providers.length;l++)if(131072&n.providers[l].flags){const e=t._providers[l];if(e&&e!==zl){const t=e.ngOnDestroy;"function"!=typeof t||s.has(e)||(t.apply(e),s.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const vi=ul(ke),bi=ul(Ae),wi=ul(xe),Ci=ul(ys),Si=ul(un),Ti=ul(bs),xi=ul(Zt),Ei=ul(Kt);function ki(t,e,n,s,l,i,r,o){const u=[];if(r)for(let c in r){const[t,e]=r[c];u[t]={flags:8,name:c,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const a=[];if(o)for(let c in o)a.push({type:1,propName:c,target:null,eventName:o[c]});return Ri(t,e|=16384,n,s,l,l,i,u,a)}function Ii(t,e,n,s,l){return Ri(-1,t,e,0,n,s,l)}function Ri(t,e,n,s,l,i,r,o,u){const{matchedQueries:a,references:c,matchedQueryIds:h}=xl(n);u||(u=[]),o||(o=[]),i=Rt(i);const d=El(r,Et(l));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:s,bindings:o,bindingFlags:Ll(o),outputs:u,element:null,provider:{token:l,value:i,deps:d},text:null,query:null,ngContent:null}}function Ai(t,e){return Mi(t,e)}function Oi(t,e){let n=t;for(;n.parent&&!Cl(n);)n=n.parent;return Di(n.parent,bl(n),!0,e.provider.value,e.provider.deps)}function Pi(t,e){const n=Di(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let s=0;s<e.outputs.length;s++){const l=e.outputs[s],i=n[l.propName];if(!wn(i))throw new Error(`@Output ${l.propName} not initialized in '${n.constructor.name}'.`);{const n=i.subscribe(Ni(t,e.parent.nodeIndex,l.eventName));t.disposables[e.outputIndex+s]=n.unsubscribe.bind(n)}}return n}function Ni(t,e,n){return s=>yl(t,e,n,s)}function Mi(t,e){const n=(8192&e.flags)>0,s=e.provider;switch(201347067&e.flags){case 512:return Di(t,e.parent,n,s.value,s.deps);case 1024:return function(t,e,n,s,l){const i=l.length;switch(i){case 0:return s();case 1:return s(Li(t,e,n,l[0]));case 2:return s(Li(t,e,n,l[0]),Li(t,e,n,l[1]));case 3:return s(Li(t,e,n,l[0]),Li(t,e,n,l[1]),Li(t,e,n,l[2]));default:const r=Array(i);for(let s=0;s<i;s++)r[s]=Li(t,e,n,l[s]);return s(...r)}}(t,e.parent,n,s.value,s.deps);case 2048:return Li(t,e.parent,n,s.deps[0]);case 256:return s.value}}function Di(t,e,n,s,l){const i=l.length;switch(i){case 0:return new s;case 1:return new s(Li(t,e,n,l[0]));case 2:return new s(Li(t,e,n,l[0]),Li(t,e,n,l[1]));case 3:return new s(Li(t,e,n,l[0]),Li(t,e,n,l[1]),Li(t,e,n,l[2]));default:const r=new Array(i);for(let s=0;s<i;s++)r[s]=Li(t,e,n,l[s]);return new s(...r)}}const Wi={};function Li(t,e,n,s,l=Zt.THROW_IF_NOT_FOUND){if(8&s.flags)return s.token;const i=t;2&s.flags&&(l=null);const r=s.tokenKey;r===Ti&&(n=!(!e||!e.element.componentView)),e&&1&s.flags&&(n=!1,e=e.parent);let o=t;for(;o;){if(e)switch(r){case vi:return gi(Vi(o,e,n));case bi:return Vi(o,e,n).renderer;case wi:return new xe(Zs(o,e.nodeIndex).renderElement);case Ci:return Zs(o,e.nodeIndex).viewContainer;case Si:if(e.element.template)return Zs(o,e.nodeIndex).template;break;case Ti:return ui(Vi(o,e,n));case xi:case Ei:return di(o,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[r];if(t){let e=Js(o,t.nodeIndex);return e||(e={instance:Mi(o,t)},o.nodes[t.nodeIndex]=e),e.instance}}n=Cl(o),e=bl(o),o=o.parent,4&s.flags&&(o=null)}const u=i.root.injector.get(s.token,Wi);return u!==Wi||l===Wi?u:i.root.ngModule.injector.get(s.token,l)}function Vi(t,e,n){let s;if(n)s=Zs(t,e.nodeIndex).componentView;else for(s=t;s.parent&&!Cl(s);)s=s.parent;return s}function Bi(t,e,n,s,l,i){if(32768&n.flags){const e=Zs(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[s].name]=l,524288&n.flags){i=i||{};const e=Ht.unwrap(t.oldValues[n.bindingIndex+s]);i[n.bindings[s].nonMinifiedName]=new zt(e,l,0!=(2&t.state))}return t.oldValues[n.bindingIndex+s]=l,i}function Fi(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let s=0;for(let l=0;l<n.length;l++){const i=n[l];let r=i.parent;for(!r&&i.flags&e&&Ui(t,l,i.flags&e,s++),0==(i.childFlags&e)&&(l+=i.childCount);r&&1&r.flags&&l===r.nodeIndex+r.childCount;)r.directChildFlags&e&&(s=ji(t,r,e,s)),r=r.parent}}function ji(t,e,n,s){for(let l=e.nodeIndex+1;l<=e.nodeIndex+e.childCount;l++){const e=t.def.nodes[l];e.flags&n&&Ui(t,l,e.flags&n,s++),l+=e.childCount}return s}function Ui(t,e,n,s){const l=Js(t,e);if(!l)return;const i=l.instance;i&&(nl.setCurrentNode(t,e),1048576&n&&Ks(t,512,s)&&i.ngAfterContentInit(),2097152&n&&i.ngAfterContentChecked(),4194304&n&&Ks(t,768,s)&&i.ngAfterViewInit(),8388608&n&&i.ngAfterViewChecked(),131072&n&&i.ngOnDestroy())}function Hi(t,e,n){let s=[];for(let l in n)s.push({propName:l,bindingType:n[l]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:Tl(e),bindings:s},ngContent:null}}function zi(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&Sl(t);){let n=t.parentNodeDef;t=t.parent;const s=n.nodeIndex+n.childCount;for(let l=0;l<=s;l++){const s=t.def.nodes[l];67108864&s.flags&&536870912&s.flags&&(s.query.filterId&e)===s.query.filterId&&el(t,l).setDirty(),!(1&s.flags&&l+s.childCount<n.nodeIndex)&&67108864&s.childFlags&&536870912&s.childFlags||(l+=s.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&el(t,n).setDirty(),n+=e.childCount}}function $i(t,e){const n=el(t,e.nodeIndex);if(!n.dirty)return;let s,l=void 0;if(67108864&e.flags){const n=e.parent.parent;l=Gi(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),s=Js(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(l=Gi(t,0,t.def.nodes.length-1,e.query,[]),s=t.component);n.reset(l);const i=e.query.bindings;let r=!1;for(let o=0;o<i.length;o++){const t=i[o];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,r=!0}s[t.propName]=e}r&&n.notifyOnChanges()}function Gi(t,e,n,s,l){for(let i=e;i<=n;i++){const e=t.def.nodes[i],n=e.matchedQueries[s.id];if(null!=n&&l.push(Yi(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&s.filterId)===s.filterId){const n=Zs(t,i);if((e.childMatchedQueries&s.filterId)===s.filterId&&(Gi(t,i+1,i+e.childCount,s,l),i+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const i=t[e],r=vl(i);r&&r===n&&Gi(i,0,i.def.nodes.length-1,s,l)}}const r=n.template._projectedViews;if(r)for(let t=0;t<r.length;t++){const e=r[t];Gi(e,0,e.def.nodes.length-1,s,l)}}(e.childMatchedQueries&s.filterId)!==s.filterId&&(i+=e.childCount)}return l}function Yi(t,e,n){if(null!=n)switch(n){case 1:return Zs(t,e.nodeIndex).renderElement;case 0:return new xe(Zs(t,e.nodeIndex).renderElement);case 2:return Zs(t,e.nodeIndex).template;case 3:return Zs(t,e.nodeIndex).viewContainer;case 4:return Js(t,e.nodeIndex).instance}}function qi(t,e,n){const s=kl(t,e,n);s&&Pl(t,n.ngContent.index,1,s,null,void 0)}function Xi(t,e,n){const s=new Array(n.length-1);for(let l=1;l<n.length;l++)s[l-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[l]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:s,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Ki(t,e,n){let s;const l=t.renderer;s=l.createText(n.text.prefix);const i=kl(t,e,n);return i&&l.appendChild(i,s),{renderText:s}}function Qi(t,e){return(null!=t?t.toString():"")+e.suffix}function Zi(t,e,n,s){let l=0,i=0,r=0,o=0,u=0,a=null,c=null,h=!1,d=!1,p=null;for(let f=0;f<e.length;f++){const t=e[f];if(t.nodeIndex=f,t.parent=a,t.bindingIndex=l,t.outputIndex=i,t.renderParent=c,r|=t.flags,u|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=a?a.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,d=!1,t.element.template&&(u|=t.element.template.nodeMatchedQueries)}if(tr(a,t,e.length),l+=t.bindings.length,i+=t.outputs.length,!c&&3&t.flags&&(p=t),20224&t.flags){h||(h=!0,a.element.publicProviders=Object.create(a.element.publicProviders),a.element.allProviders=a.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?a.element.publicProviders[ul(t.provider.token)]=t:(d||(d=!0,a.element.allProviders=Object.create(a.element.publicProviders)),a.element.allProviders[ul(t.provider.token)]=t),e&&(a.element.componentProvider=t)}if(a?(a.childFlags|=t.flags,a.directChildFlags|=t.flags,a.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(a.childMatchedQueries|=t.element.template.nodeMatchedQueries)):o|=t.flags,t.childCount>0)a=t,Ji(t)||(c=t);else for(;a&&f===a.nodeIndex+a.childCount;){const t=a.parent;t&&(t.childFlags|=a.childFlags,t.childMatchedQueries|=a.childMatchedQueries),c=(a=t)&&Ji(a)?a.renderParent:a}}return{factory:null,nodeFlags:r,rootNodeFlags:o,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||rl,updateRenderer:s||rl,handleEvent:(t,n,s,l)=>e[n].element.handleEvent(t,s,l),bindingCount:l,outputCount:i,lastRenderRootNode:p}}function Ji(t){return 0!=(1&t.flags)&&null===t.element.name}function tr(t,e,n){const s=e.element&&e.element.template;if(s){if(!s.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(s.lastRenderRootNode&&16777216&s.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const s=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=s&&e.nodeIndex+e.childCount>s)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function er(t,e,n,s){const l=lr(t.root,t.renderer,t,e,n);return ir(l,t.component,s),rr(l),l}function nr(t,e,n){const s=lr(t,t.renderer,null,null,e);return ir(s,n,n),rr(s),s}function sr(t,e,n,s){const l=e.element.componentRendererType;let i;return i=l?t.root.rendererFactory.createRenderer(s,l):t.root.renderer,lr(t.root,i,t,e.element.componentProvider,n)}function lr(t,e,n,s,l){const i=new Array(l.nodes.length),r=l.outputCount?new Array(l.outputCount):null;return{def:l,parent:n,viewContainerParent:null,parentNodeDef:s,context:null,component:null,nodes:i,state:13,root:t,renderer:e,oldValues:new Array(l.bindingCount),disposables:r,initIndex:-1}}function ir(t,e,n){t.component=e,t.context=n}function rr(t){let e;Cl(t)&&(e=Zs(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,s=t.nodes;for(let l=0;l<n.nodes.length;l++){const i=n.nodes[l];let r;switch(nl.setCurrentNode(t,l),201347067&i.flags){case 1:const n=Fl(t,e,i);let o=void 0;if(33554432&i.flags){const e=Rl(i.element.componentView);o=nl.createComponentView(t,i,e,n)}jl(t,o,i,n),r={renderElement:n,componentView:o,viewContainer:null,template:i.element.template?ci(t,i):void 0},16777216&i.flags&&(r.viewContainer=ri(t,i,r));break;case 2:r=Ki(t,e,i);break;case 512:case 1024:case 2048:case 256:(r=s[l])||4096&i.flags||(r={instance:Ai(t,i)});break;case 16:r={instance:Oi(t,i)};break;case 16384:(r=s[l])||(r={instance:Pi(t,i)}),32768&i.flags&&ir(Zs(t,i.parent.nodeIndex).componentView,r.instance,r.instance);break;case 32:case 64:case 128:r={value:void 0};break;case 67108864:case 134217728:r=new hs;break;case 8:qi(t,e,i),r=void 0}s[l]=r}gr(t,fr.CreateViewNodes),vr(t,201326592,268435456,0)}function or(t){cr(t),nl.updateDirectives(t,1),mr(t,fr.CheckNoChanges),nl.updateRenderer(t,1),gr(t,fr.CheckNoChanges),t.state&=-97}function ur(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Xs(t,0,256),cr(t),nl.updateDirectives(t,0),mr(t,fr.CheckAndUpdate),vr(t,67108864,536870912,0);let e=Xs(t,256,512);Fi(t,2097152|(e?1048576:0)),nl.updateRenderer(t,0),gr(t,fr.CheckAndUpdate),vr(t,134217728,536870912,0),Fi(t,8388608|((e=Xs(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Xs(t,768,1024)}function ar(t,e,n,s,l,i,r,o,u,a,c,h,d){return 0===n?function(t,e,n,s,l,i,r,o,u,a,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,s,l,i,r,o,u,a,c,h){const d=e.bindings.length;let p=!1;return d>0&&Hl(t,e,0,n)&&(p=!0),d>1&&Hl(t,e,1,s)&&(p=!0),d>2&&Hl(t,e,2,l)&&(p=!0),d>3&&Hl(t,e,3,i)&&(p=!0),d>4&&Hl(t,e,4,r)&&(p=!0),d>5&&Hl(t,e,5,o)&&(p=!0),d>6&&Hl(t,e,6,u)&&(p=!0),d>7&&Hl(t,e,7,a)&&(p=!0),d>8&&Hl(t,e,8,c)&&(p=!0),d>9&&Hl(t,e,9,h)&&(p=!0),p}(t,e,n,s,l,i,r,o,u,a,c,h);case 2:return function(t,e,n,s,l,i,r,o,u,a,c,h){let d=!1;const p=e.bindings,f=p.length;if(f>0&&fl(t,e,0,n)&&(d=!0),f>1&&fl(t,e,1,s)&&(d=!0),f>2&&fl(t,e,2,l)&&(d=!0),f>3&&fl(t,e,3,i)&&(d=!0),f>4&&fl(t,e,4,r)&&(d=!0),f>5&&fl(t,e,5,o)&&(d=!0),f>6&&fl(t,e,6,u)&&(d=!0),f>7&&fl(t,e,7,a)&&(d=!0),f>8&&fl(t,e,8,c)&&(d=!0),f>9&&fl(t,e,9,h)&&(d=!0),d){let d=e.text.prefix;f>0&&(d+=Qi(n,p[0])),f>1&&(d+=Qi(s,p[1])),f>2&&(d+=Qi(l,p[2])),f>3&&(d+=Qi(i,p[3])),f>4&&(d+=Qi(r,p[4])),f>5&&(d+=Qi(o,p[5])),f>6&&(d+=Qi(u,p[6])),f>7&&(d+=Qi(a,p[7])),f>8&&(d+=Qi(c,p[8])),f>9&&(d+=Qi(h,p[9]));const g=Qs(t,e.nodeIndex).renderText;t.renderer.setValue(g,d)}return d}(t,e,n,s,l,i,r,o,u,a,c,h);case 16384:return function(t,e,n,s,l,i,r,o,u,a,c,h){const d=Js(t,e.nodeIndex),p=d.instance;let f=!1,g=void 0;const m=e.bindings.length;return m>0&&pl(t,e,0,n)&&(f=!0,g=Bi(t,d,e,0,n,g)),m>1&&pl(t,e,1,s)&&(f=!0,g=Bi(t,d,e,1,s,g)),m>2&&pl(t,e,2,l)&&(f=!0,g=Bi(t,d,e,2,l,g)),m>3&&pl(t,e,3,i)&&(f=!0,g=Bi(t,d,e,3,i,g)),m>4&&pl(t,e,4,r)&&(f=!0,g=Bi(t,d,e,4,r,g)),m>5&&pl(t,e,5,o)&&(f=!0,g=Bi(t,d,e,5,o,g)),m>6&&pl(t,e,6,u)&&(f=!0,g=Bi(t,d,e,6,u,g)),m>7&&pl(t,e,7,a)&&(f=!0,g=Bi(t,d,e,7,a,g)),m>8&&pl(t,e,8,c)&&(f=!0,g=Bi(t,d,e,8,c,g)),m>9&&pl(t,e,9,h)&&(f=!0,g=Bi(t,d,e,9,h,g)),g&&p.ngOnChanges(g),65536&e.flags&&Ks(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),f}(t,e,n,s,l,i,r,o,u,a,c,h);case 32:case 64:case 128:return function(t,e,n,s,l,i,r,o,u,a,c,h){const d=e.bindings;let p=!1;const f=d.length;if(f>0&&fl(t,e,0,n)&&(p=!0),f>1&&fl(t,e,1,s)&&(p=!0),f>2&&fl(t,e,2,l)&&(p=!0),f>3&&fl(t,e,3,i)&&(p=!0),f>4&&fl(t,e,4,r)&&(p=!0),f>5&&fl(t,e,5,o)&&(p=!0),f>6&&fl(t,e,6,u)&&(p=!0),f>7&&fl(t,e,7,a)&&(p=!0),f>8&&fl(t,e,8,c)&&(p=!0),f>9&&fl(t,e,9,h)&&(p=!0),p){const p=tl(t,e.nodeIndex);let g;switch(201347067&e.flags){case 32:g=new Array(d.length),f>0&&(g[0]=n),f>1&&(g[1]=s),f>2&&(g[2]=l),f>3&&(g[3]=i),f>4&&(g[4]=r),f>5&&(g[5]=o),f>6&&(g[6]=u),f>7&&(g[7]=a),f>8&&(g[8]=c),f>9&&(g[9]=h);break;case 64:g={},f>0&&(g[d[0].name]=n),f>1&&(g[d[1].name]=s),f>2&&(g[d[2].name]=l),f>3&&(g[d[3].name]=i),f>4&&(g[d[4].name]=r),f>5&&(g[d[5].name]=o),f>6&&(g[d[6].name]=u),f>7&&(g[d[7].name]=a),f>8&&(g[d[8].name]=c),f>9&&(g[d[9].name]=h);break;case 128:const t=n;switch(f){case 1:g=t.transform(n);break;case 2:g=t.transform(s);break;case 3:g=t.transform(s,l);break;case 4:g=t.transform(s,l,i);break;case 5:g=t.transform(s,l,i,r);break;case 6:g=t.transform(s,l,i,r,o);break;case 7:g=t.transform(s,l,i,r,o,u);break;case 8:g=t.transform(s,l,i,r,o,u,a);break;case 9:g=t.transform(s,l,i,r,o,u,a,c);break;case 10:g=t.transform(s,l,i,r,o,u,a,c,h)}}p.value=g}return p}(t,e,n,s,l,i,r,o,u,a,c,h);default:throw"unreachable"}}(t,e,s,l,i,r,o,u,a,c,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let s=!1;for(let l=0;l<n.length;l++)Hl(t,e,l,n[l])&&(s=!0);return s}(t,e,n);case 2:return function(t,e,n){const s=e.bindings;let l=!1;for(let i=0;i<n.length;i++)fl(t,e,i,n[i])&&(l=!0);if(l){let l="";for(let t=0;t<n.length;t++)l+=Qi(n[t],s[t]);l=e.text.prefix+l;const i=Qs(t,e.nodeIndex).renderText;t.renderer.setValue(i,l)}return l}(t,e,n);case 16384:return function(t,e,n){const s=Js(t,e.nodeIndex),l=s.instance;let i=!1,r=void 0;for(let o=0;o<n.length;o++)pl(t,e,o,n[o])&&(i=!0,r=Bi(t,s,e,o,n[o],r));return r&&l.ngOnChanges(r),65536&e.flags&&Ks(t,256,e.nodeIndex)&&l.ngOnInit(),262144&e.flags&&l.ngDoCheck(),i}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const s=e.bindings;let l=!1;for(let i=0;i<n.length;i++)fl(t,e,i,n[i])&&(l=!0);if(l){const l=tl(t,e.nodeIndex);let i;switch(201347067&e.flags){case 32:i=n;break;case 64:i={};for(let e=0;e<n.length;e++)i[s[e].name]=n[e];break;case 128:const t=n[0],l=n.slice(1);i=t.transform(...l)}l.value=i}return l}(t,e,n);default:throw"unreachable"}}(t,e,s)}function cr(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const s=e.nodes[n];if(4&s.flags){const e=Zs(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const s=e[n];s.state|=32,_l(s,t)}}else 0==(4&s.childFlags)&&(n+=s.childCount)}}function hr(t,e,n,s,l,i,r,o,u,a,c,h,d){return 0===n?function(t,e,n,s,l,i,r,o,u,a,c,h){const d=e.bindings.length;d>0&&gl(t,e,0,n),d>1&&gl(t,e,1,s),d>2&&gl(t,e,2,l),d>3&&gl(t,e,3,i),d>4&&gl(t,e,4,r),d>5&&gl(t,e,5,o),d>6&&gl(t,e,6,u),d>7&&gl(t,e,7,a),d>8&&gl(t,e,8,c),d>9&&gl(t,e,9,h)}(t,e,s,l,i,r,o,u,a,c,h,d):function(t,e,n){for(let s=0;s<n.length;s++)gl(t,e,s,n[s])}(t,e,s),!1}function dr(t,e){if(el(t,e.nodeIndex).dirty)throw sl(nl.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function pr(t){if(!(128&t.state)){if(mr(t,fr.Destroy),gr(t,fr.Destroy),Fi(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=vl(t);if(e){const n=e.template._projectedViews;n&&(ei(n,n.indexOf(t)),nl.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(Zs(t,n).renderElement):2&e.flags?t.renderer.destroyNode(Qs(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&el(t,n).destroy()}}(t),Cl(t)&&t.renderer.destroy(),t.state|=128}}const fr=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function gr(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let s=0;s<n.nodes.length;s++){const l=n.nodes[s];33554432&l.flags?_r(Zs(t,s).componentView,e):0==(33554432&l.childFlags)&&(s+=l.childCount)}}function mr(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let s=0;s<n.nodes.length;s++){const l=n.nodes[s];if(16777216&l.flags){const n=Zs(t,s).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)_r(n[t],e)}else 0==(16777216&l.childFlags)&&(s+=l.childCount)}}function _r(t,e){const n=t.state;switch(e){case fr.CheckNoChanges:0==(128&n)&&(12==(12&n)?or(t):64&n&&yr(t,fr.CheckNoChangesProjectedViews));break;case fr.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?or(t):64&n&&yr(t,e));break;case fr.CheckAndUpdate:0==(128&n)&&(12==(12&n)?ur(t):64&n&&yr(t,fr.CheckAndUpdateProjectedViews));break;case fr.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?ur(t):64&n&&yr(t,e));break;case fr.Destroy:pr(t);break;case fr.CreateViewNodes:rr(t)}}function yr(t,e){mr(t,e),gr(t,e)}function vr(t,e,n,s){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const l=t.def.nodes.length;for(let i=0;i<l;i++){const l=t.def.nodes[i];if(l.flags&e&&l.flags&n)switch(nl.setCurrentNode(t,l.nodeIndex),s){case 0:$i(t,l);break;case 1:dr(t,l)}l.childFlags&e&&l.childFlags&n||(i+=l.childCount)}}let br=!1;function wr(t,e,n,s,l,i){const r=l.injector.get(Ie);return nr(Sr(t,l,r,e,n),s,i)}function Cr(t,e,n,s,l,i){const r=l.injector.get(Ie),o=Sr(t,l,new eo(r),e,n),u=Nr(s);return Jr(Br.create,nr,null,[o,u,i])}function Sr(t,e,n,s,l){const i=e.injector.get(Ne),r=e.injector.get(vn),o=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:s,selectorOrNode:l,sanitizer:i,rendererFactory:n,renderer:o,errorHandler:r}}function Tr(t,e,n,s){const l=Nr(n);return Jr(Br.create,er,null,[t,e,l,s])}function xr(t,e,n,s){return n=Rr.get(e.element.componentProvider.provider.token)||Nr(n),Jr(Br.create,sr,null,[t,e,n,s])}function Er(t,e,n,s){return _i(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===kr.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(t=>{const s=kr.get(t.token);3840&t.flags&&s&&(e=!0,n=n||s.deprecatedBehavior)}),t.modules.forEach(t=>{Ir.forEach((s,l)=>{pt(l).providedIn===t&&(e=!0,n=n||s.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const s=t.providers[e];n&&(s.flags|=4096);const l=kr.get(s.token);l&&(s.flags=-3841&s.flags|l.flags,s.deps=El(l.deps),s.value=l.value)}if(Ir.size>0){let e=new Set(t.modules);Ir.forEach((s,l)=>{if(e.has(pt(l).providedIn)){let e={token:l,flags:s.flags|(n?4096:0),deps:El(s.deps),value:s.value,index:t.providers.length};t.providers.push(e),t.providersByKey[ul(l)]=e}})}}(t=t.factory(()=>rl)),t):t}(s))}const kr=new Map,Ir=new Map,Rr=new Map;function Ar(t){let e;kr.set(t.token,t),"function"==typeof t.token&&(e=pt(t.token))&&"function"==typeof e.providedIn&&Ir.set(t.token,t)}function Or(t,e){const n=Rl(e.viewDefFactory),s=Rl(n.nodes[0].element.componentView);Rr.set(t,s)}function Pr(){kr.clear(),Ir.clear(),Rr.clear()}function Nr(t){if(0===kr.size)return t;const e=function(t){const e=[];let n=null;for(let s=0;s<t.nodes.length;s++){const l=t.nodes[s];1&l.flags&&(n=l),n&&3840&l.flags&&kr.has(l.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>rl);for(let s=0;s<e.length;s++)n(t,e[s]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=kr.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=El(n.deps),t.value=n.value)}}}}function Mr(t,e,n,s,l,i,r,o,u,a,c,h,d){const p=t.def.nodes[e];return ar(t,p,n,s,l,i,r,o,u,a,c,h,d),224&p.flags?tl(t,e).value:void 0}function Dr(t,e,n,s,l,i,r,o,u,a,c,h,d){const p=t.def.nodes[e];return hr(t,p,n,s,l,i,r,o,u,a,c,h,d),224&p.flags?tl(t,e).value:void 0}function Wr(t){return Jr(Br.detectChanges,ur,null,[t])}function Lr(t){return Jr(Br.checkNoChanges,or,null,[t])}function Vr(t){return Jr(Br.destroy,pr,null,[t])}const Br=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let Fr,jr,Ur;function Hr(t,e){jr=t,Ur=e}function zr(t,e,n,s){return Hr(t,e),Jr(Br.handleEvent,t.def.handleEvent,null,[t,e,n,s])}function $r(t,e){if(128&t.state)throw il(Br[Fr]);return Hr(t,Xr(t,0)),t.def.updateDirectives(function(t,n,s,...l){const i=t.def.nodes[n];return 0===e?Yr(t,i,s,l):qr(t,i,s,l),16384&i.flags&&Hr(t,Xr(t,n)),224&i.flags?tl(t,i.nodeIndex).value:void 0},t)}function Gr(t,e){if(128&t.state)throw il(Br[Fr]);return Hr(t,Kr(t,0)),t.def.updateRenderer(function(t,n,s,...l){const i=t.def.nodes[n];return 0===e?Yr(t,i,s,l):qr(t,i,s,l),3&i.flags&&Hr(t,Kr(t,n)),224&i.flags?tl(t,i.nodeIndex).value:void 0},t)}function Yr(t,e,n,s){if(ar(t,e,n,...s)){const r=1===n?s[0]:s;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const s=e.bindings[t],o=r[t];8&s.flags&&(n[(l=s.nonMinifiedName,i=void 0,i=l.replace(/[$@]/g,"_"),`ng-reflect-${l=i.replace(Ft,(...t)=>"-"+t[1].toLowerCase())}`)]=jt(o))}const s=e.parent,o=Zs(t,s.nodeIndex).renderElement;if(s.element.name)for(let e in n){const s=n[e];null!=s?t.renderer.setAttribute(o,e,s):t.renderer.removeAttribute(o,e)}else t.renderer.setValue(o,`bindings=${JSON.stringify(n,null,2)}`)}}var l,i}function qr(t,e,n,s){hr(t,e,n,...s)}function Xr(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function Kr(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class Qr{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,s=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&s;)n=bl(s),s=s.parent;this.elDef=n,this.elView=s}get elOrCompView(){return Zs(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return di(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){Zr(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&Zr(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!Cl(t);)t=t.parent;return t.parent?Zs(t.parent,bl(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?wl(this.view,this.nodeDef):wl(this.elView,this.elDef)}logError(t,...e){let n,s;2&this.nodeDef.flags?(n=this.view.def,s=this.nodeDef.nodeIndex):(n=this.elView.def,s=this.elDef.nodeIndex);const l=function(t,e){let n=-1;for(let s=0;s<=e;s++)3&t.nodes[s].flags&&n++;return n}(n,s);let i=-1;n.factory(()=>++i===l?t.error.bind(t,...e):rl),i<l&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function Zr(t,e,n){for(let s in e.references)n[s]=Yi(t,e,e.references[s])}function Jr(t,e,n,s){const l=Fr,i=jr,r=Ur;try{Fr=t;const u=e.apply(n,s);return jr=i,Ur=r,Fr=l,u}catch(o){if(mn(o)||!jr)throw o;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),ll(t,e),t}(o,to())}}function to(){return jr?new Qr(jr,Ur):null}class eo{constructor(t){this.delegate=t}createRenderer(t,e){return new no(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class no{constructor(t){this.delegate=t,this.debugContextFactory=to,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){!function(t){xs.delete(t.nativeNode)}(Es(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),s=this.createDebugContext(n);if(s){const e=new Ts(n,null,s);e.name=t,ks(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&ks(new Ss(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&ks(new Ss(e,null,n)),e}appendChild(t,e){const n=Es(t),s=Es(e);n&&s&&n instanceof Ts&&n.addChild(s),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const s=Es(t),l=Es(e),i=Es(n);s&&l&&s instanceof Ts&&s.insertBefore(i,l),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=Es(t),s=Es(e);n&&s&&n instanceof Ts&&n.removeChild(s),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),s=to();return s&&ks(new Ts(n,null,s)),n}setAttribute(t,e,n,s){const l=Es(t);l&&l instanceof Ts&&(l.attributes[s?s+":"+e:e]=n),this.delegate.setAttribute(t,e,n,s)}removeAttribute(t,e,n){const s=Es(t);s&&s instanceof Ts&&(s.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=Es(t);n&&n instanceof Ts&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=Es(t);n&&n instanceof Ts&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,s){const l=Es(t);l&&l instanceof Ts&&(l.styles[e]=n),this.delegate.setStyle(t,e,n,s)}removeStyle(t,e,n){const s=Es(t);s&&s instanceof Ts&&(s.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const s=Es(t);s&&s instanceof Ts&&(s.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const s=Es(t);s&&s.listeners.push(new Cs(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function so(t,e,n){return new lo(t,e,n)}class lo extends Te{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(br)return;br=!0;const t=Ve()?{setCurrentNode:Hr,createRootView:Cr,createEmbeddedView:Tr,createComponentView:xr,createNgModuleRef:Er,overrideProvider:Ar,overrideComponentView:Or,clearOverrides:Pr,checkAndUpdateView:Wr,checkNoChangesView:Lr,destroyView:Vr,createDebugContext:(t,e)=>new Qr(t,e),handleEvent:zr,updateDirectives:$r,updateRenderer:Gr}:{setCurrentNode:()=>{},createRootView:wr,createEmbeddedView:er,createComponentView:sr,createNgModuleRef:_i,overrideProvider:rl,overrideComponentView:rl,clearOverrides:rl,checkAndUpdateView:ur,checkNoChangesView:or,destroyView:pr,createDebugContext:(t,e)=>new Qr(t,e),handleEvent:(t,e,n,s)=>t.def.handleEvent(t,e,n,s),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?Mr:Dr,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?Mr:Dr,t)};nl.setCurrentNode=t.setCurrentNode,nl.createRootView=t.createRootView,nl.createEmbeddedView=t.createEmbeddedView,nl.createComponentView=t.createComponentView,nl.createNgModuleRef=t.createNgModuleRef,nl.overrideProvider=t.overrideProvider,nl.overrideComponentView=t.overrideComponentView,nl.clearOverrides=t.clearOverrides,nl.checkAndUpdateView=t.checkAndUpdateView,nl.checkNoChangesView=t.checkNoChangesView,nl.destroyView=t.destroyView,nl.resolveDep=Li,nl.createDebugContext=t.createDebugContext,nl.handleEvent=t.handleEvent,nl.updateDirectives=t.updateDirectives,nl.updateRenderer=t.updateRenderer,nl.dirtyParentQueries=zi}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),s={};for(const l in t.providersByKey)s[l]=t.providersByKey[l];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:s}}(Rl(this._ngModuleDefFactory));return nl.createNgModuleRef(this.moduleType,t||Zt.NULL,this._bootstrapComponents,e)}}class io{}class ro{constructor(){this.itsLog=[],this.itsLimit=4,this.add("log:")}setLimit(t){this.itsLimit=Math.max(t,1),this.truncate()}getLimit(){return this.itsLimit}add(t){console.log(t),this.itsLog.push(t),this.truncate()}truncate(){for(;this.itsLog.length>this.itsLimit;)this.itsLog.shift()}clear(){this.itsLog.length=0}getLength(){return this.itsLog.length}getItem(t){let e="";return t>=0&&t<this.itsLog.length&&(e=this.itsLog[t]),e}getItems(){return this.itsLog}}ro.ngInjectableDef=dt({factory:function(){return new ro},token:ro,providedIn:"root"});class oo{constructor(){}static setLog(t){oo.itsLog=t}static add(t){null!==oo.itsLog&&oo.itsLog.add(t)}}oo.itsLog=null;class uo{constructor(){}static setHttp(t){uo.itsHttp=t}static getHttp(){return uo.itsHttp}}function ao(t){return null!=t}uo.itsHttp=null;class co{constructor(t,e){this.x=0,this.y=0,this.set(t,e)}set(t,e){ao(t)&&(this.x=t),ao(e)&&(this.y=e)}getArray(){const t=[];return t.push(this.x),t.push(this.y),t}toString(){return"Txy("+this.x+","+this.y+")"}}class ho{constructor(t,e,n,s){this.x=0,this.y=0,this.w=1,this.h=1,this.set(t,e,n,s)}set(t,e,n,s){ao(t)&&(this.x=t),ao(e)&&(this.y=e),ao(n)&&(this.w=n),ao(s)&&(this.h=s)}isInside(t){const e=t.x,n=this.x;if(e<n)return!1;if(e>n+this.w)return!1;const s=t.y,l=this.y;return!(s<l||s>l+this.h)}toString(){return"Txywh("+this.x+","+this.y+","+this.w+","+this.h+")"}}class po{constructor(){this.data=[]}clear(){this.data=[]}getLength(){return this.data.length}add(t,e,n,s){ao(t)&&this.data.push(t),ao(e)&&this.data.push(e),ao(n)&&this.data.push(n),ao(s)&&this.data.push(s)}getArray(){const t=[],e=this.data.length;for(let n=0;n<e;n++){const e=this.data[n];t.push(e.x),t.push(e.y)}return t}}class fo{constructor(){this.data=[]}clear(){this.data=[]}getLength(){return this.data.length}add(t,e,n,s){ao(t)&&this.data.push(t),ao(e)&&this.data.push(e),ao(n)&&this.data.push(n),ao(s)&&this.data.push(s)}getArray(){const t=[],e=this.data.length;for(let n=0;n<e;n++){const e=this.data[n];t.push(e.x),t.push(e.y),t.push(e.w),t.push(e.h)}return t}isInside(t){let e=-1;const n=this.data.length;for(let s=0;s<n;s++)if(this.data[s].isInside(t)){e=s;break}return e}}class go{constructor(){}static log(t){oo.add(t)}static errorCallback(t){go.log(t)}static isValid(t){return null!=t}static isJPG(t){let e=!1;return go.isValid(t)&&(e=t.toLowerCase().endsWith(".jpg")),e}static isMP4(t){let e=!1;return go.isValid(t)&&(e=t.toLowerCase().endsWith(".mp4")),e}static getTextureCount(){return go.itsTextureCount}static getFramebufferCount(){return go.itsFramebufferCount}static getBufferCount(){return go.itsBufferCount}static getVertexArrayCount(){return go.itsVertexArrayCount}static createFramebuffer(t){const e=t.createFramebuffer();return go.ok(t)&&go.itsFramebufferCount++,e}static deleteFramebuffer(t,e){t.deleteFramebuffer(e),go.ok(t)&&go.itsFramebufferCount++}static createBuffer(t){const e=t.createBuffer();return go.ok(t)&&go.itsBufferCount++,e}static deleteBuffer(t,e){t.deleteBuffer(e),go.ok(t)&&go.itsBufferCount++}static createVertexArray(t){const e=t.createVertexArray();return go.ok(t)&&go.itsVertexArrayCount++,e}static deleteVertexArray(t,e){t.deleteVertexArray(e),go.ok(t)&&go.itsVertexArrayCount++}static deleteTexture(t,e){t.deleteTexture(e),go.ok(t)&&go.itsTextureCount--}static createTextureLinear(t){const e=t.createTexture();return go.ok(t)&&go.itsTextureCount++,go.setupTextureLinear(t,e),e}static createTextureNearest(t){const e=t.createTexture();return go.ok(t)&&go.itsTextureCount++,go.setupTextureNearest(t,e),e}static primeTexRGBA8U(t,e,n,s,l){const i=t.RGBA,r=t.RGBA,o=t.UNSIGNED_BYTE;let u=l;if(!1===go.isValid(u)){u=new Uint8Array(e*n*4);let t=0,l=0,i=0,r=255;if(go.isValid(s)){const e=255;r=s&e,i=(s>>=8)&e,l=(s>>=8)&e,t=(s>>=8)&e}const o=e*n;let a=0;for(let e=0;e<o;e++)u[a++]=t,u[a++]=l,u[a++]=i,u[a++]=r}t.pixelStorei(t.UNPACK_ALIGNMENT,1),go.ok(t),t.texImage2D(t.TEXTURE_2D,0,i,e,n,0,r,o,u),go.ok(t)}static primeTexRGBA32F(t,e,n,s){const l=t.RGBA32F,i=t.RGBA,r=t.FLOAT;let o=s;!1===go.isValid(o)&&(o=new Float32Array(e*n*4)),t.pixelStorei(t.UNPACK_ALIGNMENT,1),go.ok(t),t.texImage2D(t.TEXTURE_2D,0,l,e,n,0,i,r,o),go.ok(t)}static copyImageToTexture(t,e){t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),go.ok(t)}static setupTextureLinear(t,e){go.setupTextureFilter(t,e,t.LINEAR)}static setupTextureNearest(t,e){go.setupTextureFilter(t,e,t.NEAREST)}static setupTextureFilter(t,e,n){const s=t.TEXTURE_2D,l=t.CLAMP_TO_EDGE;t.bindTexture(t.TEXTURE_2D,e),go.ok(t),t.texParameteri(s,t.TEXTURE_MIN_FILTER,n),go.ok(t),t.texParameteri(s,t.TEXTURE_MAG_FILTER,n),go.ok(t),t.texParameteri(s,t.TEXTURE_WRAP_S,l),go.ok(t),t.texParameteri(s,t.TEXTURE_WRAP_T,l),go.ok(t)}static bindTexture(t,e){t.bindTexture(t.TEXTURE_2D,e),go.ok(t)}static unbindTexture(t){t.bindTexture(t.TEXTURE_2D,null),go.ok(t)}static ok(t,e){let n=!0;const s=t.getError();if(s!==t.NO_ERROR){const l=go.getErrorMsg(t,s);go.log("Error "+s+" "+l+" "+(e||"")),n=!1}return n}static getErrorMsg(t,e){let n="";switch(e){case t.NO_ERROR:n="NO_ERROR";break;case t.INVALID_ENUM:n="INVALID_ENUM";break;case t.INVALID_VALUE:n="INVALID_VALUE";break;case t.INVALID_OPERATION:n="INVALID_OPERATION";break;case t.INVALID_FRAMEBUFFER_OPERATION:n="INVALID_FRAMEBUFFER_OPERATION";break;case t.OUT_OF_MEMORY:n="OUT_OF_MEMORY";break;case t.CONTEXT_LOST_WEBGL:n="CONTEXT_LOST_WEBGL"}return n}static createProgramFromSources(t,e,n,s,l){const i=e.length;if(0===i)return null;const r=[];for(let u=0;u<i;u++){const n=go.loadShader(t,e[u],t[go.itsDefaultShaderType[u]],l);if(null===n)break;r.push(n)}const o=r.length;if(i!==o){for(let e=0;e<o;e++)t.deleteShader(r[e]);return null}return go.createProgram(t,r,n,s,l)}static loadShader(t,e,n,s){const l=s||go.errorCallback,i=t.createShader(n);return t.shaderSource(i,e),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)?i:(l("Error compiling shader "+i+":"+t.getShaderInfoLog(i)),t.deleteShader(i),null)}static createProgram(t,e,n,s,l){const i=l||go.errorCallback,r=t.createProgram();go.ok(t);const o=e.length;for(let u=0;u<o;u++)t.attachShader(r,e[u]),go.ok(t);if(n){const e=n.length;for(let l=0;l<e;l++)t.bindAttribLocation(r,s?s[l]:l,n[l]),go.ok(t)}return t.linkProgram(r),go.ok(t),t.getProgramParameter(r,t.LINK_STATUS)?r:(i("Error in program linking:"+t.getProgramInfoLog(r)),t.deleteProgram(r),null)}static resizeCanvasToDisplaySize(t,e){const n=t.clientWidth*(e=e||1),s=t.clientHeight*e;return(t.width!==n||t.height!==s)&&(t.width=n,t.height=s,!0)}static setRectangleXYWH(t,e,n,s,l){const i=e,r=e+s,o=n,u=n+l,a=new co(i,o),c=new co(r,o),h=new co(r,u),d=new co(i,u),p=new po;p.add(a,c,h),p.add(h,d,a);const f=new Float32Array(p.getArray());t.bufferData(t.ARRAY_BUFFER,f,t.STATIC_DRAW),go.ok(t)}static setRectangleScaleRot(t,e,n,s,l,i,r,o,u){const a=i/s,c=r/l,h=.5*a,d=.5*c;let p=Math.sqrt(h*h+d*d);p*=o;const f=Math.atan2(c,a);let g=f,m=Math.PI-f,_=Math.PI+f,y=-f;const v=go.degToRad(u);g+=v,m+=v,_+=v,y+=v;const b=e-p*Math.cos(g),w=n-p*Math.sin(g),C=e-p*Math.cos(m),S=n-p*Math.sin(m),T=e-p*Math.cos(_),x=n-p*Math.sin(_),E=e-p*Math.cos(y),k=n-p*Math.sin(y),I=new co(b,w),R=new co(C,S),A=new co(T,x),O=new co(E,k),P=new po;P.add(I,R,A),P.add(A,O,I);const N=new Float32Array(P.getArray());t.bufferData(t.ARRAY_BUFFER,N,t.STATIC_DRAW),go.ok(t)}static setRectangleScaleRotOutline(t,e,n,s,l,i){const r=s,o=l,u=.5*Math.sqrt(r*r+o*o),a=Math.atan2(r,o);let c=a,h=Math.PI-a,d=Math.PI+a,p=-a;const f=go.degToRad(i);c+=f,h+=f,d+=f,p+=f;const g=e-u*Math.cos(c),m=n-u*Math.sin(c),_=e-u*Math.cos(h),y=n-u*Math.sin(h),v=e-u*Math.cos(d),b=n-u*Math.sin(d),w=e-u*Math.cos(p),C=n-u*Math.sin(p),S=new co(g,m),T=new co(_,y),x=new co(v,b),E=new co(w,C),k=new po;k.add(S,T,x,E);const I=new Float32Array(k.getArray());t.bufferData(t.ARRAY_BUFFER,I,t.STATIC_DRAW),go.ok(t)}static degToRad(t){return t*(Math.PI/180)}static radToDeg(t){return t*(180/Math.PI)}}go.itsDefaultShaderType=["VERTEX_SHADER","FRAGMENT_SHADER"],go.itsTextureCount=0,go.itsFramebufferCount=0,go.itsBufferCount=0,go.itsVertexArrayCount=0;class mo{}mo.CodeVersion="1.0",mo.Core_Canvas="W_Canvas",mo.Mode_None=0,mo.Mode_Fill=1,mo.Mode_Copy=2,mo.Mode_Threshold=3,mo.Mode_Scramble=4,mo.Mode_Tuple=5,mo.Mode_Address=6,mo.Mode_Decode=7,mo.Mode_Match=8,mo.Mode_Merge=9,mo.Mode_ScoreIn=10,mo.Mode_ScoreOut=11,mo.ViewWH_Min=1,mo.ViewWH_Max=1024,mo.ViewWH_Def=32,mo.ScrambleSeed_Def=32,mo.TupleW_Min=1,mo.TupleW_Max=10,mo.TupleW_Def=8,mo.StoreCount_Min=0,mo.StoreCount_Max=26,mo.StoreCount_Def=0,mo.Assets_Input="./assets/input/",mo.Assets_Images="./assets/images/",mo.Assets_Icons="./assets/icons/";class _o{}_o.V="#version 300 es\nprecision mediump float;\nprecision mediump int;\n\nin vec2 a2f_position;\nin vec2 a2f_texCoord;\n\n// Used to pass in the resolution of the canvas\nuniform vec2 u2f_resolution;\nuniform float u1f_flipY;\n\n// Used to pass the texture coordinates to the fragment shader\nout vec2 v_texCoord;\n\n// all shaders have a main function\nvoid main() {\n\n  // convert the position in pixels to the range 0.0 -> 1.0\n  vec2 zeroToOne = a2f_position / u2f_resolution;\n\n  // convert range from 0.0 -> 1.0 to 0.0 -> 2.0\n  vec2 zeroToTwo = zeroToOne * 2.0;\n\n  // convert from 0.0 -> 2.0 to -1.0 -> +1.0 (clipspace)\n  vec2 clipSpace = zeroToTwo - 1.0;\n\n  gl_Position = vec4(clipSpace * vec2(1.0, u1f_flipY), 0.0, 1.0);\n\n  // pass the texCoord to the fragment shader\n  // The GPU will interpolate this value between points.\n  v_texCoord = a2f_texCoord;\n}\n";class yo{}yo.F="#version 300 es\nprecision mediump float;\nprecision mediump int;\n\n//what sort of processing to perform.\nuniform int u1i_mode;\nuniform float u1f_threshold;\nuniform int u1i_reverse;\nuniform int u1i_nwidth;\nuniform vec2 u2f_resolution;\nuniform vec3 u3f_color;\n\n// textures\nuniform sampler2D u1i_image0;\nuniform sampler2D u1i_image1;\n\n// the texCoords passed in from the vertex shader.\nin vec2 v_texCoord;\n\n// we need to declare an output for the fragment shader\nout vec4 outColor;\n\n//--------\n//simple color fill\nvoid modeFill(){\n  outColor = vec4(u3f_color,1.0);\n}\n//--------\n//simple texture copy.\nvoid modeCopy(){\n  outColor = texture(u1i_image0, v_texCoord);\n}\n//--------\n//copy and threshold texture\nvoid modeThreshold(){\n  vec3 rgb = texture(u1i_image0, v_texCoord).rgb;\n  float v = (rgb.r +  rgb.g + rgb.b) / 3.0;\n  float c = (v < u1f_threshold) ? 0.0 : 1.0;\n  outColor = vec4(c,c,c,1.0);\n}\n//--------\n//forward scramble.\nvoid modePScrambleF(){\n  vec4 xyzw = texture(u1i_image1,v_texCoord);\n  vec2 mxy = xyzw.xy;\n  outColor = texture(u1i_image0, mxy);\n}\n//----\n//reserve scramble\nvoid modePScrambleR(){\n  vec4 xyzw = texture(u1i_image1,v_texCoord);\n  vec2 mxy = xyzw.zw;\n  outColor = texture(u1i_image0, mxy);\n}\n//----\n//pscramble\nvoid modePScramble(){\n  if (u1i_reverse == 0){\n    modePScrambleF();\n  }else{\n    modePScrambleR();\n  }\n}\n//--------\n//break a texture up into tuples.\nvoid modeNTuple(){\n  vec4 xyzw = texture(u1i_image1,v_texCoord);\n  vec2 mxy = xyzw.xy;\n  outColor = texture(u1i_image0, mxy);\n}\n//--------\n//forward address.\n//\n//for each row, convert N_pixels into a packed RGB value.\n//\nvoid modeAddressF(){\n  //which row.\n  float y = v_texCoord.y;\n  //\n  float dw = 1.0 / float(u1i_nwidth);\n  float hdw = dw * 0.5;\n  //\n  int is0 = 0;\n  int is1 = 0;\n  int is2 = 0;\n  //\n  int ix;\n  float x = hdw;\n  //\n  for (ix = 0;ix < u1i_nwidth;ix++){\n    //\n    int imask = 1 << (ix & 7);\n    int iband = ix >> 3;\n    //\n    vec2 mxy = vec2(x,y);\n    //\n    float r = texture(u1i_image0, mxy).r;\n    int iv = r < 0.5 ? 0 : 1;\n    //\n    if (iv == 1){\n      switch(iband){\n        case 0:\n          is0 |= imask;\n          break;\n        case 1:\n          is1 |= imask;\n          break;\n        case 2:\n          is2 |= imask;\n          break;\n      }\n    }\n    x += dw;\n  }\n  //\n  float fs0 = float(is0);\n  float fs1 = float(is1);\n  float fs2 = float(is2);\n  //\n  //convert (0,255) to (0.0,1.0)\n  float dp = 1.0 / 255.0;\n  //\n  vec3 rgb;\n  rgb.r = dp * fs0;\n  rgb.g = dp * fs1;\n  rgb.b = dp * fs2;\n  outColor=vec4(rgb,1.0);\n}\n//----\n//reverse address\n//for each row, convert a packed RGB value into N_pixels.\nvoid modeAddressR(){\n  //\n  float x = v_texCoord.x;\n  float y = v_texCoord.y;\n  vec2 xy = vec2(0.5,y);\n  vec3 rgb = texture(u1i_image0, xy).rgb;\n  //\n  //convert (0.0,1.0) to (0.0,255.0)\n  float dp = 255.0;\n  int ir = int(floor(dp * rgb.r));\n  int ig = int(floor(dp * rgb.g));\n  int ib = int(floor(dp * rgb.b));\n  //\n  //determine the current X offset.\n  int ix = int(floor(x * u2f_resolution.x));\n  int imask = 1 << (ix & 7);\n  int iband = ix >> 3;\n  //\n  int iv = 0;\n  switch(iband){\n    case 0:\n      iv = ir;\n      break;\n    case 1:\n      iv = ig;\n      break;\n    case 2:\n      iv = ib;\n      break;\n  }\n  iv &= imask;\n  //\n  float c = iv == 0 ? 0.0 : 1.0;\n  outColor=vec4(c,c,c,1.0);\n}\n//----\n//address.\nvoid modeAddress(){\n    if (u1i_reverse == 0){\n    modeAddressF();\n  }else{\n    modeAddressR();\n  }\n}\n//--------\n//decode\n//for each row, convert a packed RGB value into an offset pixel.\n//u1i_image0 = packed rgb address.\nvoid modeDecode(){\n  //\n  float x = v_texCoord.x;\n  float y = v_texCoord.y;\n  //\n  vec3 rgb = texture(u1i_image0,vec2(0.5,y)).rgb;\n  //\n  //convert (0.0,1.0) to (0.0,255.0)\n  float dp = 255.0;\n  int ip = 256;\n  int ir = int(floor(dp * rgb.r));\n  int ig = int(floor(dp * rgb.g)) * ip;\n  int ib = int(floor(dp * rgb.b)) * ip * ip;\n  int irgb = ir + ig + ib;\n  //\n  //determine the current X offset.\n  int ix = int(floor(x * u2f_resolution.x));\n  //\n  float c = ix == irgb ? 1.0 : 0.0;\n  outColor = vec4(vec3(c),1.0);\n  //\n}\n//--------\n//match\n//for each row, convert a packed RBG value into an offset pixel,\n//access the pixel and store its state in the output.\n//u_image0 = packed rgb address (1,F)\n//u_image1 = stored data        (2**N,F)\n//output   = matched features   (1,F)\nvoid modeMatch(){\n  //which row.\n  float aY = v_texCoord.y;\n  //\n  //read packed RGB address value from image0.\n  vec3 aRGB = texture(u1i_image0,vec2(0.5,aY)).rgb;\n  //\n  //unpack RGB value into 24bit integer.\n  //convert (0.0,1.0) to (0.0,255.0)\n  float aDP = 255.0;\n  int aIP = 256;\n  int aIR = int(floor(aDP * aRGB.r));\n  int aIG = int(floor(aDP * aRGB.g)) * aIP;\n  int aIB = int(floor(aDP * aRGB.b)) * aIP * aIP;\n  int aIRGB = aIR + aIG + aIB;\n  //\n  //Determine X offset into the store (image1).\n  //convert (0,w-1) to (FirstX,LastX)\n  int aW = textureSize(u1i_image1,0).x;\n  float aDW = 1.0 / float(aW);\n  float aHDW = aDW * 0.5;\n  float aX = aHDW + (aDW * float(aIRGB));\n  //\n  //access store\n  float aR = texture(u1i_image1,vec2(aX,aY)).r;\n  //\n  //populate the output bit.\n  float aC = aR > 0.5 ? 1.0 : 0.0;\n  //\n  outColor = vec4(vec3(aC),1.0);\n  //\n}\n//--------\n//merge\n//Combine the two sources to for one.\n//u1i_image0 = stored data (S,F)\n//u1i_image1 = stored data (S,F)\n//output   = merged data (S,F)\nvoid modeMerge(){\n  vec4 aI0 = texture(u1i_image0, v_texCoord);\n  vec4 aI1 = texture(u1i_image1, v_texCoord);\n  vec4 aS = aI0 + aI1;\n  outColor = clamp(aS,0.0,1.0);\n}\n//--------\n//modeScoreIn\n//\n//counts the number of feature that are active and turn this into packed RGB value\n//\n//u1i_image0 = packed rgb address (1,F)\n//output = score (1,1) range 0..F\n//\nvoid modeScoreIn(){\n  //\n  //how many features.\n  int aFeatureCount =  textureSize(u1i_image0,0).y;\n  float aDH = 1.0 / float(aFeatureCount);\n  float aHDH = aDH * 0.5;\n  //\n  //Count the number of set bits.\n  int aSum = 0;\n  float aSumY = aHDH;\n  int aIndex;\n  for (aIndex = 0;aIndex < aFeatureCount;aIndex++){\n    float aR = texture(u1i_image0,vec2(0.5,aSumY)).r;\n    if (aR > 0.5){\n      aSum++;\n    }\n    aSumY += aDH;\n  }\n  //Sum has a range of 0 to F\n  //\n  //Convert into packed RGB.\n  int aIR = aSum & 255;\n  aSum >>= 8;\n  int aIG = aSum & 255;\n  aSum >>= 8;\n  int aIB = aSum & 255;\n  //\n  float aDB = 1.0 / 256.0;\n  float aHDB = aDB * 0.5;\n  //\n  float aFR = aHDB + (aDB*float(aIR));\n  float aFG = aHDB + (aDB*float(aIG));\n  float aFB = aHDB + (aDB*float(aIB));\n  //\n  outColor = vec4(aFR,aFG,aFB,1.0);\n}\n//--------\n//modeScoreOut\n//\n//Create a simple bar graph.\n//\n//IN:\n//u1f_threshold = how much of the bar to fill (0.0,1.0)\n//u3f_color = colour of the bar graph.\n//v_texCoord = current position.\n//\n//OUT:\n//output = score bar graph (1,F)\n//\nvoid modeScoreOut(){\n  //Current row.\n  float aY = v_texCoord.y;\n  //\n  //paint a thermometer.\n  float aFlipY = 1.0 - aY;\n  vec3 c = vec3(0.0);\n  if (u1f_threshold > aFlipY) {\n    c = u3f_color;\n  }\n  //\n  outColor = vec4(c,1.0);\n}\n//--------\n//\nvoid main() {\n  //\n  switch(u1i_mode){\n    default:\n    case 0:\n      modeCopy();\n      break;\n      //\n    case 1:\n      modeFill();\n      break;\n      //\n    case 2:\n      modeCopy();\n      break;\n      //\n    case 3:\n      modeThreshold();\n      break;\n      //\n    case 4:\n      modePScramble();\n      break;\n      //\n    case 5:\n      modeNTuple();\n      break;\n      //\n    case 6:\n      modeAddress();\n      break;\n      //\n    case 7:\n      modeDecode();\n      break;\n      //\n    case 8:\n      modeMatch();\n      break;\n      //\n    case 9:\n      modeMerge();\n      break;\n      //\n    case 10:\n      modeScoreIn();\n      break;\n      //\n    case 11:\n      modeScoreOut();\n      break;\n    //----\n  }\n}\n";class vo{constructor(){this.itsStatus="",this.itsOpen=!1,this.itsGL=null,this.itsProgram=null,this.itsVA=null,this.itsBuf_A2f_TexCoord=null,this.itsBuf_A2f_Position=null,this.itsFramebuffer=null,this.its1x1=null}static getInst(){return null===vo.itsInst&&(vo.itsInst=new vo),vo.itsInst}getStatus(){return this.itsStatus}isOpen(){return this.itsOpen}open(){if(!0===this.itsOpen)return!0;this.itsStatus="";const t=document.getElementById(mo.Core_Canvas);if(null===t)return this.log("coreOpen: Failed to locate canvas."),this.itsStatus="no canvas",!1;const e=t.getContext("webgl2");return null===e?(this.log("coreOpen: Failed to allocate GL."),this.itsStatus="failed to open webgl2",!1):(this.itsGL=e,this.itsProgram=go.createProgramFromSources(e,[_o.V,yo.F]),null==this.itsProgram?(this.close(),this.itsStatus="failed to open webgl2/program",!1):(this.itsA2f_TexCoord=this.AL("a2f_texCoord"),this.itsA2f_Position=this.AL("a2f_position"),this.itsU1i_Mode=this.UL("u1i_mode"),this.itsU1f_Threshold=this.UL("u1f_threshold"),this.itsU1i_Reverse=this.UL("u1i_reverse"),this.itsU1i_NWidth=this.UL("u1i_nwidth"),this.itsU2f_Resolution=this.UL("u2f_resolution"),this.itsU3f_Color=this.UL("u3f_color"),this.itsU1f_FlipY=this.UL("u1f_flipY"),this.itsU1i_Image0=this.UL("u1i_image0"),this.itsU1i_Image1=this.UL("u1i_image1"),this.itsVA=go.createVertexArray(e),e.bindVertexArray(this.itsVA),this.ok(),this.itsBuf_A2f_Position=go.createBuffer(e),e.enableVertexAttribArray(this.itsA2f_Position),this.ok(),e.bindBuffer(e.ARRAY_BUFFER,this.itsBuf_A2f_Position),this.ok(),e.vertexAttribPointer(this.itsA2f_Position,2,e.FLOAT,!1,0,0),this.ok(),this.itsBuf_A2f_TexCoord=go.createBuffer(e),e.enableVertexAttribArray(this.itsA2f_TexCoord),this.ok(),e.bindBuffer(e.ARRAY_BUFFER,this.itsBuf_A2f_TexCoord),this.ok(),e.vertexAttribPointer(this.itsA2f_TexCoord,2,e.FLOAT,!1,0,0),this.ok(),this.itsFramebuffer=go.createFramebuffer(e),e.bindFramebuffer(e.FRAMEBUFFER,this.itsFramebuffer),this.ok(),this.its1x1=go.createTextureNearest(e),go.primeTexRGBA8U(e,1,1),go.unbindTexture(e),this.itsOpen=!0,this.itsStatus="ok",!0))}close(){this.itsOpen=!1;const t=this.itsGL;null!==t&&(go.unbindTexture(t),null!==this.its1x1&&(go.deleteTexture(t,this.its1x1),this.its1x1=null),null!==this.itsFramebuffer&&(go.deleteFramebuffer(t,this.itsFramebuffer),this.itsFramebuffer=null),t.bindBuffer(t.ARRAY_BUFFER,null),this.ok(),null!==this.itsBuf_A2f_TexCoord&&(go.deleteBuffer(t,this.itsBuf_A2f_TexCoord),this.itsBuf_A2f_TexCoord=null),null!==this.itsBuf_A2f_Position&&(go.deleteBuffer(t,this.itsBuf_A2f_Position),this.itsBuf_A2f_Position=null),t.bindVertexArray(null),this.ok(),null!==this.itsVA&&(go.deleteVertexArray(t,this.itsVA),this.itsVA=null),t.useProgram(null),this.ok(),null!==this.itsProgram&&(t.deleteProgram(this.itsProgram),this.ok(),this.itsProgram=null))}AL(t){const e=this.itsGL.getAttribLocation(this.itsProgram,t);return go.ok(this.itsGL),e}UL(t){const e=this.itsGL.getUniformLocation(this.itsProgram,t);return go.ok(this.itsGL),e}getGL(){return this.itsGL}processBegin(){}processEnd(){if(!1===this.itsOpen)return;const t=this.itsGL;t.bindTexture(t.TEXTURE_2D,null),this.ok("bindTexture"),t.bindBuffer(t.ARRAY_BUFFER,null),this.ok("bindBuffer"),t.bindVertexArray(null),this.ok("bindVertexArray"),t.bindFramebuffer(t.FRAMEBUFFER,null),this.ok(),t.useProgram(null),this.ok("useProgram")}processPrepTextureToTexture(t,e,n,s){if(!1===this.itsOpen)return;const l=this.getGL();let i=null;go.isValid(t)&&(i=t.getT());let r=0,o=0,u=1,a=1;go.isValid(n)&&(r=n.x,o=n.y,u=n.w,a=n.h);const c=e.getT(),h=e.getW(),d=e.getH();l.useProgram(this.itsProgram),this.ok(),l.bindVertexArray(this.itsVA),this.ok(),l.bindBuffer(l.ARRAY_BUFFER,this.itsBuf_A2f_TexCoord),this.ok(),go.setRectangleXYWH(l,r,o,u,a),l.bindBuffer(l.ARRAY_BUFFER,this.itsBuf_A2f_Position),this.ok(),go.setRectangleXYWH(l,0,0,h,d),this.setTextureUnit0(i),this.setTextureUnit1(i),l.viewport(0,0,h,d),this.ok(),l.uniform1f(this.itsU1f_FlipY,1),this.ok(),l.bindFramebuffer(l.FRAMEBUFFER,this.itsFramebuffer),this.ok(),l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,c,0),this.ok(),l.uniform2f(this.itsU2f_Resolution,h,d),this.ok(),l.uniform3f(this.itsU3f_Color,0,0,0),this.ok(),l.uniform1i(this.itsU1i_Mode,mo.Mode_Fill),this.ok(),l.uniform1i(this.itsU1i_Image0,0),this.ok(),l.uniform1i(this.itsU1i_Image1,1),this.ok(),l.uniform1i(this.itsU1i_Reverse,0),this.ok(),l.uniform1i(this.itsU1i_NWidth,1),this.ok(),l.uniform1f(this.itsU1f_Threshold,.5),this.ok()}processPrepTextureToScreen(t,e,n){if(!1===this.itsOpen)return;const s=this.getGL();go.resizeCanvasToDisplaySize(s.canvas);const l=s.canvas.width,i=s.canvas.height;let r=null;go.isValid(t)&&(r=t.getT());let o=0,u=0,a=1,c=1;go.isValid(e)&&(o=e.x,u=e.y,a=e.w,c=e.h);let h=0,d=0,p=l,f=i;go.isValid(n)&&(h=n.x,d=n.y,p=n.w,f=n.h),s.useProgram(this.itsProgram),this.ok(),s.bindVertexArray(this.itsVA),this.ok(),s.bindBuffer(s.ARRAY_BUFFER,this.itsBuf_A2f_TexCoord),this.ok(),go.setRectangleXYWH(s,o,u,a,c),s.bindBuffer(s.ARRAY_BUFFER,this.itsBuf_A2f_Position),this.ok(),go.setRectangleXYWH(s,0,0,p,f),this.setTextureUnit0(r),this.setTextureUnit1(r),s.viewport(h,d,p,f),this.ok(),s.uniform1f(this.itsU1f_FlipY,-1),this.ok(),s.bindFramebuffer(s.FRAMEBUFFER,null),this.ok(),s.uniform2f(this.itsU2f_Resolution,p,f),this.ok(),s.uniform3f(this.itsU3f_Color,0,0,0),this.ok(),s.uniform1i(this.itsU1i_Mode,mo.Mode_Fill),this.ok(),s.uniform1i(this.itsU1i_Image0,0),this.ok(),s.uniform1i(this.itsU1i_Image1,1),this.ok(),s.uniform1i(this.itsU1i_Reverse,0),this.ok(),s.uniform1i(this.itsU1i_NWidth,1),this.ok(),s.uniform1f(this.itsU1f_Threshold,.5),this.ok()}processSetMode(t){this.getGL().uniform1i(this.itsU1i_Mode,t),this.ok()}processSetThreshold(t){this.getGL().uniform1f(this.itsU1f_Threshold,t),this.ok()}processSetColor(t){this.getGL().uniform3f(this.itsU3f_Color,t[0],t[1],t[2]),this.ok()}processSetReverse(){this.getGL().uniform1i(this.itsU1i_Reverse,1),this.ok()}processSetNWidth(t){this.getGL().uniform1i(this.itsU1i_NWidth,t),this.ok()}processAddTexture1(t){this.setTextureUnit1(t)}setTextureUnit0(t){const e=t||this.its1x1,n=this.getGL();n.activeTexture(n.TEXTURE0),this.ok(),n.bindTexture(n.TEXTURE_2D,e),this.ok()}setTextureUnit1(t){const e=t||this.its1x1,n=this.getGL();n.activeTexture(n.TEXTURE1),this.ok(),n.bindTexture(n.TEXTURE_2D,e),this.ok()}processSrcPosition(t,e,n,s,l,i,r,o){const u=this.getGL();u.bindBuffer(u.ARRAY_BUFFER,this.itsBuf_A2f_TexCoord),this.ok(),go.setRectangleScaleRot(u,t,e,n,s,l,i,r,o)}processSrcPositionOutline(t,e,n,s,l){const i=this.getGL();i.bindBuffer(i.ARRAY_BUFFER,this.itsBuf_A2f_Position),go.setRectangleScaleRotOutline(i,t,e,n,s,l)}processDstClear(t,e,n,s){const l=this.getGL();let i=0,r=0,o=0,u=255;go.isValid(t)&&(i=t),go.isValid(e)&&(r=e),go.isValid(n)&&(o=n),go.isValid(s)&&(u=s),l.clearColor(i,r,o,u),this.ok(),l.clear(l.COLOR_BUFFER_BIT),this.ok()}processCopy(){const t=this.getGL();t.drawArrays(t.TRIANGLES,0,6),this.ok()}processCopyOutline(){const t=this.getGL();t.drawArrays(t.LINE_LOOP,0,4),this.ok()}clearBackground(){if(!1===this.itsOpen)return;const t=this.getGL();this.ok("clearBackground"),this.processEnd(),t.viewport(0,0,t.canvas.width,t.canvas.height),this.ok("viewport"),t.clearColor(0,0,0,0),this.ok("clearColor"),t.clear(t.COLOR_BUFFER_BIT),this.ok("clear")}copyImageToTexture(t,e){if(!1===this.itsOpen)return;const n=this.getGL();this.processBegin(),go.bindTexture(n,e),go.copyImageToTexture(n,t),this.processEnd()}ok(t){const e=this.getGL();return go.ok(e,t)}log(t){oo.add(t)}}vo.itsInst=null;class bo{constructor(){}static log(t){oo.add(t)}static isValid(t){return null!=t}static forceRange(t,e,n){let s=t;return s=Math.max(s,e),Math.min(s,n)}static getAlphaNumArray(t){const e=[];let n=t;for(;0!==n.length;){const t=bo.getAlphaNum(n);if(0===t.length)break;e.push(t);const s=n.slice(t.length);n=s}return e}static getAlphaNum(t){let e="";const n=t.length;let s=0,l=!1;for(;s<n;s++){const e=t.charAt(s);if(!0===bo.isDigit(e)){l=!0;break}}if(l){let l=!1;for(;s<n;s++){const n=t.charAt(s);if(!1===bo.isDigit(n)){l=!0,e=t.slice(0,s);break}}!1===l&&(e=t)}return e}static isDigit(t){let e=!1;if(null!=t&&t.length>0){const n=t[0];e=n>="0"&&n<="9"}return e}static isAlpha(t){let e=!1;if(null!=t&&t.length>0){const n=t[0],s=n>="A"&&n<="Z";e=n>="a"&&n<="z"||s}return e}static toN(t,e,n){let s=1;null!=e&&(s=e);let l=1e3;null!=n&&(l=n);let i=s;return null!=t&&(i=t),i<s&&(i=s),i>l&&(i=l),i}static getAddrH(t,e,n){return bo.toN(Math.ceil((t*e+0)/(n+0)))}static getHead(t){let e="";if(bo.isValid(t)){let n=t.indexOf(",");n<0&&(n=0),e=t.slice(0,n)}return e}static getTail(t){let e="";if(bo.isValid(t)){const n=t.length,s=t.indexOf(",");s>=0&&(e=t.slice(s+1,n))}return e}static parseInt(t){let e=parseInt(t,10);return isNaN(e)&&(e=0),e}static parseFloat(t){let e=parseFloat(t);return isNaN(e)&&(e=0),e}static checkStringArray(t){const e=[];try{const s=t.length;for(let n=0;n<s;n++)e.push(String(t[n]))}catch(n){}return e}}class wo{constructor(){this.itsT=null,this.itsW=0,this.itsH=0}isValid(){return null!==this.itsT}getT(){return this.itsT}getW(){return this.itsW}getH(){return this.itsH}allocateLinear(t,e,n){let s=!1;if(this.deallocate(),t>0&&e>0){const l=vo.getInst().getGL(),i=go.createTextureLinear(l);go.primeTexRGBA8U(l,t,e),go.isValid(n)&&go.copyImageToTexture(l,n),go.unbindTexture(l),this.itsT=i,this.itsW=t,this.itsH=e,s=!0}return s}allocateNearest(t,e,n,s){let l=!1;if(this.deallocate(),t>0&&e>0){const i=vo.getInst().getGL(),r=go.createTextureNearest(i);go.primeTexRGBA8U(i,t,e,n,s),go.unbindTexture(i),this.itsT=r,this.itsW=t,this.itsH=e,l=!0}return l}allocateNearestF32(t,e,n){let s=!1;if(this.deallocate(),t>0&&e>0){const l=vo.getInst().getGL(),i=go.createTextureNearest(l);go.primeTexRGBA32F(l,t,e,n),go.unbindTexture(l),this.itsT=i,this.itsW=t,this.itsH=e,s=!0}return s}deallocate(){if(null!==this.itsT){const t=vo.getInst().getGL();go.deleteTexture(t,this.itsT),this.itsT=null,this.itsW=0,this.itsH=0}}}class Co{constructor(t){this.itsName="",this.itsTexture=new wo,this.itsImage=null,this.itsName=t}getName(){return this.itsName}getTexture(){return this.itsTexture}deallocate(){this.itsImage=null,this.itsTexture.deallocate()}load(){this.deallocate();const t=mo.Assets_Icons+this.itsName+".jpg";this.itsImage=document.createElement("img"),this.itsImage.onerror=(()=>this.onError()),this.itsImage.onload=(()=>this.onLoad()),this.itsImage.src=t}onError(){this.itsImage=null}onLoad(){null!==this.itsImage&&(this.itsTexture.allocateLinear(this.itsImage.width,this.itsImage.height,this.itsImage),this.log("icon loaded - "+this.getName())),this.itsImage=null}log(t){oo.add(t)}}class So{constructor(){this.itsIcons=[]}static getInst(){return null===So.itsInst&&(So.itsInst=new So),So.itsInst}addNames(t){if(!1===bo.isValid(t))return;const e=t.length;for(let n=0;n<e;n++)this.addName(t[n])}addName(t){if(!1===bo.isValid(t))return;if(null!==this.findIcon(t))return;if(0===t.length)return;const e=new Co(t);this.itsIcons.push(e),e.load()}findIcon(t){let e=null;if(!0===bo.isValid(t)){const n=this.itsIcons.length;for(let s=0;s<n;s++){const n=this.itsIcons[s];if(t===n.getName()){e=n;break}}}return e}clear(){for(;this.itsIcons.length>0;)this.itsIcons.pop().deallocate()}}So.itsInst=null;class To{constructor(){this.itsClassifiers=[],this.itsRunning=!1,this.itsRenderCounter=0,this.itsRenderRateCounter=0,this.itsRenderRate=0,this.itsMouseXY=new co,this.init()}static getInst(){return null===To.itsInst&&(To.itsInst=new To),To.itsInst}init(){this.addMouseEvent("mousedown"),this.addMouseEvent("mousemove"),this.itsTimer=setInterval(()=>{this.tick()},1e3)}addMouseEvent(t){document.addEventListener(t,t=>{this.onMouseEvent(t)})}onMouseEvent(t){const e=vo.getInst();if(!1===e.isOpen())return;const n=e.getGL(),s=window.scrollX,l=window.scrollY;n.canvas.style.transform=`translate(${s}px,${l}px)`;const i=n.canvas.clientHeight,r=t.type;if("mousedown"===r||"mousemove"===r&&0!==t.buttons){const e=t.y;this.itsMouseXY.x=t.x,this.itsMouseXY.y=i-e,this.isInside(this.itsMouseXY)}}getCodeVersion(){return mo.CodeVersion}getTextureCount(){return go.getTextureCount()}getBufferCount(){return go.getBufferCount()}getFramebufferCount(){return go.getFramebufferCount()}getVertexArrayCount(){return go.getVertexArrayCount()}getRenderCounter(){return this.itsRenderCounter}getRenderRate(){return this.itsRenderRate}addClassifier(t){if(go.isValid(t)){const e=t.getConfig().getId();e<=0?this.log("addClassifier: failed - invalid Id"):(null!==this.findClassifierById(e)&&(this.log("addClassifier: warning - replacing classifier."),this.removeClassifierById(e)),this.itsClassifiers.push(t),t.allocate(),this.addIconNames(t))}}addIconNames(t){So.getInst().addNames(t.getConfig().getIconNames())}getClassifierCount(){return this.itsClassifiers.length}getClassifierByIndex(t){let e=null;return t>=0&&t<this.itsClassifiers.length&&(e=this.itsClassifiers[t]),e}findClassifierById(t){let e=null;const n=this.findClassifierIndexById(t);return n>=0&&(e=this.itsClassifiers[n]),e}findClassifierIndexById(t){let e=-1;const n=this.itsClassifiers.length;for(let s=0;s<n;s++)if(this.itsClassifiers[s].getId()===t){e=s;break}return e}findClassifierIndexByClassId(t){let e=-1;const n=this.itsClassifiers.length;for(let s=0;s<n;s++)if(this.itsClassifiers[s].getClassId()===t){e=s;break}return e}removeClassifierById(t){const e=this.findClassifierIndexById(t);this.removeClassifierByIndex(e)}removeClassifierByIndex(t){if(t>=0&&t<this.itsClassifiers.length){const e=this.itsClassifiers[t];this.itsClassifiers.splice(t),e.deallocate()}}removeAllClassifiers(){const t=this.itsClassifiers.length;for(let e=0;e<t;e++)this.removeClassifierByIndex(0)}findClassifierByClassId(t){let e=null;const n=this.findClassifierIndexByClassId(t);return n>=0&&(e=this.itsClassifiers[n]),e}findObjectByClassIdNameId(t){let e=null;if(bo.isValid(t)){const n=bo.getAlphaNumArray(t);if(n.length>=2){const t=this.findClassifierByClassId(n[0]);if(null!==t){const s=t.findObjectByNameId(n[1]);null!==s&&(e=s)}}}return e}getStatus(){return vo.getInst().getStatus()}open(){return vo.getInst().open()}close(){vo.getInst().close()}start(){!1===this.itsRunning&&!0===this.open()&&(this.itsRunning=!0,this.requestNextRender())}stop(){this.itsRunning=!1}isRunning(){return this.itsRunning}tick(){this.itsRenderRate=this.itsRenderRateCounter,this.itsRenderRateCounter=0}requestNextRender(){!0===this.itsRunning&&requestAnimationFrame(()=>{this.doRender()})}doRender(){!0===this.itsRunning&&(this.itsRenderCounter++,this.itsRenderRateCounter++,this.clearBackground(),this.findCanvasItemsAll(),this.processAll(),this.copyToCanvasAll(),this.drawOverlayAll(),this.requestNextRender())}clearBackground(){vo.getInst().clearBackground()}findCanvasItemsAll(){const t=this.itsClassifiers.length;for(let e=0;e<t;e++)this.itsClassifiers[e].findCanvasItems()}processAll(){const t=this.itsClassifiers.length;for(let e=0;e<t;e++){const t=this.itsClassifiers[e];t.getCanvasItemsCount()>0&&t.process()}}copyToCanvasAll(){const t=this.itsClassifiers.length;for(let e=0;e<t;e++){const t=this.itsClassifiers[e];t.getCanvasItemsCount()>0&&t.copyToCanvas()}}drawOverlayAll(){const t=this.itsClassifiers.length;for(let e=0;e<t;e++){const t=this.itsClassifiers[e];t.getCanvasItemsCount()>0&&t.drawOverlay()}}findElements(){const t=this.itsClassifiers.length;for(let e=0;e<t;e++)this.itsClassifiers[e].findElements()}reallocate(){const t=this.itsClassifiers.length;for(let e=0;e<t;e++)this.itsClassifiers[e].deallocate();for(let e=0;e<t;e++)this.itsClassifiers[e].allocate()}isInside(t){let e=0;const n=this.itsClassifiers.length;for(let s=0;s<n;s++){const n=this.itsClassifiers[s];if(n.isInside(t)>=0){e=n.getId();break}}return e}log(t){oo.add(t)}}To.itsInst=null;class xo{constructor(t,e,n){this.itsAction="",this.itsN=0,this.itsIndex=0,bo.isValid(t)&&(this.itsAction=String(t)),bo.isValid(e)&&(this.itsN=e),bo.isValid(n)&&(this.itsIndex=n)}getAction(){return this.itsAction}getN(){return this.itsN}getIndex(){return this.itsIndex}}class Eo{constructor(){this.itsFileName="",this.itsLoaded=!1,this.itsWait=0,this.itsInit=[],this.itsTeachPos1=[],this.itsTeachPos2=[],this.itsTeachPos3=[],this.itsTeachPos4=[],this.itsTestPos1=[],this.itsTestPos2=[],this.itsTestPos3=[],this.itsTestPos4=[],this.itsActionsCB=null,this.itsActions=[]}setActionsCB(t){this.itsActionsCB=t}getActionsCB(){return this.itsActionsCB}setFileName(t){!1===bo.isValid(t)&&(t=""),this.itsFileName=t}getFileName(){return this.itsFileName}load(){const t=this.itsFileName;if(this.itsLoaded=!1,this.itsWait=1e3,this.itsInit=[],this.itsTeachPos1=[],this.itsTeachPos2=[],this.itsTeachPos3=[],this.itsTeachPos4=[],this.itsTestPos1=[],this.itsTestPos2=[],this.itsTestPos3=[],this.itsTestPos4=[],!1===bo.isValid(t))return;if(0===t.length)return;const e=uo.getHttp();null!==e&&e.get(t).subscribe(t=>this.onLoad(t))}onLoad(t){this.itsInit=this.check(t.init),this.itsTeachPos1=this.check(t.teach1),this.itsTeachPos2=this.check(t.teach2),this.itsTeachPos3=this.check(t.teach3),this.itsTeachPos4=this.check(t.teach4),this.itsTestPos1=this.check(t.test1),this.itsTestPos2=this.check(t.test2),this.itsTestPos3=this.check(t.test3),this.itsTestPos4=this.check(t.test4),this.itsLoaded=!0,this.itsWait=0}check(t){let e=[];return bo.isValid(t)&&(e=t),e}isLoaded(){return this.itsLoaded}getInit(){return this.itsInit}getTeachPos(t){let e=[];switch(t){case 1:e=this.itsTeachPos1;break;case 2:e=this.itsTeachPos2;break;case 3:e=this.itsTeachPos3;break;case 4:e=this.itsTeachPos4}return e}getTestPos(t){let e=[];switch(t){case 1:e=this.itsTestPos1;break;case 2:e=this.itsTestPos2;break;case 3:e=this.itsTestPos3;break;case 4:e=this.itsTestPos4}return e}sendActions(t){if(!0===bo.isValid(t)){const e=t.length;for(let n=0;n<e;n++)this.sendAction(t[n])}}sendAction(t){if(!0===bo.isValid(t)){const e=new xo(t);this.itsActions.push(e)}}sendInit(){const t=new xo("init");this.itsActions.push(t)}sendTeachPos(t,e,n){const s=new xo("teachpos",t,e);this.itsActions.push(s),this.sendAction(n)}sendTestPos(t,e,n){const s=new xo("testpos",t,e);this.itsActions.push(s),this.sendAction(n)}poll(){const t=this.itsLoaded;if(this.itsWait>0)this.itsWait--;else if(null!==this.itsActionsCB)for(;this.itsActions.length>0;){const e=this.itsActions.shift(),n=e.getAction(),s=e.getN(),l=e.getIndex();if("init"===n&&t)this.itsActionsCB.actions(this.getInit());else if("teachpos"===n&&t){const t=this.getTeachPos(s);this.itsActionsCB.action(t[l])}else if("testpos"===n&&t){const t=this.getTestPos(s);this.itsActionsCB.action(t[l])}else this.itsActionsCB.action(n)}}log(t){oo.add(t)}}class ko{constructor(t){this.itsLocked=!1,this.itsId=0,this.itsName="",this.itsMacroName="",this.itsViewW=mo.ViewWH_Def,this.itsViewH=mo.ViewWH_Def,this.itsScrambleSeed=mo.ScrambleSeed_Def,this.itsTupleW=mo.TupleW_Def,this.itsStoreCount=mo.StoreCount_Def,this.itsIconNames=[],this.itsMacros=new Eo,this.set(t)}set(t){if(!1===bo.isValid(t))return;const e=Object.keys(t),n=e.length;if(0===n)return;const s=Object.values(t);for(let l=0;l<n;l++){const t=s[l];switch(e[l]){default:break;case"Id":this.setId(Number(t));break;case"Name":this.setName(String(t));break;case"MacroName":this.setMacroName(String(t));break;case"ViewW":this.setViewW(Number(t));break;case"ViewH":this.setViewH(Number(t));break;case"ScrambleSeed":this.setScrambleSeed(Number(t));break;case"TupleW":this.setTupleW(Number(t));break;case"StoreCount":this.setStoreCount(Number(t));break;case"IconNames":this.setIconNames(bo.checkStringArray(t))}}}setId(t){!1===this.isLocked()&&(this.itsId=t)}getId(){return this.itsId}setName(t){this.itsName=t,this.inventMacroName(),this.loadMacros()}getPath(){return mo.Assets_Input}getName(){return this.itsName}inventMacroName(){const t=this.itsName.toString().replace(".","_");this.setMacroName(t+".json")}setMacroName(t){this.itsMacroName=t,this.loadMacros()}getMacroName(){return this.itsMacroName}loadMacros(){const t=this.getPath(),e=this.getMacroName();this.itsMacros.setFileName(t+e),this.itsMacros.load()}getMacros(){return this.itsMacros}setViewW(t){!1===this.isLocked()&&(this.itsViewW=bo.forceRange(t,mo.ViewWH_Min,mo.ViewWH_Max))}getViewW(){return this.itsViewW}setViewH(t){!1===this.isLocked()&&(this.itsViewH=bo.forceRange(t,mo.ViewWH_Min,mo.ViewWH_Max))}getViewH(){return this.itsViewH}setScrambleSeed(t){!1===this.isLocked()&&(this.itsScrambleSeed=t)}getScrambleSeed(){return this.itsScrambleSeed}setTupleW(t){!1===this.isLocked()&&(this.itsTupleW=bo.forceRange(t,mo.TupleW_Min,mo.TupleW_Max))}getTupleW(){return this.itsTupleW}getTupleH(){return bo.getAddrH(this.itsViewW,this.itsViewH,this.itsTupleW)}getDecodeW(){return Math.pow(2,this.getTupleW())}getDecodeH(){return this.getTupleH()}setStoreCount(t){!1===this.isLocked()&&(this.itsStoreCount=bo.forceRange(t,mo.StoreCount_Min,mo.StoreCount_Max))}getStoreCount(){return this.itsStoreCount}setIconNames(t){!1===this.isLocked()&&(this.itsIconNames=t)}getIconNames(){return this.itsIconNames}isLocked(){return this.itsLocked}setLocked(){this.itsLocked=!0}}function Io(t){return null!=t}class Ro{constructor(){this.visible=!1,this.nx=.5,this.ny=.5,this.nw=1,this.nh=1,this.rdeg=0}set(t,e,n,s,l,i){Io(t)&&(this.visible=t),Io(e)&&(this.nx=e),Io(n)&&(this.ny=n),Io(s)&&(this.nw=s),Io(l)&&(this.nh=l),Io(i)&&(this.rdeg=i)}}class Ao{constructor(){this.itsKeys=[];for(let t=0;t<Ao.KEY_MAX;t++)this.itsKeys.push({})}static getInst(){return null===Ao.itsInst&&(Ao.itsInst=new Ao),Ao.itsInst}static key(t){return Ao.getInst().getKey(t)}getKey(t){let e={};return t>=0&&t<Ao.KEY_MAX&&(e=this.itsKeys[t]),e}}Ao.KEY_MAX=200,Ao.itsInst=null;class Oo{constructor(t,e){this.itsClassifier=null,this.itsName="",this.itsId=0,this.itsInputs=new WeakMap,this.itsLookup=new wo,this.itsOutput=new wo,this.itsOutputs=new WeakMap,this.itsCanvasItems=new fo,this.itsNormalisedMouseCoord=new co(.5,.5),this.itsRectOverlay=new Ro,this.itsScore=0,go.isValid(t)&&(this.itsName=t),go.isValid(e)&&(this.itsId=e)}getClassifier(){return this.itsClassifier}setClassifier(t){this.itsClassifier=t}getConfig(){let t=null;return null!==this.itsClassifier&&(t=this.itsClassifier.getConfig()),null===t&&(t=new ko),t}getName(){return this.itsName}setId(t){this.itsId=t}getId(){return this.itsId}getNameId(){return this.itsName+this.itsId}getClassIdNameId(){const t=this.getClassifier();return go.isValid(t)?t.getClassId()+this.itsName+this.itsId:""}setInputK(t,e){this.itsInputs.delete(t),go.isValid(e)&&this.itsInputs.set(t,e)}setInputN(t,e){this.setInputK(Ao.key(t),e)}setInput0(t){this.setInputN(0,t)}setInput1(t){this.setInputN(1,t)}getInputK(t){let e=null;const n=this.itsInputs.get(t);return go.isValid(n)&&(e=n),e}getInputN(t){return this.getInputK(Ao.key(t))}getInput0(){return this.getInputN(0)}getInput1(){return this.getInputN(1)}getLookup(){return this.itsLookup}getOutput(){const t=this.itsOutput,e=this.getOutput0();return null!==e?e:t}setOutputK(t,e){this.itsOutputs.delete(t),go.isValid(e)&&this.itsOutputs.set(t,e)}setOutputN(t,e){this.setOutputK(Ao.key(t),e)}setOutput0(t){this.setOutputN(0,t)}getOutputK(t){let e=null;const n=this.itsOutputs.get(t);return go.isValid(n)&&(e=n),e}getOutputN(t){return this.getOutputK(Ao.key(t))}getOutput0(){return this.getOutputN(0)}allocate(){}deallocate(){this.itsLookup.deallocate(),this.itsOutput.deallocate()}findCanvasItems(){this.itsCanvasItems.clear();const t=vo.getInst();if(!1===t.isOpen())return;if(!1===this.getOutput().isValid())return;const e=this.getClassIdNameId(),n=document.getElementsByClassName(e),s=n.length;if(0===s)return;const l=t.getGL(),i=window.scrollX,r=window.scrollY;l.canvas.style.transform=`translate(${i}px,${r}px)`;const o=l.canvas.clientWidth,u=l.canvas.clientHeight;for(let a=0;a<s;a++){const t=n[a].getBoundingClientRect();if(t.bottom>0&&t.top<u&&t.right>0&&t.left<o){const e=t.right-t.left,n=t.bottom-t.top,s=t.left,l=u-t.bottom;if(e>0&&n>0){const t=new ho(s,l,e,n);this.itsCanvasItems.add(t)}}}}getCanvasItemsCount(){return this.itsCanvasItems.getLength()}process(){}copyToCanvas(){const t=this.itsCanvasItems.getLength();if(0===t)return;const e=vo.getInst();if(!1===e.isOpen())return;const n=this.getOutput();if(!1===n.isValid())return;const s=n,l=e.getGL();for(let i=0;i<t;i++){const t=this.itsCanvasItems.data[i];e.processBegin(),e.processPrepTextureToScreen(s,null,t),e.processSetMode(mo.Mode_Copy),l.enable(l.SCISSOR_TEST),go.ok(l,"enable"),l.scissor(t.x,t.y,t.w,t.h),go.ok(l,"scissor"),e.processCopy(),e.processEnd()}l.disable(l.SCISSOR_TEST),go.ok(l,"disable")}drawOverlay(){const t=this.itsRectOverlay;if(!1===t.visible)return;const e=this.itsCanvasItems.getLength();if(0===e)return;const n=vo.getInst();if(!1===n.isOpen())return;const s=this.getOutput();if(!1===s.isValid())return;const l=s,i=n.getGL(),r=[1,0,0];for(let o=0;o<e;o++){const e=this.itsCanvasItems.data[o],s=e.w*t.nx,u=e.h*t.ny,a=e.w*t.nw,c=e.h*t.nh,h=t.rdeg;n.processBegin(),n.processPrepTextureToScreen(l,null,e),n.processSetMode(mo.Mode_Fill),n.processSetColor(r),i.enable(i.SCISSOR_TEST),go.ok(i,"enable"),i.scissor(e.x,e.y,e.w,e.h),go.ok(i,"scissor"),n.processSrcPositionOutline(s,u,a,c,h),n.processCopyOutline(),n.processEnd()}i.disable(i.SCISSOR_TEST),go.ok(i,"disable")}findElements(){const t=this.getClassIdNameId(),e=document.getElementsByClassName(t);this.log("findElements: "+e.length)}isInside(t){const e=this.itsCanvasItems.isInside(t);if(e>=0){const n=this.itsCanvasItems.data[e];this.itsNormalisedMouseCoord.set((t.x-n.x)/n.w,1-(t.y-n.y)/n.h)}return e}getNormalisedMouseCoord(){return this.itsNormalisedMouseCoord}setX(t){const e=this.getOutput().getW();e>0&&(t=Math.max(t,0),t=Math.min(t,e),this.itsNormalisedMouseCoord.x=t/e)}setY(t){const e=this.getOutput().getH();e>0&&(t=Math.max(t,0),t=Math.min(t,e),this.itsNormalisedMouseCoord.y=t/e)}setXY(t,e){this.setX(t),this.setY(e)}getX(){const t=this.getOutput().getW();return Math.round(t*this.itsNormalisedMouseCoord.x)}getY(){const t=this.getOutput().getH();return Math.round(t*this.itsNormalisedMouseCoord.y)}moveDX(t){this.setX(this.getX()+t)}moveDY(t){this.setY(this.getY()+t)}moveDXY(t,e){this.moveDX(t),this.moveDY(e)}getRectOverlay(){return this.itsRectOverlay}bgAction(t){}setScore(t){this.itsScore=t}getScore(){return this.itsScore}log(t){oo.add(t)}}class Po extends Oo{constructor(t){super("Source",t),this.itsImage=null}setFileName(t){super.getConfig().setName(t),this.load()}getFileName(){return super.getConfig().getName()}allocate(){this.load()}load(){this.deallocate();const t=super.getConfig(),e=t.getPath()+t.getName();this.itsImage=document.createElement("img"),this.itsImage.onerror=(()=>this.onError()),this.itsImage.onload=(()=>this.onLoad()),this.itsImage.src=e}unload(){this.itsImage=null,super.getOutput().deallocate()}onError(){this.itsImage=null}onLoad(){if(null!==this.itsImage){const t=this.itsImage.width,e=this.itsImage.height;super.getOutput().allocateLinear(t,e,this.itsImage)}this.itsImage=null}deallocate(){this.itsImage=null,super.deallocate()}setX(t){super.setX(t)}setY(t){super.setY(t)}setXY(t,e){super.setXY(t,e)}getX(){return super.getX()}getY(){return super.getY()}moveDX(t){super.moveDX(t)}moveDY(t){super.moveDY(t)}moveDXY(t,e){super.moveDXY(t,t)}bgAction(t){const e=t.split(","),n=e[2];"setXY"===e[0]&&this.setXY(bo.parseInt(e[1]),bo.parseInt(n))}log(t){super.log("ImageSource: "+t)}}class No extends Oo{constructor(t){super("Source",t),this.itsVideo=null,this.itsLoaded=!1,this.itsPlaying=!1,this.itsTimeUpdate=!1}setFileName(t){super.getConfig().setName(t),this.load()}getFileName(){return super.getConfig().getName()}allocate(){this.load()}load(){this.deallocate();const t=super.getConfig(),e=t.getPath()+t.getName();this.itsLoaded=!1,this.itsPlaying=!1,this.itsTimeUpdate=!1,this.itsVideo=document.createElement("video"),null!==this.itsVideo&&(this.itsVideo.autoplay=!0,this.itsVideo.muted=!0,this.itsVideo.loop=!0,this.itsVideo.onerror=(()=>{this.onError()}),this.itsVideo.onplaying=(()=>{this.onPlaying()}),this.itsVideo.ontimeupdate=(()=>{this.onTimeUpdate()}),this.itsVideo.src=e,this.itsVideo.play())}onError(){this.deallocate()}onPlaying(){this.itsPlaying=!0,this.checkReady()}onTimeUpdate(){this.itsTimeUpdate=!0,this.checkReady()}checkReady(){this.itsPlaying&&this.itsTimeUpdate&&this.firstLoad()}firstLoad(){const t=this.itsVideo;if(null!==t){const e=t.videoWidth,n=t.videoHeight;super.getOutput().allocateLinear(e,n)&&(this.itsLoaded=!0,this.copy())}}deallocate(){this.itsVideo=null,this.itsLoaded=!1,super.deallocate()}play(){null!==this.itsVideo&&this.itsVideo.play()}stop(){null!==this.itsVideo&&this.itsVideo.pause()}process(){this.copy()}copy(){if(null===this.itsVideo)return;if(!1===this.itsLoaded)return;const t=vo.getInst(),e=this.itsVideo,n=super.getOutput().getT();t.copyImageToTexture(e,n)}setX(t){super.setX(t)}setY(t){super.setY(t)}setXY(t,e){super.setXY(t,e)}getX(){return super.getX()}getY(){return super.getY()}moveDX(t){super.moveDX(t)}moveDY(t){super.moveDY(t)}moveDXY(t,e){super.moveDXY(t,t)}bgAction(t){const e=t.split(","),n=e[2];"setXY"===e[0]&&this.setXY(bo.parseInt(e[1]),bo.parseInt(n))}log(t){super.log("VideoSource: "+t)}}class Mo extends Oo{constructor(t,e){super("View",t),this.itsS=.5,this.itsRdeg=0,super.setInput0(e)}allocate(){super.deallocate();const t=super.getConfig(),e=t.getViewW(),n=t.getViewH();super.getOutput().allocateLinear(e,n)}setScale(t){this.itsS=t}getScale(){return this.itsS}setRotate(t){this.itsRdeg=t}getRotate(){return this.itsRdeg}process(){const t=vo.getInst();if(!1===t.isOpen())return;const e=super.getInput0();if(null===e)return;const n=e.getOutput(),s=n.getW(),l=n.getH(),i=super.getOutput(),r=i.getW(),o=i.getH(),u=e.getNormalisedMouseCoord(),a=u.x,c=u.y,h=this.itsS,d=this.itsRdeg;t.processBegin(),t.processPrepTextureToTexture(n,i),t.processSetMode(mo.Mode_Copy),t.processSrcPosition(a,c,s,l,r,o,h,d),t.processCopy(),t.processEnd(),this.setOverlayPosition()}setOverlayPosition(){const t=super.getInput0();if(null===t)return;const e=t.getOutput(),n=e.getW(),s=e.getH(),l=super.getOutput(),i=l.getW(),r=l.getH();if(n<1||s<1)return;const o=t.getNormalisedMouseCoord(),u=o.x,a=o.y,c=this.itsS,h=this.itsRdeg,d=i*c/n,p=r*c/s;t.getRectOverlay().set(!0,u,a,d,p,h)}bgAction(t){const e=t.split(","),n=e[0],s=e[1];"setScale"===n?this.setScale(bo.parseFloat(s)):"setRotate"===n&&this.setRotate(bo.parseFloat(s))}log(t){super.log("View: "+t)}}class Do extends Oo{constructor(t,e){super("Threshold",t),this.itsThresh=.2,super.setInput0(e)}setThresh(t){this.itsThresh=t}getThresh(){return this.itsThresh}allocate(){super.deallocate();const t=super.getConfig(),e=t.getViewW(),n=t.getViewH();super.getOutput().allocateNearest(e,n)}process(){const t=vo.getInst();if(!1===t.isOpen())return;const e=super.getInput0();if(null===e)return;const n=this.itsThresh,s=e.getOutput(),l=super.getOutput();t.processBegin(),t.processPrepTextureToTexture(s,l),t.processSetMode(mo.Mode_Threshold),t.processSetThreshold(n),t.processCopy(),t.processEnd()}bgAction(t){const e=t.split(",");"setThresh"===e[0]&&this.setThresh(bo.parseFloat(e[1]))}log(t){super.log("Threshold: "+t)}}class Wo{constructor(t){this.itsSeed=0,this.itsState=0,this.itsSeed=t,this.reset()}reset(){this.itsState=this.itsSeed%2147483647,this.itsState<=0&&(this.itsState+=2147483646)}next(){return this.itsState=16807*this.itsState%2147483647,this.itsState}nextRange(t){return this.next()%t}}class Lo extends Oo{constructor(t,e){super("Scramble",t),this.itsReverse=!1,super.setInput0(e)}allocate(){super.deallocate();const t=super.getConfig(),e=t.getViewW(),n=t.getViewH();super.getOutput().allocateNearest(e,n);const s=super.getLookup();let l=t.getScrambleSeed();this.itsReverse=!1,l<0&&(l=-l,this.itsReverse=!0);const i=this.createMapping(e,n,l);s.allocateNearestF32(e,n,i)}createMapping(t,e,n){const s=t,l=e,i=1/s,r=.5*i,o=1/l,u=.5*o,a=new Uint16Array(s*l*4),c=new Float32Array(s*l*4);for(let h=0;h<l;h++)for(let t=0;t<s;t++){const e=4*(h*s+t);a[e+0]=t,a[e+1]=h}if(n>0){const t=new Wo(n);for(let e=0;e<l;e++)for(let n=0;n<s;n++){const i=t.nextRange(s),r=4*(e*s+n),o=4*(t.nextRange(l)*s+i),u=a[r+0],c=a[r+1],h=a[o+1];a[r+0]=a[o+0],a[r+1]=h,a[o+0]=u,a[o+1]=c}}for(let h=0;h<l;h++)for(let t=0;t<s;t++){const e=4*(h*s+t),n=4*(a[e+1]*s+a[e+0]);a[n+2]=t,a[n+3]=h}for(let h=0;h<l;h++)for(let t=0;t<s;t++){const e=4*(h*s+t);c[e+0]=a[e+0]*i+r,c[e+1]=a[e+1]*o+u,c[e+2]=a[e+2]*i+r,c[e+3]=a[e+3]*o+u}return c}process(){const t=vo.getInst();if(!1===t.isOpen())return;const e=super.getInput0();if(null===e)return;const n=e.getOutput(),s=super.getOutput(),l=super.getLookup().getT();t.processBegin(),t.processPrepTextureToTexture(n,s),t.processSetMode(mo.Mode_Scramble),t.processAddTexture1(l),!0===this.itsReverse&&t.processSetReverse(),t.processCopy(),t.processEnd()}}class Vo extends Oo{constructor(t,e){super("Tuple",t),super.setInput0(e)}allocate(){this.deallocate();const t=super.getConfig(),e=t.getViewW(),n=t.getViewH(),s=t.getTupleW(),l=t.getTupleH();super.getOutput().allocateNearest(s,l);const i=super.getLookup(),r=this.createMapping(e,n,s,l);i.allocateNearestF32(s,l,r)}createMapping(t,e,n,s){const l=t,i=n,r=s,o=1/l,u=.5*o,a=1/e,c=.5*a,h=new Uint16Array(i*r*4),d=new Float32Array(i*r*4);let p=0,f=0;for(let g=0;g<r;g++)for(let t=0;t<i;t++){const e=4*(g*i+t);h[e+0]=p++,h[e+1]=f,h[e+2]=0,h[e+3]=0,p>=l&&(p=0,f++)}for(let g=0;g<r;g++)for(let t=0;t<i;t++){const e=4*(g*i+t);d[e+0]=h[e+0]*o+u,d[e+1]=h[e+1]*a+c,d[e+2]=h[e+2]*o+u,d[e+3]=h[e+3]*a+c}return d}process(){const t=vo.getInst();if(!1===t.isOpen())return;const e=super.getInput0();if(null===e)return;const n=e.getOutput(),s=super.getOutput(),l=super.getLookup().getT();t.processBegin(),t.processPrepTextureToTexture(n,s),t.processSetMode(mo.Mode_Tuple),t.processAddTexture1(l),t.processCopy(),t.processEnd()}}class Bo extends Oo{constructor(t,e){super("Address",t),this.itsTupleW=1,this.setInput0(e)}allocate(){this.deallocate();const t=this.getConfig();this.itsTupleW=t.getTupleW();const e=t.getTupleH();this.getOutput().allocateNearest(1,e)}process(){const t=vo.getInst();if(!1===t.isOpen())return;const e=this.getInput0();if(null===e)return;const n=e.getOutput(),s=this.getOutput();t.processBegin(),t.processPrepTextureToTexture(n,s),t.processSetMode(mo.Mode_Address),t.processSetNWidth(this.itsTupleW),t.processCopy(),t.processEnd()}}class Fo extends Oo{constructor(t,e){super("Decoder",t),super.setInput0(e)}allocate(){super.deallocate();const t=super.getConfig(),e=t.getDecodeW(),n=t.getDecodeH();super.getOutput().allocateNearest(e,n)}process(){const t=vo.getInst();if(!1===t.isOpen())return;const e=super.getInput0();if(null===e)return;const n=super.getConfig().getTupleW(),s=e.getOutput(),l=super.getOutput();t.processBegin(),t.processPrepTextureToTexture(s,l),t.processSetMode(mo.Mode_Decode),t.processSetNWidth(n),t.processCopy(),t.processEnd()}}class jo extends Oo{constructor(t,e,n){super("Store",t),this.itsPendingClear=!1,super.setInput0(e),super.setInput1(n)}clear(){this.itsPendingClear=!0}teach(){const t=super.getClassifier(),e=super.getId();t.setPendingTeach(e)}allocate(){super.deallocate();const t=super.getConfig(),e=t.getDecodeW(),n=t.getDecodeH();super.getOutput().allocateNearest(e,n)}process(){if(!1===vo.getInst().isOpen())return;if(null===super.getInput0())return;if(null===super.getInput1())return;const t=super.getId();!0===this.itsPendingClear&&(this.itsPendingClear=!1,this.doClear());const e=super.getClassifier();e.getPendingTeach()===t&&(e.setPendingTeach(0),this.doTeach())}doClear(){const t=vo.getInst(),e=super.getOutput();t.processBegin(),t.processPrepTextureToTexture(null,e),t.processSetMode(mo.Mode_Fill),t.processSetColor([0,0,0]),t.processCopy(),t.processEnd()}doTeach(){const t=vo.getInst(),e=super.getInput0().getOutput(),n=super.getInput1().getOutput(),s=super.getOutput();t.processBegin(),t.processPrepTextureToTexture(s,n),t.processSetMode(mo.Mode_Copy),t.processCopy(),t.processEnd(),t.processBegin(),t.processPrepTextureToTexture(e,s),t.processSetMode(mo.Mode_Merge),t.processAddTexture1(n.getT()),t.processCopy(),t.processEnd()}bgAction(t){const e=t.split(",")[0];"clear"===e?this.clear():"teach"===e&&this.teach()}log(t){super.log("Store: "+t)}}class Uo extends Oo{constructor(t,e,n){super("Match",t),super.setInput0(e),super.setInput1(n)}allocate(){super.deallocate();const t=super.getConfig().getDecodeH();super.getOutput().allocateNearest(1,t)}process(){const t=vo.getInst();if(!1===t.isOpen())return;const e=super.getInput0();if(null===e)return;const n=super.getInput1();if(null===n)return;const s=super.getConfig().getTupleW(),l=e.getOutput(),i=n.getOutput(),r=super.getOutput();t.processBegin(),t.processPrepTextureToTexture(l,r),t.processAddTexture1(i.getT()),t.processSetMode(mo.Mode_Match),t.processSetNWidth(s),t.processCopy(),t.processEnd()}}class Ho extends Oo{constructor(t,e){super("ScoreIn",t),super.setInput0(e)}allocate(){super.deallocate(),super.getOutput().allocateNearest(1,1)}process(){super.setScore(0);const t=vo.getInst();if(!1===t.isOpen())return;const e=super.getInput0();if(null===e)return;const n=e.getOutput(),s=super.getOutput();t.processBegin(),t.processPrepTextureToTexture(n,s),t.processSetMode(mo.Mode_ScoreIn),t.processDstClear(),t.processCopy();const l=t.getGL();l.readBuffer(l.COLOR_ATTACHMENT0);const i=super.getConfig().getDecodeH(),r=Math.max(1,i);let o=0;{const t=0,e=0,n=1,s=1,i=l.RGBA,u=l.UNSIGNED_BYTE,a=new Uint8Array(4);l.readPixels(t,e,n,s,i,u,a),o=a[0]+256*a[1]+256*a[2]*256,o=Math.min(o,r)}t.processEnd(),super.setScore(o/r)}getScore(){return super.getScore()}}class zo extends Oo{constructor(t,e){super("ScoreOut",t),super.setInput0(e)}allocate(){super.deallocate();const t=super.getConfig().getDecodeH();super.getOutput().allocateNearest(1,t)}process(){super.setScore(0);const t=vo.getInst();if(!1===t.isOpen())return;const e=super.getInput0();if(null===e)return;const n=e.getScore(),s=e.getOutput(),l=super.getOutput();t.processBegin(),t.processPrepTextureToTexture(s,l),t.processSetMode(mo.Mode_ScoreOut),t.processSetThreshold(n),t.processSetColor([255,0,0]),t.processCopy(),t.processEnd(),super.setScore(n)}getScore(){return super.getScore()}}class $o extends Oo{constructor(t){super("Result",t),this.itsThresh=.1,this.itsResult=0}allocate(){super.deallocate()}process(){this.setResult(0);const t=super.getConfig().getStoreCount();if(t<=0)return;let e=this.getThresh(),n=-1;for(let s=0;s<t;s++){const t=super.getInputN(s);if(null!==t){const l=t.getScore();e<l&&(e=l,n=s)}}this.setResult(n+1)}setThresh(t){this.itsThresh=t}getThresh(){return this.itsThresh}setResult(t){this.itsResult=t;let e=null;const n=super.getConfig().getIconNames()[t],s=So.getInst().findIcon(n);null!==s&&(e=s.getTexture()),super.setOutput0(e)}getResult(){return this.itsResult}}class Go{constructor(){this.itsConfig=null,this.itsObjects=[],this.itsBgActionList=[],this.itsBgTimeStamp=Date.now(),this.itsBgActionTimerMSec=0,this.itsBgActionWait=0,this.itsPendingTeach=0,this.itsConfig=new ko}setConfig(t){go.isValid(t)&&(this.itsConfig=t,this.itsConfig.setLocked(),this.itsConfig.getMacros().setActionsCB(this))}getConfig(){return this.itsConfig}getClass(){return"W"}getId(){return this.getConfig().getId()}getClassId(){return this.getClass()+this.getId()}addObject(t){go.isValid(t)&&(this.itsObjects.push(t),t.setClassifier(this))}getObjectCount(){return this.itsObjects.length}getObjectByIndex(t){let e=null;return t>=0&&t<this.itsObjects.length&&(e=this.itsObjects[t]),e}removeObjectByIndex(t){if(t>=0&&t<this.itsObjects.length){const e=this.itsObjects[t];this.itsObjects.splice(t),e.setClassifier(null)}}removeAllObjects(){const t=this.itsObjects.length;for(let e=0;e<t;e++)this.removeObjectByIndex(0)}findObjectByNameId(t){let e=null;const n=this.itsObjects.length;for(let s=0;s<n;s++){const n=this.itsObjects[s];if(n.getNameId()===t){e=n;break}}return e}allocate(){const t=this.getConfig(),e=t.getPath()+t.getName(),n=(t.getViewW(),t.getViewH(),t.getStoreCount());let s=0,l=null;go.isJPG(e)?l=new Po(s):go.isMP4(e)&&(l=new No(s));const i=new Mo(s,l),r=new Do(s,i),o=new Lo(s,r),u=new Vo(s,o),a=new Bo(s,u),c=new Fo(s,a),h=new jo(s),d=new $o(s);this.addObject(l),this.addObject(i),this.addObject(r),this.addObject(o),this.addObject(u),this.addObject(a),this.addObject(c),this.addObject(h);for(let f=0;f<n;f++){const t=new jo(s=f+1,c,h),e=new Uo(s,a,t),n=new Ho(s,e),l=new zo(s,n);this.addObject(t),this.addObject(e),this.addObject(n),this.addObject(l),d.setInputN(f,l)}this.addObject(d);const p=this.itsObjects.length;for(let f=0;f<p;f++)this.itsObjects[f].allocate()}deallocate(){const t=this.itsObjects.length;for(let e=0;e<t;e++)this.itsObjects[e].deallocate();this.itsObjects.length=0}findCanvasItems(){const t=this.itsObjects.length;for(let e=0;e<t;e++)this.itsObjects[e].findCanvasItems()}getCanvasItemsCount(){let t=0;const e=this.itsObjects.length;for(let n=0;n<e;n++)t+=this.itsObjects[n].getCanvasItemsCount();return t}process(){this.itsConfig.getMacros().poll(),this.bgAction();const t=this.itsObjects.length;for(let e=0;e<t;e++)this.itsObjects[e].process()}copyToCanvas(){const t=this.itsObjects.length;for(let e=0;e<t;e++)this.itsObjects[e].copyToCanvas()}findElements(){const t=this.itsObjects.length;for(let e=0;e<t;e++)this.itsObjects[e].findElements()}isInside(t){let e=-1;const n=this.itsObjects.length;for(let s=0;s<n;s++)if(this.itsObjects[s].isInside(t)>=0){this.log("Index "+s),e=s;break}return e}drawOverlay(){const t=this.itsObjects.length;for(let e=0;e<t;e++)this.itsObjects[e].drawOverlay()}actions(t){if(!1===bo.isValid(t))return;const e=t.length;for(let n=0;n<e;n++)this.action(t[n])}action(t){if(!1===bo.isValid(t))return;const e=t.split(";"),n=e.length;for(let s=0;s<n;s++)this.actionToBg(e[s])}actionToBg(t){this.itsBgActionList.push(String(t))}bgAction(){const t=Date.now(),e=Math.abs(t-this.itsBgTimeStamp);if(this.itsBgTimeStamp=t,this.itsBgActionTimerMSec>0)return void(this.itsBgActionTimerMSec-=e);if(this.itsBgActionWait>0)return void this.itsBgActionWait--;if(0===this.itsBgActionList.length)return;const n=this.itsBgActionList.shift();this.bgActionDecode(n)}bgActionDecode(t){const e=bo.getHead(t),n=bo.getTail(t),s=this.findObjectByNameId(e);null!==s?s.bgAction(n):this.bgActionLocal(t)}bgActionLocal(t){const e=t.split(","),n=e[0],s=e[1];if("timer"===n){const t=bo.parseInt(s);this.setTimer(t)}else if("wait"===n){const t=bo.parseInt(s);this.setWait(t)}}setTimer(t){let e=1;t>0&&t<1e3&&(e=t),this.itsBgActionTimerMSec=e}setWait(t){let e=1;t>0&&t<100&&(e=t),this.itsBgActionWait=e}getPendingTeach(){return this.itsPendingTeach}setPendingTeach(t){this.itsPendingTeach=t}log(t){oo.add(t)}}class Yo{constructor(){this.itsKey={key:0},this.itsWeakMap=new WeakMap}setBaseRef(t){const e=this.itsKey;this.itsWeakMap.delete(e),bo.isValid(t)&&this.itsWeakMap.set(e,t)}getBaseRef(){let t=null;const e=this.itsWeakMap.get(this.itsKey);return bo.isValid(e)&&(t=e),t}}class qo extends Yo{constructor(t){super(),this.setRef(t)}setRef(t){this.setBaseRef(t)}getRef(){return this.getBaseRef()}}class Xo extends Yo{constructor(t){super(),this.setRef(t)}setRef(t){this.setBaseRef(t)}getRef(){return this.getBaseRef()}}const Ko=new x(t=>t.complete());function Qo(t){return t?function(t){return new x(e=>t.schedule(()=>e.complete()))}(t):Ko}function Zo(t){const e=new x(e=>{e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}function Jo(...t){let e=t[t.length-1];switch(N(e)?t.pop():e=void 0,t.length){case 0:return Qo(e);case 1:return e?X(t,e):Zo(t[0]);default:return X(t,e)}}function tu(t,e){return Q(t,e,1)}function eu(t,e){return function(n){return n.lift(new nu(t,e))}}class nu{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new su(t,this.predicate,this.thisArg))}}class su extends v{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}class lu{}const iu=new ft("Location Initialized");class ru{}const ou=new ft("appBaseHref");class uu{constructor(t){this._subject=new on,this._platformStrategy=t;const e=this._platformStrategy.getBaseHref();this._baseHref=uu.stripTrailingSlash(au(e)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+uu.normalizeQueryParams(e))}normalize(t){return uu.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,au(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}static normalizeQueryParams(t){return t&&"?"!==t[0]?"?"+t:t}static joinWithSlash(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}static stripTrailingSlash(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}function au(t){return t.replace(/\/index.html$/,"")}class cu extends ru{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=uu.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,s){let l=this.prepareExternalUrl(n+uu.normalizeQueryParams(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,e,l)}replaceState(t,e,n,s){let l=this.prepareExternalUrl(n+uu.normalizeQueryParams(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class hu extends ru{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return uu.joinWithSlash(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+uu.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,s){const l=this.prepareExternalUrl(n+uu.normalizeQueryParams(s));this._platformLocation.pushState(t,e,l)}replaceState(t,e,n,s){const l=this.prepareExternalUrl(n+uu.normalizeQueryParams(s));this._platformLocation.replaceState(t,e,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const du=void 0;var pu=["en",[["a","p"],["AM","PM"],du],[["AM","PM"],du,du],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],du,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],du,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",du,"{1} 'at' {0}",du],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];const fu={},gu=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),mu=new ft("UseV4Plurals");class _u{}class yu extends _u{constructor(t,e){super(),this.locale=t,this.deprecatedPluralFn=e}getPluralCategory(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return function(t){const e=t.toLowerCase().replace(/_/g,"-");let n=fu[e];if(n)return n;const s=e.split("-")[0];if(n=fu[s])return n;if("en"===s)return pu;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[18]}(e||this.locale)(t)){case gu.Zero:return"zero";case gu.One:return"one";case gu.Two:return"two";case gu.Few:return"few";case gu.Many:return"many";default:return"other"}}}function vu(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[s,l]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(s.trim()===e)return decodeURIComponent(l)}return null}class bu{constructor(t,e,n,s){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class wu{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Ve()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,s)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new bu(null,this._ngForOf,-1,-1),s),l=new Cu(t,n);e.push(l)}else if(null==s)this._viewContainer.remove(n);else{const l=this._viewContainer.get(n);this._viewContainer.move(l,s);const i=new Cu(t,l);e.push(i)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,s=this._viewContainer.length;n<s;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=s,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}class Cu{constructor(t,e){this.record=t,this.view=e}}class Su{constructor(t,e,n){this._differs=t,this._ngEl=e,this._renderer=n}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}_setStyle(t,e){const[n,s]=t.split(".");null!=(e=null!=e&&s?`${e}${s}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}}class Tu{}const xu=new ft("DocumentToken"),Eu="browser",ku="server",Iu=function(){class t{}return t.ngInjectableDef=dt({providedIn:"root",factory:()=>new Ru(Bt(xu),window)}),t}();class Ru{constructor(t,e){this.document=t,this.window=e,this.offset=(()=>[0,0])}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){const e=this.document.querySelector(`#${t}`);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,s=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(n-l[0],s-l[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}class Au{}class Ou{}class Pu{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),s=n.toLowerCase(),l=t.slice(e+1).trim();this.maybeSetNormalizedName(n,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const s=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(s,n),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Pu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Pu;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Pu?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...n),this.headers.set(e,s);break;case"d":const l=t.value;if(l){let t=this.headers.get(e);if(!t)return;0===(t=t.filter(t=>-1===l.indexOf(t))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Nu{encodeKey(t){return Mu(t)}encodeValue(t){return Mu(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Mu(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Du{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Nu,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const s=t.indexOf("="),[l,i]=-1==s?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,s)),e.decodeValue(t.slice(s+1))],r=n.get(l)||[];r.push(i),n.set(l,r)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).join("&")}clone(t){const e=new Du({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=null)}}function Wu(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Lu(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Vu(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Bu{constructor(t,e,n,s){let l;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==n?n:null,l=s):l=n,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.params&&(this.params=l.params)),this.headers||(this.headers=new Pu),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Du,this.urlWithParams=e}serializeBody(){return null===this.body?null:Wu(this.body)||Lu(this.body)||Vu(this.body)||"string"==typeof this.body?this.body:this.body instanceof Du?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:Vu(this.body)?null:Lu(this.body)?this.body.type||null:Wu(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Du?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,s=t.responseType||this.responseType,l=void 0!==t.body?t.body:this.body,i=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,r=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let o=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(o=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),o)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new Bu(e,n,l,{params:u,headers:o,reportProgress:r,responseType:s,withCredentials:i})}}const Fu=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class ju{constructor(t,e=200,n="OK"){this.headers=t.headers||new Pu,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Uu extends ju{constructor(t={}){super(t),this.type=Fu.ResponseHeader}clone(t={}){return new Uu({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Hu extends ju{constructor(t={}){super(t),this.type=Fu.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Hu({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class zu extends ju{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function $u(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}class Gu{constructor(t){this.handler=t}request(t,e,n={}){let s;if(t instanceof Bu)s=t;else{let l=void 0;l=n.headers instanceof Pu?n.headers:new Pu(n.headers);let i=void 0;n.params&&(i=n.params instanceof Du?n.params:new Du({fromObject:n.params})),s=new Bu(t,e,void 0!==n.body?n.body:null,{headers:l,params:i,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const l=Jo(s).pipe(tu(t=>this.handler.handle(t)));if(t instanceof Bu||"events"===n.observe)return l;const i=l.pipe(eu(t=>t instanceof Hu));switch(n.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return i.pipe(G(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return i.pipe(G(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return i.pipe(G(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return i.pipe(G(t=>t.body))}case"response":return i;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Du).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,$u(n,e))}post(t,e,n={}){return this.request("POST",t,$u(n,e))}put(t,e,n={}){return this.request("PUT",t,$u(n,e))}}class Yu{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const qu=new ft("HTTP_INTERCEPTORS");class Xu{intercept(t,e){return e.handle(t)}}const Ku=/^\)\]\}',?\n/;class Qu{}class Zu{constructor(){}build(){return new XMLHttpRequest}}class Ju{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new x(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const s=t.serializeBody();let l=null;const i=()=>{if(null!==l)return l;const e=1223===n.status?204:n.status,s=n.statusText||"OK",i=new Pu(n.getAllResponseHeaders()),r=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return l=new Uu({headers:i,status:e,statusText:s,url:r})},r=()=>{let{headers:s,status:l,statusText:r,url:o}=i(),u=null;204!==l&&(u=void 0===n.response?n.responseText:n.response),0===l&&(l=u?200:0);let a=l>=200&&l<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(Ku,"");try{u=""!==u?JSON.parse(u):null}catch(c){u=t,a&&(a=!1,u={error:c,text:u})}}a?(e.next(new Hu({body:u,headers:s,status:l,statusText:r,url:o||void 0})),e.complete()):e.error(new zu({error:u,headers:s,status:l,statusText:r,url:o||void 0}))},o=t=>{const{url:s}=i(),l=new zu({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:s||void 0});e.error(l)};let u=!1;const a=s=>{u||(e.next(i()),u=!0);let l={type:Fu.DownloadProgress,loaded:s.loaded};s.lengthComputable&&(l.total=s.total),"text"===t.responseType&&n.responseText&&(l.partialText=n.responseText),e.next(l)},c=t=>{let n={type:Fu.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",r),n.addEventListener("error",o),t.reportProgress&&(n.addEventListener("progress",a),null!==s&&n.upload&&n.upload.addEventListener("progress",c)),n.send(s),e.next({type:Fu.Sent}),()=>{n.removeEventListener("error",o),n.removeEventListener("load",r),t.reportProgress&&(n.removeEventListener("progress",a),null!==s&&n.upload&&n.upload.removeEventListener("progress",c)),n.abort()}})}}const ta=new ft("XSRF_COOKIE_NAME"),ea=new ft("XSRF_HEADER_NAME");class na{}class sa{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=vu(t,this.cookieName),this.lastCookieString=t),this.lastToken}}class la{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const s=this.tokenService.getToken();return null===s||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,s)})),e.handle(t)}}class ia{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(qu,[]);this.chain=t.reduceRight((t,e)=>new Yu(t,e),this.backend)}return this.chain.handle(t)}}class ra{static disable(){return{ngModule:ra,providers:[{provide:la,useClass:Xu}]}}static withOptions(t={}){return{ngModule:ra,providers:[t.cookieName?{provide:ta,useValue:t.cookieName}:[],t.headerName?{provide:ea,useValue:t.headerName}:[]]}}}class oa{}class ua{constructor(t,e){this.theLog=t,this.theHttp=e,oo.setLog(t),uo.setHttp(e)}getCodeVersion(){return To.getInst().getCodeVersion()}getTextureCount(){return To.getInst().getTextureCount()}getBufferCount(){return To.getInst().getBufferCount()}getFramebufferCount(){return To.getInst().getFramebufferCount()}getVertexArrayCount(){return To.getInst().getVertexArrayCount()}getRenderCounter(){return To.getInst().getRenderCounter()}getRenderRate(){return To.getInst().getRenderRate()}reallocate(){To.getInst().reallocate()}getStatus(){return To.getInst().getStatus()}open(){const t=To.getInst(),e=t.open();return this.log("open "+e),!0===e&&t.start(),e}createClassifier(t){const e=To.getInst();if(!1===e.open())return;this.log("createClassifier");const n=new ko(t),s=new Go;s.setConfig(n),e.addClassifier(s)}findElements(){this.log("findElements:"),To.getInst().findElements()}findClassifierByClassId(t){return this.log("findClassifierByClassIdNameId:"),To.getInst().findClassifierByClassId(t)}findClassifierRefByClassId(t){this.log("findClassifierRefByClassIdNameId:");let e=null;const n=this.findClassifierByClassId(t);return null!==n&&(e=new Xo(n)),e}findObjectByClassIdNameId(t){return this.log("findObjectByClassIdNameId:"),To.getInst().findObjectByClassIdNameId(t)}findObjectRefByClassIdNameId(t){this.log("findObjectRefByClassIdNameId:");let e=null;const n=this.findObjectByClassIdNameId(t);return null!==n&&(e=new qo(n)),e}log(t){this.theLog.add("WisardService "+t)}}ua.ngInjectableDef=dt({factory:function(){return new ua(Bt(ro),Bt(Gu))},token:ua,providedIn:"root"});class aa{constructor(t,e){this.theLog=t,this.theWisard=e}ngOnInit(){!1!==this.theWisard.open()?(this.theWisard.createClassifier({Id:1,Name:"sample1.mp4",ViewW:16,ViewH:16,TupleW:4,StoreCount:1}),this.theWisard.createClassifier({Id:2,Name:"sample2.jpg",ViewW:28,ViewH:32,TupleW:6,StoreCount:1}),this.theWisard.createClassifier({Id:3,Name:"sample2.jpg",ViewW:28,ViewH:32,TupleW:6,StoreCount:4,IconNames:["unknown","a","b","c","d"]})):this.log("Unable to open Wisard Service")}get status(){return this.theWisard.getStatus()}get renderCounter(){return this.theWisard.getRenderCounter()}get renderRate(){return this.theWisard.getRenderRate()}get textureCount(){return this.theWisard.getTextureCount()}get bufferCount(){return this.theWisard.getBufferCount()}get framebufferCount(){return this.theWisard.getFramebufferCount()}get vertexArrayCount(){return this.theWisard.getVertexArrayCount()}onInvoke(){this.log("onInvoke"),this.theWisard.findElements()}onReallocate(){this.log("onReallocate"),this.theWisard.reallocate()}log(t){this.theLog.add("App:"+t)}}class ca extends O{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new I;return this._value}next(t){super.next(this._value=t)}}function ha(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}ha.prototype=Object.create(Error.prototype);const da=ha,pa={};class fa{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new ga(t,this.resultSelector))}}class ga extends ${constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(pa),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(z(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,s,l){const i=this.values,r=this.toRespond?i[n]===pa?--this.toRespond:this.toRespond:0;i[n]=e,0===r&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function ma(t){return new x(e=>{let n;try{n=t()}catch(s){return void e.error(s)}return(n?K(n):Qo()).subscribe(e)})}function _a(){return et(1)}function ya(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}ya.prototype=Object.create(Error.prototype);const va=ya;function ba(t){return function(e){return 0===t?Qo():e.lift(new wa(t))}}class wa{constructor(t){if(this.total=t,this.total<0)throw new va}call(t,e){return e.subscribe(new Ca(t,this.total))}}class Ca extends v{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,s=this.count++;e.length<n?e.push(t):e[s%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,s=this.ring;for(let l=0;l<n;l++){const l=e++%n;t.next(s[l])}}t.complete()}}function Sa(t,e,n){return function(s){return s.lift(new Ta(t,e,n))}}class Ta{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new xa(t,this.nextOrObserver,this.error,this.complete))}}class xa extends v{constructor(t,e,n,l){super(t),this._tapNext=C,this._tapError=C,this._tapComplete=C,this._tapError=n||C,this._tapComplete=l||C,s(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||C,this._tapError=e.error||C,this._tapComplete=e.complete||C)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}const Ea=(t=function(){return new da})=>Sa({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw t()}});function ka(t=null){return e=>e.lift(new Ia(t))}class Ia{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Ra(t,this.defaultValue))}}class Ra extends v{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Aa(t,e){const n=arguments.length>=2;return s=>s.pipe(t?eu((e,n)=>t(e,n,s)):tt,ba(1),n?ka(e):Ea(()=>new da))}function Oa(t){return function(e){const n=new Pa(t),s=e.lift(n);return n.caught=s}}class Pa{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Na(t,this.selector,this.caught))}}class Na extends ${constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const s=new M(this,void 0,void 0);this.add(s),z(this,n,void 0,void 0,s)}}}function Ma(t){return e=>0===t?Qo():e.lift(new Da(t))}class Da{constructor(t){if(this.total=t,this.total<0)throw new va}call(t,e){return e.subscribe(new Wa(t,this.total))}}class Wa extends v{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function La(t,e){const n=arguments.length>=2;return s=>s.pipe(t?eu((e,n)=>t(e,n,s)):tt,Ma(1),n?ka(e):Ea(()=>new da))}class Va{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Ba(t,this.predicate,this.thisArg,this.source))}}class Ba extends v{constructor(t,e,n,s){super(t),this.predicate=e,this.thisArg=n,this.source=s,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Fa(t,e){return"function"==typeof e?n=>n.pipe(Fa((n,s)=>K(t(n,s)).pipe(G((t,l)=>e(n,t,s,l))))):e=>e.lift(new ja(t))}class ja{constructor(t){this.project=t}call(t,e){return e.subscribe(new Ua(t,this.project))}}class Ua extends ${constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(s){return void this.destination.error(s)}this._innerSub(e,t,n)}_innerSub(t,e,n){const s=this.innerSubscription;s&&s.unsubscribe();const l=new M(this,void 0,void 0);this.destination.add(l),this.innerSubscription=z(this,t,e,n,l)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,s,l){this.destination.next(e)}}function Ha(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(s){return s.lift(new za(t,e,n))}}class za{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new $a(t,this.accumulator,this.seed,this.hasSeed))}}class $a extends v{constructor(t,e,n,s){super(t),this.accumulator=e,this._seed=n,this.hasSeed=s,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(s){this.destination.error(s)}this.seed=n,this.destination.next(n)}}class Ga{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Ya(t,this.callback))}}class Ya extends v{constructor(t,e){super(t),this.add(new m(e))}}let qa=null;function Xa(){return qa}class Ka{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(t){this._attrToPropMap=t}}class Qa extends Ka{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const e=this.createElement("div",document);if(null!=this.getStyle(e,"animationName"))this._animationPrefix="";else{const t=["Webkit","Moz","O","ms"];for(let n=0;n<t.length;n++)if(null!=this.getStyle(e,t[n]+"AnimationName")){this._animationPrefix="-"+t[n].toLowerCase()+"-";break}}const n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(n).forEach(t=>{null!=this.getStyle(e,t)&&(this._transitionEnd=n[t])})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(t){return t.getDistributedNodes()}resolveAndSetHref(t,e,n){t.href=null==n?e:e+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const Za={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Ja=3,tc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ec={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};let nc;bt.Node&&(nc=bt.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});class sc extends Qa{parse(t){throw new Error("parse not implemented")}static makeCurrent(){var t;t=new sc,qa||(qa=t)}hasProperty(t,e){return e in t}setProperty(t,e,n){t[e]=n}getProperty(t,e){return t[e]}invoke(t,e,n){t[e](...n)}logError(t){window.console&&(console.error?console.error(t):console.log(t))}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return Za}contains(t,e){return nc.call(t,e)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return t.querySelectorAll(e)}on(t,e,n){t.addEventListener(e,n,!1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}createMouseEvent(t){const e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}createEvent(t){const e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}preventDefault(t){t.preventDefault(),t.returnValue=!1}isPrevented(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}getInnerHTML(t){return t.innerHTML}getTemplateContent(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}getOuterHTML(t){return t.outerHTML}nodeName(t){return t.nodeName}nodeValue(t){return t.nodeValue}type(t){return t.type}content(t){return this.hasProperty(t,"content")?t.content:t}firstChild(t){return t.firstChild}nextSibling(t){return t.nextSibling}parentElement(t){return t.parentNode}childNodes(t){return t.childNodes}childNodesAsList(t){const e=t.childNodes,n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=e[s];return n}clearNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}appendChild(t,e){t.appendChild(e)}removeChild(t,e){t.removeChild(e)}replaceChild(t,e,n){t.replaceChild(e,n)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}insertBefore(t,e,n){t.insertBefore(n,e)}insertAllBefore(t,e,n){n.forEach(n=>t.insertBefore(n,e))}insertAfter(t,e,n){t.insertBefore(n,e.nextSibling)}setInnerHTML(t,e){t.innerHTML=e}getText(t){return t.textContent}setText(t,e){t.textContent=e}getValue(t){return t.value}setValue(t,e){t.value=e}getChecked(t){return t.checked}setChecked(t,e){t.checked=e}createComment(t){return this.getDefaultDocument().createComment(t)}createTemplate(t){const e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createElementNS(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}createTextNode(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}createScriptTag(t,e,n){const s=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return s.setAttribute(t,e),s}createStyleElement(t,e){const n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}createShadowRoot(t){return t.createShadowRoot()}getShadowRoot(t){return t.shadowRoot}getHost(t){return t.host}clone(t){return t.cloneNode(!0)}getElementsByClassName(t,e){return t.getElementsByClassName(e)}getElementsByTagName(t,e){return t.getElementsByTagName(e)}classList(t){return Array.prototype.slice.call(t.classList,0)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}hasClass(t,e){return t.classList.contains(e)}setStyle(t,e,n){t.style[e]=n}removeStyle(t,e){t.style[e]=""}getStyle(t,e){return t.style[e]}hasStyle(t,e,n){const s=this.getStyle(t,e)||"";return n?s==n:s.length>0}tagName(t){return t.tagName}attributeMap(t){const e=new Map,n=t.attributes;for(let s=0;s<n.length;s++){const t=n.item(s);e.set(t.name,t.value)}return e}hasAttribute(t,e){return t.hasAttribute(e)}hasAttributeNS(t,e,n){return t.hasAttributeNS(e,n)}getAttribute(t,e){return t.getAttribute(e)}getAttributeNS(t,e,n){return t.getAttributeNS(e,n)}setAttribute(t,e,n){t.setAttribute(e,n)}setAttributeNS(t,e,n,s){t.setAttributeNS(e,n,s)}removeAttribute(t,e){t.removeAttribute(e)}removeAttributeNS(t,e,n){t.removeAttributeNS(e,n)}templateAwareRoot(t){return this.isTemplateElement(t)?this.content(t):t}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(t){return t.title}setTitle(t,e){t.title=e||""}elementMatches(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}isTemplateElement(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}isTextNode(t){return t.nodeType===Node.TEXT_NODE}isCommentNode(t){return t.nodeType===Node.COMMENT_NODE}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}hasShadowRoot(t){return null!=t.shadowRoot&&t instanceof HTMLElement}isShadowRoot(t){return t instanceof DocumentFragment}importIntoDoc(t){return document.importNode(this.templateAwareRoot(t),!0)}adoptNode(t){return document.adoptNode(t)}getHref(t){return t.getAttribute("href")}getEventKey(t){let e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),t.location===Ja&&ec.hasOwnProperty(e)&&(e=ec[e]))}return tc[e]||e}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=ic||(ic=document.querySelector("base"))?ic.getAttribute("href"):null;return null==e?null:(n=e,lc||(lc=document.createElement("a")),lc.setAttribute("href",n),"/"===lc.pathname.charAt(0)?lc.pathname:"/"+lc.pathname);var n}resetBaseElement(){ic=null}getUserAgent(){return window.navigator.userAgent}setData(t,e,n){this.setAttribute(t,"data-"+e,n)}getData(t,e){return this.getAttribute(t,"data-"+e)}getComputedStyle(t){return getComputedStyle(t)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return vu(document.cookie,t)}setCookie(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}let lc,ic=null;const rc=xu;function oc(){return!!window.history.pushState}const uc=function(){class t extends lu{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=Xa().getLocation(),this._history=Xa().getHistory()}getBaseHrefFromDOM(){return Xa().getBaseHref(this._doc)}onPopState(t){Xa().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){Xa().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){oc()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){oc()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}}return t.ctorParameters=(()=>[{type:void 0,decorators:[{type:Ot,args:[rc]}]}]),t}(),ac=new ft("TRANSITION_ID"),cc=[{provide:Cn,useFactory:function(t,e,n){return()=>{n.get(Sn).donePromise.then(()=>{const n=Xa();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(e=>n.getAttribute(e,"ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[ac,rc,Zt],multi:!0}];class hc{static init(){var t;t=new hc,es=t}addToWindow(t){bt.getAngularTestability=((e,n=!0)=>{const s=t.findTestabilityInTree(e,n);if(null==s)throw new Error("Could not find testability for element.");return s}),bt.getAllAngularTestabilities=(()=>t.getAllTestabilities()),bt.getAllAngularRootElements=(()=>t.getAllRootElements()),bt.frameworkStabilizers||(bt.frameworkStabilizers=[]),bt.frameworkStabilizers.push(t=>{const e=bt.getAllAngularTestabilities();let n=e.length,s=!1;const l=function(e){s=s||e,0==--n&&t(s)};e.forEach(function(t){t.whenStable(l)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:n?Xa().isShadowRoot(e)?this.findTestabilityInTree(t,Xa().getHost(e),!0):this.findTestabilityInTree(t,Xa().parentElement(e),!0):null}}function dc(t,e){"undefined"!=typeof COMPILED&&COMPILED||((bt.ng=bt.ng||{})[t]=e)}const pc={ApplicationRef:as,NgZone:zn};function fc(t){return Es(t)}const gc=new ft("EventManagerPlugins");class mc{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let s=0;s<n.length;s++){const e=n[s];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}class _c{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const s=Xa().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,n)}}class yc{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}class vc extends yc{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Xa().remove(t))}}const bc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},wc=/%COMP%/g,Cc="_nghost-%COMP%",Sc="_ngcontent-%COMP%";function Tc(t,e,n){for(let s=0;s<e.length;s++){let l=e[s];Array.isArray(l)?Tc(t,l,n):(l=l.replace(wc,t),n.push(l))}return n}function xc(t){return e=>{!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}class Ec{constructor(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new kc(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case At.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Ac(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case At.Native:case At.ShadowDom:return new Oc(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Tc(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class kc{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(bc[e],t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,s){if(s){e=`${s}:${e}`;const l=bc[s];l?t.setAttributeNS(l,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const s=bc[n];s?t.removeAttributeNS(s,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,s){s&Re.DashCase?t.style.setProperty(e,n,s&Re.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Re.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){Rc(e,"property"),t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return Rc(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,xc(n)):this.eventManager.addEventListener(t,e,xc(n))}}const Ic="@".charCodeAt(0);function Rc(t,e){if(t.charCodeAt(0)===Ic)throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class Ac extends kc{constructor(t,e,n){super(t),this.component=n;const s=Tc(n.id,n.styles,[]);e.addStyles(s),this.contentAttr=Sc.replace(wc,n.id),this.hostAttr=Cc.replace(wc,n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Oc extends kc{constructor(t,e,n,s){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=s,this.shadowRoot=s.encapsulation===At.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const l=Tc(s.id,s.styles,[]);for(let i=0;i<l.length;i++){const t=document.createElement("style");t.textContent=l[i],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const Pc="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},Nc=Pc("addEventListener"),Mc=Pc("removeEventListener"),Dc={},Wc="FALSE",Lc="ANGULAR",Vc="addEventListener",Bc="removeEventListener",Fc="__zone_symbol__propagationStopped",jc="__zone_symbol__stopImmediatePropagation";let Uc;"undefined"!=typeof Zone&&Zone[Pc("BLACK_LISTED_EVENTS")]&&(Uc={});const Hc=function(t){return!!Uc&&Uc.hasOwnProperty(t)},zc=function(t){const e=Dc[t.type];if(!e)return;const n=this[e];if(!n)return;const s=[t];if(1===n.length){const t=n[0];return t.zone!==Zone.current?t.zone.run(t.handler,this,s):t.handler.apply(this,s)}{const e=n.slice();for(let n=0;n<e.length&&!0!==t[Fc];n++){const t=e[n];t.zone!==Zone.current?t.zone.run(t.handler,this,s):t.handler.apply(this,s)}}};class $c extends _c{constructor(t,e,n){super(t),this.ngZone=e,n&&function(t){return t===ku}(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype[jc])return;const t=Event.prototype[jc]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Fc]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,n){let s=n;if(!t[Nc]||zn.isInAngularZone()&&!Hc(e))t[Vc](e,s,!1);else{let n=Dc[e];n||(n=Dc[e]=Pc(Lc+e+Wc));let l=t[n];const i=l&&l.length>0;l||(l=t[n]=[]);const r=Hc(e)?Zone.root:Zone.current;if(0===l.length)l.push({zone:r,handler:s});else{let t=!1;for(let e=0;e<l.length;e++)if(l[e].handler===s){t=!0;break}t||l.push({zone:r,handler:s})}i||t[Nc](e,zc,!1)}return()=>this.removeEventListener(t,e,s)}removeEventListener(t,e,n){let s=t[Mc];if(!s)return t[Bc].apply(t,[e,n,!1]);let l=Dc[e],i=l&&t[l];if(!i)return t[Bc].apply(t,[e,n,!1]);let r=!1;for(let o=0;o<i.length;o++)if(i[o].handler===n){r=!0,i.splice(o,1);break}r?0===i.length&&s.apply(t,[e,zc,!1]):t[Bc].apply(t,[e,n,!1])}}const Gc={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Yc=new ft("HammerGestureConfig"),qc=new ft("HammerLoader");class Xc{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}class Kc extends _c{constructor(t,e,n,s){super(t),this._config=e,this.console=n,this.loader=s}supports(t){return!(!Gc.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(t,e,n){const s=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let s=!1,l=()=>{s=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(l=(()=>{}));s||(l=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom `+"Hammer.JS loader failed."),l=(()=>{})}),()=>{l()}}return s.runOutsideAngular(()=>{const l=this._config.buildHammer(t),i=function(t){s.runGuarded(function(){n(t)})};return l.on(e,i),()=>{l.off(e,i),"function"==typeof l.destroy&&l.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}const Qc=["alt","control","meta","shift"],Zc={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};class Jc extends _c{constructor(t){super(t)}supports(t){return null!=Jc.parseEventName(t)}addEventListener(t,e,n){const s=Jc.parseEventName(e),l=Jc.eventCallback(s.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xa().onAndCancel(t,s.domEventName,l))}static parseEventName(t){const e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;const s=Jc._normalizeKey(e.pop());let l="";if(Qc.forEach(t=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),l+=t+".")}),l+=s,0!=e.length||0===s.length)return null;const i={};return i.domEventName=n,i.fullKey=l,i}static getEventFullKey(t){let e="",n=Xa().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Qc.forEach(s=>{s!=n&&(0,Zc[s])(t)&&(e+=s+".")}),e+=n}static eventCallback(t,e,n){return s=>{Jc.getEventFullKey(s)===t&&n.runGuarded(()=>e(s))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}class th{}class eh extends th{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Pe.NONE:return e;case Pe.HTML:return e instanceof sh?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){let n=null;try{ln=ln||new Be(t);let s=e?String(e):"";n=ln.getInertBodyElement(s);let l=5,i=s;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,s=i,i=n.innerHTML,n=ln.getInertBodyElement(s)}while(s!==i);const r=new tn,o=r.sanitizeChildren(rn(n)||n);return Ve()&&r.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),o}finally{if(n){const t=rn(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e)));case Pe.STYLE:return e instanceof lh?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";const e=t.match(hn);return e&&Ue(e[1])===e[1]||t.match(cn)&&function(t){let e=!0,n=!0;for(let s=0;s<t.length;s++){const l=t.charAt(s);"'"===l&&n?e=!e:'"'===l&&e&&(n=!n)}return e&&n}(t)?t:(Ve()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}(e));case Pe.SCRIPT:if(e instanceof ih)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case Pe.URL:return e instanceof oh||e instanceof rh?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Ue(String(e)));case Pe.RESOURCE_URL:if(e instanceof oh)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(t,e){if(t instanceof nh)throw new Error(`Required a safe ${e}, got a ${t.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(t){return new sh(t)}bypassSecurityTrustStyle(t){return new lh(t)}bypassSecurityTrustScript(t){return new ih(t)}bypassSecurityTrustUrl(t){return new rh(t)}bypassSecurityTrustResourceUrl(t){return new oh(t)}}class nh{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class sh extends nh{getTypeName(){return"HTML"}}class lh extends nh{getTypeName(){return"Style"}}class ih extends nh{getTypeName(){return"Script"}}class rh extends nh{getTypeName(){return"URL"}}class oh extends nh{getTypeName(){return"ResourceURL"}}const uh=is(Hs,"browser",[{provide:In,useValue:Eu},{provide:kn,useValue:function(){sc.makeCurrent(),hc.init()},multi:!0},{provide:lu,useClass:uc,deps:[rc]},{provide:rc,useFactory:function(){return document},deps:[]}]);function ah(){return new vn}class ch{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:ch,providers:[{provide:Tn,useValue:t.appId},{provide:ac,useExisting:Tn},cc]}}}"undefined"!=typeof window&&window;class hh{constructor(t,e){this.id=t,this.url=e}}class dh extends hh{constructor(t,e,n="imperative",s=null){super(t,e),this.navigationTrigger=n,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ph extends hh{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fh extends hh{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gh extends hh{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mh extends hh{constructor(t,e,n,s){super(t,e),this.urlAfterRedirects=n,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _h extends hh{constructor(t,e,n,s){super(t,e),this.urlAfterRedirects=n,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yh extends hh{constructor(t,e,n,s,l){super(t,e),this.urlAfterRedirects=n,this.state=s,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vh extends hh{constructor(t,e,n,s){super(t,e),this.urlAfterRedirects=n,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bh extends hh{constructor(t,e,n,s){super(t,e),this.urlAfterRedirects=n,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wh{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ch{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Sh{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Th{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xh{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Eh{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kh{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ih{}const Rh="primary";class Ah{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Oh(t){return new Ah(t)}const Ph="ngNavigationCancelingError";function Nh(t){const e=Error("NavigationCancelingError: "+t);return e[Ph]=!0,e}function Mh(t,e,n){const s=n.path.split("/");if(s.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||s.length<t.length))return null;const l={};for(let i=0;i<s.length;i++){const e=s[i],n=t[i];if(e.startsWith(":"))l[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,s.length),posParams:l}}class Dh{constructor(t,e){this.routes=t,this.module=e}}function Wh(t,e=""){for(let n=0;n<t.length;n++){const s=t[n];Lh(s,Vh(e,s))}}function Lh(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==Rh)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Wh(t.children,e)}function Vh(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Bh(t){const e=t.children&&t.children.map(Bh),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Rh&&(n.component=Ih),n}function Fh(t,e){const n=Object.keys(t),s=Object.keys(e);if(n.length!=s.length)return!1;let l;for(let i=0;i<n.length;i++)if(t[l=n[i]]!==e[l])return!1;return!0}function jh(t){return Array.prototype.concat.apply([],t)}function Uh(t){return t.length>0?t[t.length-1]:null}function Hh(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function zh(t){return wn(t)?t:bn(t)?K(Promise.resolve(t)):Jo(t)}function $h(t,e,n){return n?function(t,e){return Fh(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Xh(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const s in n.children){if(!e.children[s])return!1;if(!t(e.children[s],n.children[s]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e[n]===t[n])}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,s,l){if(n.segments.length>l.length){return!!Xh(n.segments.slice(0,l.length),l)&&!s.hasChildren()}if(n.segments.length===l.length){if(!Xh(n.segments,l))return!1;for(const e in s.children){if(!n.children[e])return!1;if(!t(n.children[e],s.children[e]))return!1}return!0}{const t=l.slice(0,n.segments.length),i=l.slice(n.segments.length);return!!Xh(n.segments,t)&&!!n.children[Rh]&&e(n.children[Rh],s,i)}}(e,n,n.segments)}(t.root,e.root)}class Gh{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oh(this.queryParams)),this._queryParamMap}toString(){return Jh.serialize(this)}}class Yh{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Hh(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return td(this)}}class qh{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Oh(this.parameters)),this._parameterMap}toString(){return rd(this)}}function Xh(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Kh(t,e){let n=[];return Hh(t.children,(t,s)=>{s===Rh&&(n=n.concat(e(t,s)))}),Hh(t.children,(t,s)=>{s!==Rh&&(n=n.concat(e(t,s)))}),n}class Qh{}class Zh{parse(t){const e=new hd(t);return new Gh(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return td(e);if(n){const n=e.children[Rh]?t(e.children[Rh],!1):"",s=[];return Hh(e.children,(e,n)=>{n!==Rh&&s.push(`${n}:${t(e,!1)}`)}),s.length>0?`${n}(${s.join("//")})`:n}{const n=Kh(e,(n,s)=>s===Rh?[t(e.children[Rh],!1)]:[`${s}:${t(n,!1)}`]);return`${td(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${nd(e)}=${nd(t)}`).join("&"):`${nd(e)}=${nd(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Jh=new Zh;function td(t){return t.segments.map(t=>rd(t)).join("/")}function ed(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nd(t){return ed(t).replace(/%3B/gi,";")}function sd(t){return ed(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ld(t){return decodeURIComponent(t)}function id(t){return ld(t.replace(/\+/g,"%20"))}function rd(t){return`${sd(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${sd(t)}=${sd(e[t])}`).join("")}`;var e}const od=/^[^\/()?;=#]+/;function ud(t){const e=t.match(od);return e?e[0]:""}const ad=/^[^=?&#]+/,cd=/^[^?&#]+/;class hd{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yh([],{}):new Yh([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Rh]=new Yh(t,e)),n}parseSegment(){const t=ud(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new qh(ld(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ud(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=ud(this.remaining);t&&this.capture(n=t)}t[ld(e)]=ld(n)}parseQueryParam(t){const e=function(t){const e=t.match(ad);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(cd);return e?e[0]:""}(this.remaining);t&&this.capture(n=t)}const s=id(e),l=id(n);if(t.hasOwnProperty(s)){let e=t[s];Array.isArray(e)||(t[s]=e=[e]),e.push(l)}else t[s]=l}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=ud(this.remaining),s=this.remaining[n.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let l=void 0;n.indexOf(":")>-1?(l=n.substr(0,n.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=Rh);const i=this.parseChildren();e[l]=1===Object.keys(i).length?i[Rh]:new Yh([],i),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class dd{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=pd(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=pd(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=fd(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return fd(t,this._root).map(t=>t.value)}}function pd(t,e){if(t===e.value)return e;for(const n of e.children){const e=pd(t,n);if(e)return e}return null}function fd(t,e){if(t===e.value)return[e];for(const n of e.children){const s=fd(t,n);if(s.length)return s.unshift(e),s}return[]}class gd{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function md(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class _d extends dd{constructor(t,e){super(t),this.snapshot=e,Sd(this,t)}toString(){return this.snapshot.toString()}}function yd(t,e){const n=function(t,e){const n=new wd([],{},{},"",{},Rh,e,null,t.root,-1,{});return new Cd("",new gd(n,[]))}(t,e),s=new ca([new qh("",{})]),l=new ca({}),i=new ca({}),r=new ca({}),o=new ca(""),u=new vd(s,l,r,o,i,Rh,e,n.root);return u.snapshot=n.root,new _d(new gd(u,[]),n)}class vd{constructor(t,e,n,s,l,i,r,o){this.url=t,this.params=e,this.queryParams=n,this.fragment=s,this.data=l,this.outlet=i,this.component=r,this._futureSnapshot=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(G(t=>Oh(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(G(t=>Oh(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bd(t,e="emptyOnly"){const n=t.pathFromRoot;let s=0;if("always"!==e)for(s=n.length-1;s>=1;){const t=n[s],e=n[s-1];if(t.routeConfig&&""===t.routeConfig.path)s--;else{if(e.component)break;s--}}return function(t){return t.reduce((t,e)=>({params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(s))}class wd{constructor(t,e,n,s,l,i,r,o,u,a,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=s,this.data=l,this.outlet=i,this.component=r,this.routeConfig=o,this._urlSegment=u,this._lastPathIndex=a,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Oh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Cd extends dd{constructor(t,e){super(e),this.url=t,Sd(this,e)}toString(){return Td(this._root)}}function Sd(t,e){e.value._routerState=t,e.children.forEach(e=>Sd(t,e))}function Td(t){const e=t.children.length>0?` { ${t.children.map(Td).join(", ")} } `:"";return`${t.value}${e}`}function xd(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Fh(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Fh(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Fh(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Fh(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Ed(t,e){var n,s;return Fh(t.params,e.params)&&Xh(n=t.url,s=e.url)&&n.every((t,e)=>Fh(t.parameters,s[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Ed(t.parent,e.parent))}function kd(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Id(t,e,n,s,l){let i={};return s&&Hh(s,(t,e)=>{i[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Gh(n.root===t?e:function t(e,n,s){const l={};return Hh(e.children,(e,i)=>{l[i]=e===n?s:t(e,n,s)}),new Yh(e.segments,l)}(n.root,t,e),i,l)}class Rd{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&kd(n[0]))throw new Error("Root segment cannot have matrix parameters");const s=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(s&&s!==Uh(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ad{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Od(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Rh]:`${t}`}function Pd(t,e,n){if(t||(t=new Yh([],{})),0===t.segments.length&&t.hasChildren())return Nd(t,e,n);const s=function(t,e,n){let s=0,l=e;const i={match:!1,pathIndex:0,commandIndex:0};for(;l<t.segments.length;){if(s>=n.length)return i;const e=t.segments[l],r=Od(n[s]),o=s<n.length-1?n[s+1]:null;if(l>0&&void 0===r)break;if(r&&o&&"object"==typeof o&&void 0===o.outlets){if(!Ld(r,o,e))return i;s+=2}else{if(!Ld(r,{},e))return i;s++}l++}return{match:!0,pathIndex:l,commandIndex:s}}(t,e,n),l=n.slice(s.commandIndex);if(s.match&&s.pathIndex<t.segments.length){const e=new Yh(t.segments.slice(0,s.pathIndex),{});return e.children[Rh]=new Yh(t.segments.slice(s.pathIndex),t.children),Nd(e,0,l)}return s.match&&0===l.length?new Yh(t.segments,{}):s.match&&!t.hasChildren()?Md(t,e,n):s.match?Nd(t,0,l):Md(t,e,n)}function Nd(t,e,n){if(0===n.length)return new Yh(t.segments,{});{const s=function(t){return"object"!=typeof t[0]?{[Rh]:t}:void 0===t[0].outlets?{[Rh]:t}:t[0].outlets}(n),l={};return Hh(s,(n,s)=>{null!==n&&(l[s]=Pd(t.children[s],e,n))}),Hh(t.children,(t,e)=>{void 0===s[e]&&(l[e]=t)}),new Yh(t.segments,l)}}function Md(t,e,n){const s=t.segments.slice(0,e);let l=0;for(;l<n.length;){if("object"==typeof n[l]&&void 0!==n[l].outlets){const t=Dd(n[l].outlets);return new Yh(s,t)}if(0===l&&kd(n[0])){s.push(new qh(t.segments[e].path,n[0])),l++;continue}const i=Od(n[l]),r=l<n.length-1?n[l+1]:null;i&&r&&kd(r)?(s.push(new qh(i,Wd(r))),l+=2):(s.push(new qh(i,{})),l++)}return new Yh(s,{})}function Dd(t){const e={};return Hh(t,(t,n)=>{null!==t&&(e[n]=Md(new Yh([],{}),0,t))}),e}function Wd(t){const e={};return Hh(t,(t,n)=>e[n]=`${t}`),e}function Ld(t,e,n){return t==n.path&&Fh(e,n.parameters)}const Vd=(t,e,n)=>G(s=>(new Bd(e,s.targetRouterState,s.currentRouterState,n).activate(t),s));class Bd{constructor(t,e,n,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=s}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),xd(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const s=md(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,s[e],n),delete s[e]}),Hh(s,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const s=t.value,l=e?e.value:null;if(s===l)if(s.component){const l=n.getContext(s.outlet);l&&this.deactivateChildRoutes(t,e,l.children)}else this.deactivateChildRoutes(t,e,n);else l&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),s=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:s})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const s=md(t),l=t.value.component?n.children:e;Hh(s,(t,e)=>this.deactivateRouteAndItsChildren(t,l)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const s=md(e);t.children.forEach(t=>{this.activateRoutes(t,s[t.value.outlet],n),this.forwardEvent(new Eh(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Th(t.value.snapshot))}activateRoutes(t,e,n){const s=t.value,l=e?e.value:null;if(xd(s),s===l)if(s.component){const l=n.getOrCreateContext(s.outlet);this.activateChildRoutes(t,e,l.children)}else this.activateChildRoutes(t,e,n);else if(s.component){const e=n.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const t=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Fd(t.route)}else{const n=function(t){for(let e=s.snapshot.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(),l=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=s,e.resolver=l,e.outlet&&e.outlet.activateWith(s,l),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Fd(t){xd(t.value),t.children.forEach(Fd)}function jd(t){return"function"==typeof t}function Ud(t){return t instanceof Gh}class Hd{constructor(t){this.segmentGroup=t||null}}class zd{constructor(t){this.urlTree=t}}function $d(t){return new x(e=>e.error(new Hd(t)))}function Gd(t){return new x(e=>e.error(new zd(t)))}function Yd(t){return new x(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class qd{constructor(t,e,n,s,l){this.configLoader=e,this.urlSerializer=n,this.urlTree=s,this.config=l,this.allowRedirects=!0,this.ngModule=t.get(Se)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Rh).pipe(G(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Oa(t=>{if(t instanceof zd)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Hd)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Rh).pipe(G(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Oa(t=>{if(t instanceof Hd)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const s=t.segments.length>0?new Yh([],{[Rh]:t}):t;return new Gh(s,e,n)}expandSegmentGroup(t,e,n,s){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(G(t=>new Yh([],t))):this.expandSegment(t,n,e,n.segments,s,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Jo({});const n=[],s=[],l={};return Hh(t,(t,i)=>{const r=e(i,t).pipe(G(t=>l[i]=t));i===Rh?n.push(r):s.push(r)}),Jo.apply(null,n.concat(s)).pipe(_a(),Aa(),G(()=>l))}(n.children,(n,s)=>this.expandSegmentGroup(t,e,s,n))}expandSegment(t,e,n,s,l,i){return Jo(...n).pipe(G(r=>this.expandSegmentAgainstRoute(t,e,n,r,s,l,i).pipe(Oa(t=>{if(t instanceof Hd)return Jo(null);throw t}))),_a(),La(t=>!!t),Oa((t,n)=>{if(t instanceof da||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,s,l))return Jo(new Yh([],{}));throw new Hd(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,s,l,i,r){return Zd(s)!==i?$d(e):void 0===s.redirectTo?this.matchSegmentAgainstRoute(t,e,s,l):r&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,s,l,i):$d(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,s,l,i){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,s,i):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,s,l,i)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,s){const l=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Gd(l):this.lineralizeSegments(n,l).pipe(Q(n=>{const l=new Yh(n,{});return this.expandSegment(t,l,e,n,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,s,l,i){const{matched:r,consumedSegments:o,lastChild:u,positionalParamSegments:a}=Xd(e,s,l);if(!r)return $d(e);const c=this.applyRedirectCommands(o,s.redirectTo,a);return s.redirectTo.startsWith("/")?Gd(c):this.lineralizeSegments(s,c).pipe(Q(s=>this.expandSegment(t,e,n,s.concat(l.slice(u)),i,!1)))}matchSegmentAgainstRoute(t,e,n,s){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(G(t=>(n._loadedConfig=t,new Yh(s,{})))):Jo(new Yh(s,{}));const{matched:l,consumedSegments:i,lastChild:r}=Xd(e,n,s);if(!l)return $d(e);const o=s.slice(r);return this.getChildConfig(t,n,s).pipe(Q(t=>{const n=t.module,s=t.routes,{segmentGroup:l,slicedSegments:r}=function(t,e,n,s){return n.length>0&&function(t,e,n){return s.some(n=>Qd(t,e,n)&&Zd(n)!==Rh)}(t,n)?{segmentGroup:Kd(new Yh(e,function(t,e){const n={};n[Rh]=e;for(const s of t)""===s.path&&Zd(s)!==Rh&&(n[Zd(s)]=new Yh([],{}));return n}(s,new Yh(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return s.some(n=>Qd(t,e,n))}(t,n)?{segmentGroup:Kd(new Yh(t.segments,function(t,e,n,s){const l={};for(const i of n)Qd(t,e,i)&&!s[Zd(i)]&&(l[Zd(i)]=new Yh([],{}));return Object.assign({},s,l)}(t,n,s,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,i,o,s);return 0===r.length&&l.hasChildren()?this.expandChildren(n,s,l).pipe(G(t=>new Yh(i,t))):0===s.length&&0===r.length?Jo(new Yh(i,{})):this.expandSegment(n,l,s,r,Rh,!0).pipe(G(t=>new Yh(i.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Jo(new Dh(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Jo(e._loadedConfig):function(t,e,n){const s=e.canLoad;return s&&0!==s.length?K(s).pipe(G(s=>{const l=t.get(s);let i;if(function(t){return t&&jd(t.canLoad)}(l))i=l.canLoad(e,n);else{if(!jd(l))throw new Error("Invalid CanLoad guard");i=l(e,n)}return zh(i)})).pipe(_a(),(l=(t=>!0===t),t=>t.lift(new Va(l,void 0,t)))):Jo(!0);var l}(t.injector,e,n).pipe(Q(n=>n?this.configLoader.load(t.injector,e).pipe(G(t=>(e._loadedConfig=t,t))):function(t){return new x(e=>e.error(Nh(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Jo(new Dh([],t))}lineralizeSegments(t,e){let n=[],s=e.root;for(;;){if(n=n.concat(s.segments),0===s.numberOfChildren)return Jo(n);if(s.numberOfChildren>1||!s.children[Rh])return Yd(t.redirectTo);s=s.children[Rh]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,s){const l=this.createSegmentGroup(t,e.root,n,s);return new Gh(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Hh(t,(t,s)=>{if("string"==typeof t&&t.startsWith(":")){const l=t.substring(1);n[s]=e[l]}else n[s]=t}),n}createSegmentGroup(t,e,n,s){const l=this.createSegments(t,e.segments,n,s);let i={};return Hh(e.children,(e,l)=>{i[l]=this.createSegmentGroup(t,e,n,s)}),new Yh(l,i)}createSegments(t,e,n,s){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,s):this.findOrReturn(e,n))}findPosParam(t,e,n){const s=n[e.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return s}findOrReturn(t,e){let n=0;for(const s of e){if(s.path===t.path)return e.splice(n),s;n++}return t}}function Xd(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const s=(e.matcher||Mh)(n,t,e);return s?{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,positionalParamSegments:s.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Kd(t){if(1===t.numberOfChildren&&t.children[Rh]){const e=t.children[Rh];return new Yh(t.segments.concat(e.segments),e.children)}return t}function Qd(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Zd(t){return t.outlet||Rh}class Jd{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class tp{constructor(t,e){this.component=t,this.route=e}}function ep(t,e,n){const s=t._root;return function t(e,n,s,l,i={canDeactivateChecks:[],canActivateChecks:[]}){const r=md(n);return e.children.forEach(e=>{!function(e,n,s,l,i={canDeactivateChecks:[],canActivateChecks:[]}){const r=e.value,o=n?n.value:null,u=s?s.getContext(e.value.outlet):null;if(o&&r.routeConfig===o.routeConfig){const a=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Xh(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Xh(t.url,e.url)||!Fh(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ed(t,e)||!Fh(t.queryParams,e.queryParams);case"paramsChange":default:return!Ed(t,e)}}(o,r,r.routeConfig.runGuardsAndResolvers);if(a?i.canActivateChecks.push(new Jd(l)):(r.data=o.data,r._resolvedData=o._resolvedData),t(e,n,r.component?u?u.children:null:s,l,i),a){i.canDeactivateChecks.push(new tp(u&&u.outlet&&u.outlet.component||null,o))}}else o&&sp(n,u,i),i.canActivateChecks.push(new Jd(l)),t(e,null,r.component?u?u.children:null:s,l,i)}(e,r[e.value.outlet],s,l.concat([e.value]),i),delete r[e.value.outlet]}),Hh(r,(t,e)=>sp(t,s.getContext(e),i)),i}(s,e?e._root:null,n,[s.value])}function np(t,e,n){const s=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(s?s.module.injector:n).get(t)}function sp(t,e,n){const s=md(t),l=t.value;Hh(s,(t,s)=>{sp(t,l.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new tp(l.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,l))}const lp=Symbol("INITIAL_VALUE");function ip(){return Fa(t=>(function(...t){let e=null,n=null;return N(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),X(t,n).lift(new fa(e))})(...t.map(t=>t.pipe(Ma(1),function(...t){return e=>{let n=t[t.length-1];N(n)?t.pop():n=null;const s=t.length;return function(...t){return 1===t.length||2===t.length&&N(t[1])?K(t[0]):_a()(Jo(...t))}(1!==s||n?s>0?X(t,n):Qo(n):Zo(t[0]),e)}}(lp)))).pipe(Ha((t,e)=>{let n=!1;return e.reduce((t,s,l)=>{if(t!==lp)return t;if(s===lp&&(n=!0),!n){if(!1===s)return s;if(l===e.length-1||Ud(s))return s}return t},t)},lp),eu(t=>t!==lp),G(t=>Ud(t)?t:!0===t),Ma(1)))}function rp(t,e){return null!==t&&e&&e(new xh(t)),Jo(!0)}function op(t,e){return null!==t&&e&&e(new Sh(t)),Jo(!0)}function up(t,e,n){const s=e.routeConfig?e.routeConfig.canActivate:null;return s&&0!==s.length?Jo(s.map(s=>ma(()=>{const l=np(s,e,n);let i;if(function(t){return t&&jd(t.canActivate)}(l))i=zh(l.canActivate(e,t));else{if(!jd(l))throw new Error("Invalid CanActivate guard");i=zh(l(e,t))}return i.pipe(La())}))).pipe(ip()):Jo(!0)}function ap(t,e,n){const s=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(t=>(function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null})(t)).filter(t=>null!==t).map(e=>ma(()=>Jo(e.guards.map(l=>{const i=np(l,e.node,n);let r;if(function(t){return t&&jd(t.canActivateChild)}(i))r=zh(i.canActivateChild(s,t));else{if(!jd(i))throw new Error("Invalid CanActivateChild guard");r=zh(i(s,t))}return r.pipe(La())})).pipe(ip())));return Jo(l).pipe(ip())}class cp{}class hp{constructor(t,e,n,s,l,i){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=s,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=i}recognize(){try{const e=fp(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,Rh),s=new wd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Rh,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new gd(s,n),i=new Cd(this.url,l);return this.inheritParamsAndData(i._root),Jo(i)}catch(t){return new x(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=bd(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Kh(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};n.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),s=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${s}'.`)}e[t.value.outlet]=t.value})}(),n.sort((t,e)=>t.value.outlet===Rh?-1:e.value.outlet===Rh?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,s){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,s)}catch(l){if(!(l instanceof cp))throw l}if(this.noLeftoversInUrl(e,n,s))return[];throw new cp}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,s){if(t.redirectTo)throw new cp;if((t.outlet||Rh)!==s)throw new cp;let l,i=[],r=[];if("**"===t.path){const i=n.length>0?Uh(n).parameters:{};l=new wd(n,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_p(t),s,t.component,t,dp(e),pp(e)+n.length,yp(t))}else{const o=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new cp;return{consumedSegments:[],lastChild:0,parameters:{}}}const s=(e.matcher||Mh)(n,t,e);if(!s)throw new cp;const l={};Hh(s.posParams,(t,e)=>{l[e]=t.path});const i=s.consumed.length>0?Object.assign({},l,s.consumed[s.consumed.length-1].parameters):l;return{consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:i}}(e,t,n);i=o.consumedSegments,r=n.slice(o.lastChild),l=new wd(i,o.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_p(t),s,t.component,t,dp(e),pp(e)+i.length,yp(t))}const o=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:a}=fp(e,i,r,o,this.relativeLinkResolution);if(0===a.length&&u.hasChildren()){const t=this.processChildren(o,u);return[new gd(l,t)]}if(0===o.length&&0===a.length)return[new gd(l,[])];const c=this.processSegment(o,u,a,Rh);return[new gd(l,c)]}}function dp(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function pp(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function fp(t,e,n,s,l){if(n.length>0&&function(t,e,n){return s.some(n=>gp(t,e,n)&&mp(n)!==Rh)}(t,n)){const l=new Yh(e,function(t,e,n,s){const l={};l[Rh]=s,s._sourceSegment=t,s._segmentIndexShift=e.length;for(const i of n)if(""===i.path&&mp(i)!==Rh){const n=new Yh([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,l[mp(i)]=n}return l}(t,e,s,new Yh(n,t.children)));return l._sourceSegment=t,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return s.some(n=>gp(t,e,n))}(t,n)){const i=new Yh(t.segments,function(t,e,n,s,l,i){const r={};for(const o of s)if(gp(t,n,o)&&!l[mp(o)]){const n=new Yh([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===i?t.segments.length:e.length,r[mp(o)]=n}return Object.assign({},l,r)}(t,e,n,s,t.children,l));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}const i=new Yh(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function gp(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function mp(t){return t.outlet||Rh}function _p(t){return t.data||{}}function yp(t){return t.resolve||{}}function vp(t,e,n,s){const l=np(t,e,s);return zh(l.resolve?l.resolve(e,n):l(e,n))}function bp(t){return function(e){return e.pipe(Fa(e=>{const n=t(e);return n?K(n).pipe(G(()=>e)):K([e])}))}}class wp{}class Cp{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const Sp=new ft("ROUTES");class Tp{constructor(t,e,n,s){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=s}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(G(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const s=n.create(t);return new Dh(jh(s.injector.get(Sp)).map(Bh),s)}))}loadModuleFactory(t){return"string"==typeof t?K(this.loader.load(t)):zh(t()).pipe(Q(t=>t instanceof Te?Jo(t):K(this.compiler.compileModuleAsync(t))))}}class xp{}class Ep{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function kp(t){throw t}function Ip(t,e,n){return e.parse("/")}function Rp(t,e){return Jo(null)}class Ap{constructor(t,e,n,s,l,i,r,o){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=s,this.config=o,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new O,this.errorHandler=kp,this.malformedUriErrorHandler=Ip,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Rp,afterPreactivation:Rp},this.urlHandlingStrategy=new Ep,this.routeReuseStrategy=new Cp,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=l.get(Se),this.console=l.get(An);const u=l.get(zn);this.isNgZoneEnabled=u instanceof zn,this.resetConfig(o),this.currentUrlTree=new Gh(new Yh([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Tp(i,r,t=>this.triggerEvent(new wh(t)),t=>this.triggerEvent(new Ch(t))),this.routerState=yd(this.currentUrlTree,this.rootComponentType),this.transitions=new ca({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(eu(t=>0!==t.id),G(t=>Object.assign({},t,{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Sa(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Fa(t=>{let n=!1,s=!1;return Jo(t).pipe(Fa(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Jo(t).pipe(Fa(t=>{const n=this.transitions.getValue();return e.next(new dh(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Ko:[t]}),Fa(t=>Promise.resolve(t)),function(t,e,n,s){return function(l){return l.pipe(Fa(l=>(function(t,e,n,s,i){return new qd(t,e,n,l.extractedUrl,i).apply()})(t,e,n,0,s).pipe(G(t=>Object.assign({},l,{urlAfterRedirects:t})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Sa(t=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,e,n,s,l){return function(i){return i.pipe(Q(i=>(function(t,e,n,s,l="emptyOnly",i="legacy"){return new hp(t,e,n,s,l,i).recognize()})(t,e,i.urlAfterRedirects,n(i.urlAfterRedirects),s,l).pipe(G(t=>Object.assign({},i,{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Sa(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id),this.browserUrlTree=t.urlAfterRedirects)}),Sa(t=>{const n=new mh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:s,source:l,restoredState:i,extras:r}=t,o=new dh(n,this.serializeUrl(s),l,i);e.next(o);const u=yd(s,this.rootComponentType).snapshot;return Jo(Object.assign({},t,{targetSnapshot:u,urlAfterRedirects:s,extras:Object.assign({},r,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,t.resolve(null),Ko}),bp(t=>{const{targetSnapshot:e,id:n,extractedUrl:s,rawUrl:l,extras:{skipLocationChange:i,replaceUrl:r}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:s,rawUrlTree:l,skipLocationChange:!!i,replaceUrl:!!r})}),Sa(t=>{const e=new _h(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),G(t=>Object.assign({},t,{guards:ep(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Q(n=>{const{targetSnapshot:s,currentSnapshot:l,guards:{canActivateChecks:i,canDeactivateChecks:r}}=n;return 0===r.length&&0===i.length?Jo(Object.assign({},n,{guardsResult:!0})):function(t,e,n,s){return K(r).pipe(Q(t=>(function(t,e,n,s,l){const i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return i&&0!==i.length?Jo(i.map(i=>{const r=np(i,e,l);let o;if(function(t){return t&&jd(t.canDeactivate)}(r))o=zh(r.canDeactivate(t,e,n,s));else{if(!jd(r))throw new Error("Invalid CanDeactivate guard");o=zh(r(t,e,n,s))}return o.pipe(La())})).pipe(ip()):Jo(!0)})(t.component,t.route,n,e,s)),La(t=>!0!==t,!0))}(0,s,l,t).pipe(Q(n=>n&&function(t){return"boolean"==typeof n}()?function(t,e,n,s){return K(i).pipe(tu(e=>K([op(e.route.parent,s),rp(e.route,s),ap(t,e.path,n),up(t,e.route,n)]).pipe(_a(),La(t=>!0!==t,!0))),La(t=>!0!==t,!0))}(s,0,t,e):Jo(n)),G(t=>Object.assign({},n,{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Sa(t=>{if(Ud(t.guardsResult)){const e=Nh(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Sa(t=>{const e=new yh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),eu(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new fh(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),bp(t=>{if(t.guards.canActivateChecks.length)return Jo(t).pipe(Sa(t=>{const e=new vh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),function(t,e){return function(n){return n.pipe(Q(n=>{const{targetSnapshot:s,guards:{canActivateChecks:l}}=n;return l.length?K(l).pipe(tu(n=>(function(t,e,n,l){return function(t,e,n,s){const l=Object.keys(t);if(0===l.length)return Jo({});if(1===l.length){const i=l[0];return vp(t[i],e,n,s).pipe(G(t=>({[i]:t})))}const i={};return K(l).pipe(Q(l=>vp(t[l],e,n,s).pipe(G(t=>(i[l]=t,t))))).pipe(Aa(),G(()=>i))}(t._resolve,t,s,l).pipe(G(e=>(t._resolvedData=e,t.data=Object.assign({},t.data,bd(t,n).resolve),null)))})(n.route,0,t,e)),function(t,e){return arguments.length>=2?function(e){return S(Ha(t,void 0),ba(1),ka(void 0))(e)}:function(e){return S(Ha((e,n,s)=>t(e)),ba(1))(e)}}((t,e)=>t),G(t=>n)):Jo(n)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),Sa(t=>{const e=new bh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),bp(t=>{const{targetSnapshot:e,id:n,extractedUrl:s,rawUrl:l,extras:{skipLocationChange:i,replaceUrl:r}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:s,rawUrlTree:l,skipLocationChange:!!i,replaceUrl:!!r})}),G(t=>{const e=function(t,e,n){const s=function t(e,n,s){if(s&&e.shouldReuseRoute(n.value,s.value.snapshot)){const l=s.value;l._futureSnapshot=n.value;const i=function(e,n,s){return n.children.map(n=>{for(const l of s.children)if(e.shouldReuseRoute(l.value.snapshot,n.value))return t(e,n,l);return t(e,n)})}(e,n,s);return new gd(l,i)}{const s=e.retrieve(n.value);if(s){const t=s.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let s=0;s<e.children.length;++s)t(e.children[s],n.children[s])}(n,t),t}{const s=new vd(new ca((l=n.value).url),new ca(l.params),new ca(l.queryParams),new ca(l.fragment),new ca(l.data),l.outlet,l.component,l),i=n.children.map(n=>t(e,n));return new gd(s,i)}}var l}(t,e._root,n?n._root:void 0);return new _d(s,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:e})}),Sa(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Vd(this.rootContexts,this.routeReuseStrategy,t=>this.triggerEvent(t)),Sa({next(){n=!0},complete(){n=!0}}),function(t){return e=>e.lift(new Ga(t))}(()=>{if(!n&&!s){this.resetUrlToCurrentUrlTree();const n=new fh(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Oa(n=>{if(s=!0,function(t){return n&&n[Ph]}()){const s=Ud(n.url);s||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const l=new fh(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(l),t.resolve(!1),s&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const s=new gh(t.id,this.serializeUrl(t.extractedUrl),n);e.next(s);try{t.resolve(this.errorHandler(n))}catch(l){t.reject(l)}}return Ko}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){return this.transitions.value}setTransition(t){this.transitions.next(Object.assign({},this.getTransition(),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",s=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,s,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Wh(t),this.config=t.map(Bh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:s,fragment:l,preserveQueryParams:i,queryParamsHandling:r,preserveFragment:o}=e;Ve()&&i&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,a=o?this.currentUrlTree.fragment:l;let c=null;if(r)switch(r){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,s);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=s||null}else c=i?this.currentUrlTree.queryParams:s||null;return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,s,l){if(0===n.length)return Id(e.root,e.root,e,s,l);const i=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Rd(!0,0,t);let e=0,n=!1;const s=t.reduce((t,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const e={};return Hh(s.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(s.segmentPath)return[...t,s.segmentPath]}return"string"!=typeof s?[...t,s]:0===l?(s.split("/").forEach((s,l)=>{0==l&&"."===s||(0==l&&""===s?n=!0:".."===s?e++:""!=s&&t.push(s))}),t):[...t,s]},[]);return new Rd(n,e,s)}(n);if(i.toRoot())return Id(e.root,new Yh([],{}),e,s,l);const r=function(t,n,s){if(t.isAbsolute)return new Ad(e.root,!0,0);if(-1===s.snapshot._lastPathIndex)return new Ad(s.snapshot._urlSegment,!0,0);const l=kd(t.commands[0])?0:1;return function(e,n,i){let r=s.snapshot._urlSegment,o=s.snapshot._lastPathIndex+l,u=t.numberOfDoubleDots;for(;u>o;){if(u-=o,!(r=r.parent))throw new Error("Invalid number of '../'");o=r.segments.length}return new Ad(r,!1,o-u)}()}(i,0,t),o=r.processChildren?Nd(r.segmentGroup,r.index,i.commands):Pd(r.segmentGroup,r.index,i.commands);return Id(r.segmentGroup,o,e,s,l)}(u,this.currentUrlTree,t,c,a)}navigateByUrl(t,e={skipLocationChange:!1}){Ve()&&this.isNgZoneEnabled&&!zn.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Ud(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Ud(t))return $h(this.currentUrlTree,t,e);const n=this.parseUrl(t);return $h(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const s=t[n];return null!=s&&(e[n]=s),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new ph(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,s){const l=this.getTransition();if(l&&"imperative"!==e&&"imperative"===l.source&&l.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(l&&"hashchange"==e&&"popstate"===l.source&&l.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(l&&"popstate"==e&&"hashchange"===l.source&&l.rawUrl.toString()===t.toString())return Promise.resolve(!0);let i=null,r=null;const o=new Promise((t,e)=>{i=t,r=e}),u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:i,reject:r,promise:o,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),o.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,s){const l=this.urlSerializer.serialize(t);s=s||{},this.location.isCurrentPathEqualTo(l)||e?this.location.replaceState(l,"",Object.assign({},s,{navigationId:n})):this.location.go(l,"",Object.assign({},s,{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class Op{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof ph&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Ve()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,s){if(0!==t||e||n||s)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const l={skipLocationChange:Pp(this.skipLocationChange),replaceUrl:Pp(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,l),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Pp(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Pp(this.preserveFragment)})}}function Pp(t){return""===t||!!t}class Np{constructor(t,e,n,s){this.router=t,this.element=e,this.renderer=n,this.cdr=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(t=>{t instanceof ph&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(t=>this.update()),this.linksWithHrefs.changes.subscribe(t=>this.update()),this.update()}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))}}class Mp{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Dp,this.attachRef=null}}class Dp{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Mp,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Wp{constructor(t,e,n,s,l){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new on,this.deactivateEvents=new on,this.name=s||Rh,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),s=this.parentContexts.getOrCreateContext(this.name).children,l=new Lp(t,s,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class Lp{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===vd?this.route:t===Dp?this.childContexts:this.parent.get(t,e)}}class Vp{}class Bp{preload(t,e){return e().pipe(Oa(()=>Jo(null)))}}class Fp{preload(t,e){return Jo(null)}}class jp{constructor(t,e,n,s,l){this.router=t,this.injector=s,this.preloadingStrategy=l,this.loader=new Tp(e,n,e=>t.triggerEvent(new wh(e)),e=>t.triggerEvent(new Ch(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(eu(t=>t instanceof ph),tu(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Se);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const s of e)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const t=s._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else s.loadChildren&&!s.canLoad?n.push(this.preloadConfig(t,s)):s.children&&n.push(this.processRoutes(t,s.children));return K(n).pipe(et(),G(t=>void 0))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Q(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}class Up{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof dh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ph&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof kh&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new kh(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const Hp=new ft("ROUTER_CONFIGURATION"),zp=new ft("ROUTER_FORROOT_GUARD"),$p=[uu,{provide:Qh,useClass:Zh},{provide:Ap,useFactory:Zp,deps:[as,Qh,Dp,uu,Zt,dn,Wn,Sp,Hp,[xp,new Pt],[wp,new Pt]]},Dp,{provide:vd,useFactory:Jp,deps:[Ap]},{provide:dn,useClass:ms},jp,Fp,Bp,{provide:Hp,useValue:{enableTracing:!1}}];function Gp(){return new ls("Router",Ap)}class Yp{constructor(t,e){}static forRoot(t,e){return{ngModule:Yp,providers:[$p,Qp(t),{provide:zp,useFactory:Kp,deps:[[Ap,new Pt,new Mt]]},{provide:Hp,useValue:e||{}},{provide:ru,useFactory:Xp,deps:[lu,[new Ot(ou),new Pt],Hp]},{provide:Up,useFactory:qp,deps:[Ap,Iu,Hp]},{provide:Vp,useExisting:e&&e.preloadingStrategy?e.preloadingStrategy:Fp},{provide:ls,multi:!0,useFactory:Gp},[tf,{provide:Cn,multi:!0,useFactory:ef,deps:[tf]},{provide:sf,useFactory:nf,deps:[tf]},{provide:Rn,multi:!0,useExisting:sf}]]}}static forChild(t){return{ngModule:Yp,providers:[Qp(t)]}}}function qp(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Up(t,e,n)}function Xp(t,e,n={}){return n.useHash?new cu(t,e):new hu(t,e)}function Kp(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Qp(t){return[{provide:_t,multi:!0,useValue:t},{provide:Sp,multi:!0,useValue:t}]}function Zp(t,e,n,s,l,i,r,o,u={},a,c){const h=new Ap(null,e,n,s,l,i,r,jh(o));if(a&&(h.urlHandlingStrategy=a),c&&(h.routeReuseStrategy=c),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=Xa();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function Jp(t){return t.routerState.root}class tf{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new O}appInitializer(){return this.injector.get(iu,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Ap),s=this.injector.get(Hp);if(this.isLegacyDisabled(s)||this.isLegacyEnabled(s))t(!0);else if("disabled"===s.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==s.initialNavigation)throw new Error(`Invalid initialNavigation options: '${s.initialNavigation}'`);n.hooks.afterPreactivation=(()=>this.initNavigation?Jo(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone)),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Hp),n=this.injector.get(jp),s=this.injector.get(Up),l=this.injector.get(Ap),i=this.injector.get(as);t===i.components[0]&&(this.isLegacyEnabled(e)?l.initialNavigation():this.isLegacyDisabled(e)&&l.setUpLocationChangeListener(),n.setUpPreloading(),s.init(),l.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}function ef(t){return t.appInitializer.bind(t)}function nf(t){return t.bootstrapListener.bind(t)}const sf=new ft("Router Initializer");var lf=hl({encapsulation:2,styles:[],data:{}});function rf(t){return Zi(0,[(t()(),Bl(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),ki(1,212992,null,0,Wp,[Dp,ys,be,[8,null],bs],null,null)],function(t,e){t(e,1,0)},null)}function of(t){return Zi(0,[(t()(),Bl(0,0,null,null,1,"ng-component",[],null,null,null,rf,lf)),ki(1,49152,null,0,Ih,[],null,null)],null,null)}var uf=si("ng-component",Ih,of,{},{},[]);class af{constructor(){}ngOnInit(){}}var cf=hl({encapsulation:2,styles:[],data:{}});function hf(t){return Zi(0,[(t()(),Bl(0,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(1,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Introduction to WISARD:"])),(t()(),Bl(3,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(4,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),Bl(5,0,null,null,1,"a",[["href","https://en.wikipedia.org/wiki/RAMnets#RAM-discriminators_and_WiSARD"],["target","_blank"]],null,null,null,null,null)),(t()(),Xi(-1,null,["WISARD"])),(t()(),Xi(-1,null,[" is an early example of a hardware neural network pattern recognition machine (1981)."])),(t()(),Bl(8,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["WISARD was designed and built by Bruce Wilkie at Brunel University as part of his Phd project with the backing of Professor Igor Aleksander and Dr John Stonham."])),(t()(),Bl(10,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["WISARD was a hardware machine that used a parallel architecture to run at video frame rates."])),(t()(),Bl(12,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["WISARD is on display at the London Science Museum in the "])),(t()(),Bl(14,0,null,null,1,"a",[["href","https://www.sciencemuseum.org.uk/learning/mathematics-winton-gallery-school-info"],["target","_blank"]],null,null,null,null,null)),(t()(),Xi(-1,null,["Winton Gallery"])),(t()(),Xi(-1,null,["."])),(t()(),Bl(17,0,null,null,1,"p",[["style","text-align:center;"]],null,null,null,null,null)),(t()(),Bl(18,0,null,null,0,"img",[["alt","WISARD at the Science Museum in London."],["src","./assets/images/wisard.jpg"],["width","80%"]],null,null,null,null,null)),(t()(),Bl(19,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["WISARD used Random Access Memories ("])),(t()(),Bl(21,0,null,null,1,"a",[["href","https://en.wikipedia.org/wiki/Random-access_memory"],["target","_blank"]],null,null,null,null,null)),(t()(),Xi(-1,null,["RAMs"])),(t()(),Xi(-1,null,[") to emulate a simplistic neuron."])),(t()(),Bl(24,0,null,null,1,"p",[["style","text-align:center;"]],null,null,null,null,null)),(t()(),Bl(25,0,null,null,0,"img",[["alt","Soft WiSARD overview"],["src","./assets/images/neuron_ram.jpg"],["width","80%"]],null,null,null,null,null)),(t()(),Bl(26,0,null,null,10,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The diagram above shows a simplified view of a neuron. The inputs are attached to other neurons via "])),(t()(),Bl(28,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),Xi(-1,null,["dendrites"])),(t()(),Xi(-1,null,[", it processes its inputs within the "])),(t()(),Bl(31,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),Xi(-1,null,["neucleus"])),(t()(),Xi(-1,null,[", and the output is delivered to other neurons via the "])),(t()(),Bl(34,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),Xi(-1,null,["axon"])),(t()(),Xi(-1,null,["."])),(t()(),Bl(37,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["WISARD used RAMs to emulate a simplistic neuron. The inputs are attached to the scene being recognised, the processing is performed using a programmable (teachable) lookup table (RAM). A collection of inputs can be treated as an address that is used to locate a pigeon hole within each RAM. The output contains the stored contents of each pigeon hole being addressed."])),(t()(),Bl(39,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["WISARD used thousands of RAMs to store and recognise each scene. The hardware treated a single RAM as a crude feature detector to handle part of the scene, but it used thousands of these feature detectors to handle the whole scene and produced a more reliable result."])),(t()(),Bl(41,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["This site does not attempt to describe how the original WISARD hardware worked, instead it describes a software simulation of WISARD. It will walk you through all of the internal stages and finally demonstate a working system."])),(t()(),Bl(43,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["This software simulation runs within your browser, it uses JavaScript, which would normally be much slower than the original WISARD hardware, however it alsp uses the WebGL "])),(t()(),Bl(45,0,null,null,1,"a",[["href","https://en.wikipedia.org/wiki/OpenGL_Shading_Language"],["target","_blank"]],null,null,null,null,null)),(t()(),Xi(-1,null,["Shading Language"])),(t()(),Xi(-1,null,[" to perform most of the processing steps within your computer's graphic card, this should make it run much faster than if it was using pure JavaScript."])),(t()(),Bl(48,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["This software was written as an experiment in WebGL and the Shading Language."])),(t()(),Bl(50,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["WebGL is normally used for 3D rendering, however that does not exclude its 2D use, as demonstrated by this project."])),(t()(),Bl(52,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["A runnable demo can be found at: "])),(t()(),Bl(54,0,null,null,1,"a",[["href","https://malcolmbinstead.github.io/wisard/"],["target","_blank"]],null,null,null,null,null)),(t()(),Xi(-1,null,["demo"])),(t()(),Xi(-1,null,["."])),(t()(),Bl(57,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["And the source code can be found at: "])),(t()(),Bl(59,0,null,null,1,"a",[["href","https://github.com/malcolmbinstead/wisard/"],["target","_blank"]],null,null,null,null,null)),(t()(),Xi(-1,null,["src"])),(t()(),Xi(-1,null,["."])),(t()(),Bl(62,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Please note that this demo requires that you are using a browser and a display card that supports WebGL2."])),(t()(),Bl(64,0,null,null,0,"br",[],null,null,null,null,null))],null,null)}function df(t){return Zi(0,[(t()(),Bl(0,0,null,null,1,"app-intro",[],null,null,null,hf,cf)),ki(1,114688,null,0,af,[],null,null)],function(t,e){t(e,1,0)},null)}var pf=si("app-intro",af,df,{},{},[]);class ff{constructor(){}ngOnInit(){}}var gf=hl({encapsulation:2,styles:[],data:{}});function mf(t){return Zi(0,[(t()(),Bl(0,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(1,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Soft WiSARD overview:"])),(t()(),Bl(3,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(4,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The basic purpose of WISARD is to indentify the contents of a scene."])),(t()(),Bl(6,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["WISARD contains a collection of classifiers. A classifier can be thought of as a black box. A classifier is shown a scene and told to memorise the features within it, a classifier is then be shown another scene and asked to report the number of features detected."])),(t()(),Bl(8,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["WISARD contains a classifier for each 'type' of scene it wants to recognise. When shown an unknown scene it presents this scene to all its classifiers and then uses their reports to identify the most likely 'type' of scene."])),(t()(),Bl(10,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The diagram below shows an overview of the Soft WISARD implementation."])),(t()(),Bl(12,0,null,null,1,"p",[["style","text-align:center;"]],null,null,null,null,null)),(t()(),Bl(13,0,null,null,0,"img",[["alt","Soft WiSARD overview"],["src","./assets/images/overview.jpg"],["width","80%"]],null,null,null,null,null)),(t()(),Bl(14,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The diagram above has three major sections, top, middle and bottom."])),(t()(),Bl(16,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The top section contains the common processing pipeline that prepares the image for training and recognition."])),(t()(),Bl(18,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The middle section contains a group of classifiers. Each classifier contains a short pipeline for storage, matching and scoring the features."])),(t()(),Bl(20,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The bottom part of the diagram is where the scores from the classifiers are collated to make a decision."])),(t()(),Bl(22,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(23,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Soft WISARD parts"])),(t()(),Bl(25,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(26,0,null,null,51,"dl",[],null,null,null,null,null)),(t()(),Bl(27,0,null,null,1,"dt",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Source"])),(t()(),Bl(29,0,null,null,1,"dd",[],null,null,null,null,null)),(t()(),Xi(-1,null,["This stage takes imagery into the pipeline."])),(t()(),Bl(31,0,null,null,1,"dt",[],null,null,null,null,null)),(t()(),Xi(-1,null,["View"])),(t()(),Bl(33,0,null,null,1,"dd",[],null,null,null,null,null)),(t()(),Xi(-1,null,["This stage creates a window that can be moved, scaled or rotated within the Source."])),(t()(),Bl(35,0,null,null,1,"dt",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Threshold"])),(t()(),Bl(37,0,null,null,1,"dd",[],null,null,null,null,null)),(t()(),Xi(-1,null,["This stage converts the coloured image into a binary image."])),(t()(),Bl(39,0,null,null,1,"dt",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Scramble"])),(t()(),Bl(41,0,null,null,1,"dd",[],null,null,null,null,null)),(t()(),Xi(-1,null,["This stage scrambles the binary image, this ensures that features are made up of randomly chosen points from within the View."])),(t()(),Bl(43,0,null,null,1,"dt",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Features"])),(t()(),Bl(45,0,null,null,5,"dd",[],null,null,null,null,null)),(t()(),Xi(-1,null,["This stage sequentially breaks up the scrambled image into small clusters of bits, these small clusters we'll call 'features'."])),(t()(),Bl(47,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Xi(-1,null,[" A feature is a group of randomly chosen points from with the view."])),(t()(),Bl(49,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Xi(-1,null,[" A feature can be used as an RAM address, the addressed location in each RAM is written to during training and read from during testing."])),(t()(),Bl(51,0,null,null,1,"dt",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Decoder (optional)"])),(t()(),Bl(53,0,null,null,1,"dd",[],null,null,null,null,null)),(t()(),Xi(-1,null,["This stage can be used to view how the input image has been converted into an array of features, and how these features address locations within the array of RAMs."])),(t()(),Bl(55,0,null,null,1,"dt",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Store 'n'"])),(t()(),Bl(57,0,null,null,7,"dd",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The store is a collection of RAMs."])),(t()(),Bl(59,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Xi(-1,null,[" This stage is used to record features that were present during the training phase."])),(t()(),Bl(61,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Xi(-1,null,[" During the training phase the features are used to identify which RAM locations will be written to."])),(t()(),Bl(63,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Xi(-1,null,[" During the testing phase the features are used to identify which RAM locations will be read from."])),(t()(),Bl(65,0,null,null,1,"dt",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Match 'n'"])),(t()(),Bl(67,0,null,null,1,"dd",[],null,null,null,null,null)),(t()(),Xi(-1,null,["During the testing phase this shows which features within the classifier have be recognised."])),(t()(),Bl(69,0,null,null,1,"dt",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Score 'n'"])),(t()(),Bl(71,0,null,null,1,"dd",[],null,null,null,null,null)),(t()(),Xi(-1,null,["During the testing phase this shows how many features within the classifier have been recognised."])),(t()(),Bl(73,0,null,null,1,"dt",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Result"])),(t()(),Bl(75,0,null,null,1,"dd",[],null,null,null,null,null)),(t()(),Xi(-1,null,["This shows the decision made by the group of classifiers."])),(t()(),Bl(77,0,null,null,0,"br",[],null,null,null,null,null))],null,null)}function _f(t){return Zi(0,[(t()(),Bl(0,0,null,null,1,"app-overview",[],null,null,null,mf,gf)),ki(1,114688,null,0,ff,[],null,null)],function(t,e){t(e,1,0)},null)}var yf=si("app-overview",ff,_f,{},{},[]);class vf{constructor(t,e){this.theLog=t,this.theWisard=e,this.itsVideoRef=null,this.itsFileName="",this.log("constructor:")}ngOnInit(){this.log("ngOnInit:"),this.itsVideoRef=this.theWisard.findObjectRefByClassIdNameId("W1Source0"),this.loadFileName()}ngOnDestroy(){this.log("ngOnDestroy:"),this.itsVideoRef=null}getObject(t){let e=null;return null!==t&&(e=t.getRef()),e}getVideoObject(){return this.getObject(this.itsVideoRef)}onClickVideo1(){this.setFileName("sample1.mp4")}onClickVideo2(){this.setFileName("sample2.mp4")}loadFileName(){const t=this.getVideoObject();null!==t&&(this.itsFileName=t.getFileName())}setFileName(t){this.itsFileName=t;const e=this.getVideoObject();null!==e&&e.setFileName(this.itsFileName)}get filename(){return this.itsFileName}log(t){this.theLog.add("Source:"+t)}}var bf=hl({encapsulation:2,styles:[],data:{}});function wf(t){return Zi(0,[(t()(),Bl(0,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(1,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Source:"])),(t()(),Bl(3,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(4,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The 'Source' is responsible for taking imagery into the processing pipeline."])),(t()(),Bl(6,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The imagery can be a still frame or a video file."])),(t()(),Bl(8,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The image size (in pixels) is defined by the file being read."])),(t()(),Bl(10,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The size of the 'Source' within the browser is controlled by CSS."])),(t()(),Bl(12,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(13,0,null,null,13,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Source"])),(t()(),Bl(15,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(16,0,null,null,0,"div",[["class","W1Source0 WBorder2 W200 H200"]],null,null,null,null,null)),(t()(),Bl(17,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(18,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),Xi(19,null,["",""])),(t()(),Bl(20,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(21,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onClickVideo1()&&s),s},null,null)),(t()(),Xi(-1,null,["Video1"])),(t()(),Bl(23,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(24,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onClickVideo2()&&s),s},null,null)),(t()(),Xi(-1,null,["Video2"])),(t()(),Bl(26,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(27,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(28,0,null,null,0,"br",[],null,null,null,null,null))],null,function(t,e){t(e,19,0,e.component.filename)})}function Cf(t){return Zi(0,[(t()(),Bl(0,0,null,null,1,"app-source",[],null,null,null,wf,bf)),ki(1,245760,null,0,vf,[ro,ua],null,null)],function(t,e){t(e,1,0)},null)}var Sf=si("app-source",vf,Cf,{},{},[]);function Tf(t){return null!=t&&"false"!==`${t}`}function xf(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function Ef(t){return Array.isArray(t)?t:[t]}function kf(t){return null==t?"":"string"==typeof t?t:`${t}px`}function If(t){return t instanceof xe?t.nativeElement:t}const Rf=33,Af=34,Of=35,Pf=36,Nf=37,Mf=38,Df=39,Wf=40;class Lf extends ${constructor(t,e){super(t),this.sources=e,this.completed=0,this.haveValues=0;const n=e.length;this.values=new Array(n);for(let s=0;s<n;s++){const t=z(this,e[s],null,s);t&&this.add(t)}}notifyNext(t,e,n,s,l){this.values[n]=e,l._hasValue||(l._hasValue=!0,this.haveValues++)}notifyComplete(t){const{destination:e,haveValues:n,values:s}=this,l=s.length;t._hasValue?(this.completed++,this.completed===l&&(n===l&&e.next(s),e.complete())):e.complete()}}class Vf{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Bf extends Vf{get formDirective(){return null}get path(){return null}}function Ff(t){return null==t||0===t.length}const jf=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;class Uf{static min(t){return e=>{if(Ff(e.value)||Ff(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Ff(e.value)||Ff(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Ff(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Ff(t.value)?null:jf.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(Ff(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return Uf.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Ff(t.value))return null;const s=t.value;return e.test(s)?null:{pattern:{requiredPattern:n,actualValue:s}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Hf);return 0==e.length?null:function(t){return $f(function(t,n){return e.map(e=>e(t))}(t))}}static composeAsync(t){if(!t)return null;const e=t.filter(Hf);return 0==e.length?null:function(t){return function t(...e){let n;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&u(e[0])&&(e=e[0]),0===e.length?Ko:n?t(e).pipe(G(t=>n(...t))):new x(t=>new Lf(t,e))}(function(t,n){return e.map(e=>e(t))}(t).map(zf)).pipe(G($f))}}}function Hf(t){return null!=t}function zf(t){const e=bn(t)?K(t):t;if(!wn(e))throw new Error("Expected validator to return Promise or Observable.");return e}function $f(t){const e=t.reduce((t,e)=>null!=e?Object.assign({},t,e):t,{});return 0===Object.keys(e).length?null:e}const Gf=new ft("NgValueAccessor");class Yf{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=(t=>{}),this.onTouched=(()=>{}),this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Xa()?Xa().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}function qf(t){return t.validate?e=>t.validate(e):t}function Xf(t){return t.validate?e=>t.validate(e):t}function Kf(){throw new Error("unimplemented")}class Qf extends Vf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Kf()}get asyncValidator(){return Kf()}}class Zf{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}const Jf={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};function tg(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}class eg{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=(t=>{}),this.onTouched=(()=>{}),this._compareWith=xt}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=tg(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=(e=>{this.value=this._getOptionValue(e),t(this.value)})}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}class ng{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(tg(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function sg(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}class lg{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(sg(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(sg(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function ig(t,e){return[...e.path,t]}function rg(t,e){t||ug(e,"Cannot find control with"),e.valueAccessor||ug(e,"No value accessor for form control with"),t.validator=Uf.compose([t.validator,e.validator]),t.asyncValidator=Uf.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&og(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&og(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function og(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ug(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function ag(t){return null!=t?Uf.compose(t.map(qf)):null}function cg(t){return null!=t?Uf.composeAsync(t.map(Xf)):null}const hg=[class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=(t=>{}),this.onTouched=(()=>{})}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=(t=>{}),this.onTouched=(()=>{})}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=(e=>{t(""==e?null:parseFloat(e))})}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=(t=>{}),this.onTouched=(()=>{})}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=(e=>{t(""==e?null:parseFloat(e))})}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},eg,class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=(t=>{}),this.onTouched=(()=>{}),this._compareWith=xt}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=((t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)})}else e=((t,e)=>{t._setSelected(!1)});this._optionMap.forEach(e)}registerOnChange(t){this.onChange=(e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const s=t.item(e),l=this._getOptionValue(s.value);n.push(l)}}else{const t=e.options;for(let e=0;e<t.length;e++){const s=t.item(e);if(s.selected){const t=this._getOptionValue(s.value);n.push(t)}}}this.value=n,t(n)})}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},class{constructor(t,e,n,s){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=s,this.onChange=(()=>{}),this.onTouched=(()=>{})}ngOnInit(){this._control=this._injector.get(Qf),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=(()=>{t(this.value),this._registry.select(this)})}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}];class dg extends Bf{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ig(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ag(this._validators)}get asyncValidator(){return cg(this._asyncValidators)}_checkParentType(){}}class pg{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class fg extends pg{constructor(t){super(t)}}const gg="VALID",mg="INVALID",_g="PENDING",yg="DISABLED";function vg(t){const e=wg(t)?t.validators:t;return Array.isArray(e)?ag(e):e||null}function bg(t,e){const n=wg(e)?e.asyncValidators:t;return Array.isArray(n)?cg(n):n||null}function wg(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Cg{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=(()=>{}),this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===gg}get invalid(){return this.status===mg}get pending(){return this.status==_g}get disabled(){return this.status===yg}get enabled(){return this.status!==yg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=vg(t)}setAsyncValidators(t){this.asyncValidator=bg(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=_g,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){this.status=yg,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(t),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){this.status=gg,this._forEachChild(e=>{e.enable(Object.assign({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(t),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==gg&&this.status!==_g||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yg:gg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=_g;const e=zf(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((t,e)=>t instanceof Tg?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof xg&&t.at(e)||null,t))}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new on,this.statusChanges=new on}_calculateStatus(){return this._allControlsDisabled()?yg:this.errors?mg:this._anyControlsHaveStatus(_g)?_g:this._anyControlsHaveStatus(mg)?mg:gg}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){wg(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}}class Sg extends Cg{constructor(t=null,e,n){super(vg(e),bg(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=(()=>{})}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Tg extends Cg{constructor(t,e,n){super(vg(e),bg(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,s)=>{n.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Sg?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,s)=>{e=e||this.contains(s)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,s)=>{n=e(n,t,s)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class xg extends Cg{constructor(t,e,n){super(vg(e),bg(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,s)=>{n.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)}getRawValue(){return this.controls.map(t=>t instanceof Sg?t.value:t.getRawValue())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Eg=Promise.resolve(null);class kg extends Bf{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new on,this.form=new Tg({},ag(t),cg(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Eg.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),rg(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Eg.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),function(e,n){const s=e.indexOf(t);s>-1&&e.splice(s,1)}(this._directives)})}addFormGroup(t){Eg.then(()=>{const e=this._findContainer(t.path),n=new Tg({});(function(t,e){null==t&&ug(e,"Cannot find control with"),t.validator=Uf.compose([t.validator,e.validator]),t.asyncValidator=Uf.composeAsync([t.asyncValidator,e.asyncValidator])})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Eg.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Eg.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}class Ig{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${Jf.formControlName}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ${Jf.ngModelWithFormGroup}`)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${Jf.formGroupName}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${Jf.ngModelGroup}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${Jf.formGroupName}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${Jf.ngModelGroup}`)}static ngFormWarning(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}const Rg=new ft("NgFormSelectorWarning");class Ag extends dg{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof Ag||this._parent instanceof kg||Ig.modelGroupParentException()}}const Og=Promise.resolve(null);class Pg extends Qf{constructor(t,e,n,s){super(),this.control=new Sg,this._registered=!1,this.update=new on,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||ug(t,"Value accessor was not provided as an array for form control with");let n=void 0,s=void 0,l=void 0;return e.forEach(e=>{e.constructor===Yf?n=e:function(t){return hg.some(e=>t.constructor===e)}(e)?(s&&ug(t,"More than one built-in value accessor matches form control with"),s=e):(l&&ug(t,"More than one custom value accessor matches form control with"),l=e)}),l||s||n||(ug(t,"No valid value accessor for form control with"),null)}(this,s)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!xt(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?ig(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ag(this._rawValidators)}get asyncValidator(){return cg(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){rg(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof Ag)&&this._parent instanceof dg?Ig.formGroupNameException():this._parent instanceof Ag||this._parent instanceof kg||Ig.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Ig.missingNameException()}_updateValue(t){Og.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Og.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}class Ng{}class Mg{static withConfig(t){return{ngModule:Mg,providers:[{provide:Rg,useValue:t.warnOnDeprecatedNgFormSelector}]}}}const Dg="undefined"!=typeof Intl&&Intl.v8BreakIterator,Wg=function(){class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?this._platformId===Eu:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Dg)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.ngInjectableDef=dt({factory:function(){return new t(Bt(In,8))},token:t,providedIn:"root"}),t}();class Lg{}let Vg;function Bg(t){return function(){if(null==Vg&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Vg=!0}))}finally{Vg=Vg||!1}return Vg}()?t:!!t.capture}class Fg extends m{constructor(t,e){super()}schedule(t,e=0){return this}}class jg extends Fg{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,s=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(s,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,s=void 0;try{this.work(t)}catch(l){n=!0,s=!!l&&l||new Error(l)}if(n)return this.unsubscribe(),s}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,s=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&n.splice(s,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}const Ug=function(){class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=(()=>Date.now()),t}();class Hg extends Ug{constructor(t,e=Ug.now){super(t,()=>Hg.delegate&&Hg.delegate!==this?Hg.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Hg.delegate&&Hg.delegate!==this?Hg.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const zg=new Hg(jg),$g=650,Gg=Bg({passive:!0,capture:!0}),Yg=function(){class t{constructor(t,e){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=(()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")}),this._documentMousedownListener=(()=>{this._lastTouchTarget||this._setOriginForCurrentEventQueue("mouse")}),this._documentTouchstartListener=(t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=t.target,this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,$g)}),this._windowFocusListener=(()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)})}monitor(t,e=!1){if(!this._platform.isBrowser)return Jo(null);const n=If(t);if(this._elementInfo.has(n)){let t=this._elementInfo.get(n);return t.checkChildren=e,t.subject.asObservable()}let s={unlisten:()=>{},checkChildren:e,subject:new O};this._elementInfo.set(n,s),this._incrementMonitoredElementCount();let l=t=>this._onFocus(t,n),i=t=>this._onBlur(t,n);return this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",l,!0),n.addEventListener("blur",i,!0)}),s.unlisten=(()=>{n.removeEventListener("focus",l,!0),n.removeEventListener("blur",i,!0)}),s.subject.asObservable()}stopMonitoring(t){const e=If(t),n=this._elementInfo.get(e);n&&(n.unlisten(),n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())}focusVia(t,e,n){const s=If(t);this._setOriginForCurrentEventQueue(e),"function"==typeof s.focus&&s.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_setClasses(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originTimeoutId=setTimeout(()=>this._origin=null,1)})}_wasCausedByTouch(t){let e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==t.target)return;let s=this._origin;s||(s=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,s),this._emitOrigin(n.subject,s),this._lastFocusOrigin=s}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_incrementMonitoredElementCount(){1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular(()=>{document.addEventListener("keydown",this._documentKeydownListener,Gg),document.addEventListener("mousedown",this._documentMousedownListener,Gg),document.addEventListener("touchstart",this._documentTouchstartListener,Gg),window.addEventListener("focus",this._windowFocusListener)})}_decrementMonitoredElementCount(){--this._monitoredElementCount||(document.removeEventListener("keydown",this._documentKeydownListener,Gg),document.removeEventListener("mousedown",this._documentMousedownListener,Gg),document.removeEventListener("touchstart",this._documentTouchstartListener,Gg),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId))}}return t.ngInjectableDef=dt({factory:function(){return new t(Bt(zn),Bt(Wg))},token:t,providedIn:"root"}),t}(),qg=new ft("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});class Xg{constructor(t,e){this._sanityChecksEnabled=t,this._hammerLoader=e,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._hasDoneGlobalChecks=!0)}_areChecksEnabled(){return this._sanityChecksEnabled&&Ve()&&!this._isTestEnv()}_isTestEnv(){const t=this._window;return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._document||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkHammerIsAvailable(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)}}function Kg(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Tf(t)}}}function Qg(t,e){return class extends t{get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...t){super(...t),this.color=e}}}function Zg(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?t:e}}}const Jg=new ft("MAT_HAMMER_OPTIONS"),tm=["longpress","slide","slidestart","slideend","slideright","slideleft"],em={on:()=>{},off:()=>{}};class nm extends Xc{constructor(t,e){super(),this._hammerOptions=t,this.events=tm,e&&e._checkHammerIsAvailable()}buildHammer(t){const e="undefined"!=typeof window?window.Hammer:null;if(!e)return em;const n=new e(t,this._hammerOptions||void 0),s=new e.Pan,l=new e.Swipe,i=new e.Press,r=this._createRecognizer(s,{event:"slide",threshold:0},l),o=this._createRecognizer(i,{event:"longpress",time:500});return s.recognizeWith(l),o.recognizeWith(r),n.add([l,i,s,r,o]),n}_createRecognizer(t,e,...n){let s=new t.constructor(e);return n.push(t),n.forEach(t=>s.recognizeWith(t)),s}}class sm{}class lm{}class im{}const rm=30,om=7,um=7,am=10;class cm{}class hm{constructor(t){this._elementRef=t}}const dm=Zg(Qg(Kg(hm),"accent"));class pm extends dm{constructor(t,e,n,s,l,i){super(t),this._focusMonitor=e,this._changeDetectorRef=n,this._dir=s,this._animationMode=i,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new on,this.input=new on,this.valueChange=new on,this.onTouched=(()=>{}),this._percent=0,this._isSliding=!1,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=(()=>{}),this._dirChangeSubscription=m.EMPTY,this.tabIndex=parseInt(l)||0}get invert(){return this._invert}set invert(t){this._invert=Tf(t)}get max(){return this._max}set max(t){this._max=xf(t,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(t){this._min=xf(t,this._min),null===this._value&&(this.value=this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(t){this._step=xf(t,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(t){this._thumbLabel=Tf(t)}get tickInterval(){return this._tickInterval}set tickInterval(t){this._tickInterval="auto"===t?"auto":"number"==typeof t||"string"==typeof t?xf(t,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(t){if(t!==this._value){let e=xf(t);this._roundToDecimal&&(e=parseFloat(e.toFixed(this._roundToDecimal))),this._value=e,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(t){this._vertical=Tf(t)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(){this._focusHostElement()}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}get _invertAxis(){return this.vertical?!this.invert:this.invert}get _isMinValue(){return 0===this.percent}get _thumbGap(){return this.disabled?om:this._isMinValue&&!this.thumbLabel?this._isActive?am:um:0}get _trackBackgroundStyles(){const t=this.vertical?`1, ${1-this.percent}, 1`:`${1-this.percent}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._thumbGap}px) scale3d(${t})`}}get _trackFillStyles(){const t=this.vertical?`1, ${this.percent}, 1`:`${this.percent}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._thumbGap}px) scale3d(${t})`}}get _ticksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}get _ticksStyles(){let t=100*this._tickIntervalPercent,e={backgroundSize:this.vertical?`2px ${t}%`:`${t}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${t/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};return this._isMinValue&&this._thumbGap&&(e[`padding${this.vertical?this._invertAxis?"Bottom":"Top":this._invertAxis?"Right":"Left"}`]=`${this._thumbGap}px`),e}get _thumbContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){return"rtl"!=this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngOnInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{this._isActive=!!t&&"keyboard"!==t,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onMousedown(t){if(this.disabled||0!==t.button)return;const e=this.value;this._isSliding=!1,this._focusHostElement(),this._updateValueFromPosition({x:t.clientX,y:t.clientY}),e!=this.value&&(this._emitInputEvent(),this._emitChangeEvent())}_onSlide(t){if(this.disabled)return;this._isSliding||this._onSlideStart(null),t.preventDefault();let e=this.value;this._updateValueFromPosition({x:t.center.x,y:t.center.y}),e!=this.value&&this._emitInputEvent()}_onSlideStart(t){this.disabled||this._isSliding||(this._onMouseenter(),this._isSliding=!0,this._focusHostElement(),this._valueOnSlideStart=this.value,t&&(this._updateValueFromPosition({x:t.center.x,y:t.center.y}),t.preventDefault()))}_onSlideEnd(){this._isSliding=!1,this._valueOnSlideStart==this.value||this.disabled||this._emitChangeEvent(),this._valueOnSlideStart=null}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(t){if(this.disabled||function(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}(t))return;const e=this.value;switch(t.keyCode){case Rf:this._increment(10);break;case Af:this._increment(-10);break;case Of:this.value=this.max;break;case Pf:this.value=this.min;break;case Nf:this._increment("rtl"==this._getDirection()?1:-1);break;case Mf:this._increment(1);break;case Df:this._increment("rtl"==this._getDirection()?-1:1);break;case Wf:this._increment(-1);break;default:return}e!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding=!0,t.preventDefault()}_onKeyup(){this._isSliding=!1}_increment(t){this.value=this._clamp((this.value||0)+this.step*t,this.min,this.max)}_updateValueFromPosition(t){if(!this._sliderDimensions)return;let e=this._clamp(((this.vertical?t.y:t.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(e=1-e),0===e)this.value=this.min;else if(1===e)this.value=this.max;else{const t=this._calculateValue(e),n=Math.round((t-this.min)/this.step)*this.step+this.min;this.value=this._clamp(n,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(this.tickInterval&&this._sliderDimensions)if("auto"==this.tickInterval){let t=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,e=Math.ceil(rm/(t*this.step/(this.max-this.min)));this._tickIntervalPercent=e*this.step/t}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)}_createChangeEvent(t=this.value){let e=new cm;return e.source=this,e.value=t,e}_calculatePercentage(t){return((t||0)-this.min)/(this.max-this.min)}_calculateValue(t){return this.min+t*(this.max-this.min)}_clamp(t,e=0,n=1){return Math.max(e,Math.min(t,n))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(){this._elementRef.nativeElement.focus()}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(t){this.value=t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}}class fm{}const gm=new ft("cdk-dir-doc",{providedIn:"root",factory:function(){return Bt(xu)}}),mm=function(){class t{constructor(t){if(this.value="ltr",this.change=new on,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.ngInjectableDef=dt({factory:function(){return new t(Bt(gm,8))},token:t,providedIn:"root"}),t}();class _m{}class ym{}class vm{}const bm="*";function wm(t,e=null){return{type:2,steps:t,options:e}}function Cm(t){return{type:6,styles:t,offset:null}}function Sm(t){Promise.resolve(null).then(t)}class Tm{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Sm(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class xm{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,s=0;const l=this.players.length;0==l?Sm(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==l&&this._onFinish()}),t.onDestroy(()=>{++n==l&&this._onDestroy()}),t.onStart(()=>{++s==l&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const Em="!";function km(){return"undefined"!=typeof process}function Im(t){switch(t.length){case 0:return new Tm;case 1:return t[0];default:return new xm(t)}}function Rm(t,e,n,s,l={},i={}){const r=[],o=[];let u=-1,a=null;if(s.forEach(t=>{const n=t.offset,s=n==u,c=s&&a||{};Object.keys(t).forEach(n=>{let s=n,o=t[n];if("offset"!==n)switch(s=e.normalizePropertyName(s,r),o){case Em:o=l[n];break;case bm:o=i[n];break;default:o=e.normalizeStyleValue(n,s,o,r)}c[s]=o}),s||o.push(c),a=c,u=n}),r.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${r.join(t)}`)}return o}function Am(t,e,n,s){switch(e){case"start":t.onStart(()=>s(n&&Om(n,"start",t)));break;case"done":t.onDone(()=>s(n&&Om(n,"done",t)));break;case"destroy":t.onDestroy(()=>s(n&&Om(n,"destroy",t)))}}function Om(t,e,n){const s=n.totalTime,l=Pm(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==s?t.totalTime:s,!!n.disabled),i=t._data;return null!=i&&(l._data=i),l}function Pm(t,e,n,s,l="",i=0,r){return{element:t,triggerName:e,fromState:n,toState:s,phaseName:l,totalTime:i,disabled:!!r}}function Nm(t,e,n){let s;return t instanceof Map?(s=t.get(e))||t.set(e,s=n):(s=t[e])||(s=t[e]=n),s}function Mm(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Dm=(t,e)=>!1,Wm=(t,e)=>!1,Lm=(t,e,n)=>[];const Vm=km();if(Vm||"undefined"!=typeof Element){if(Dm=((t,e)=>t.contains(e)),Vm||Element.prototype.matches)Wm=((t,e)=>t.matches(e));else{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;e&&(Wm=((t,n)=>e.apply(t,[n])))}Lm=((t,e,n)=>{let s=[];if(n)s.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&s.push(n)}return s})}let Bm=null,Fm=!1;function jm(t){Bm||(Bm=("undefined"!=typeof document?document.body:null)||{},Fm=!!Bm.style&&"WebkitAppearance"in Bm.style);let e=!0;return Bm.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&!(e=t in Bm.style)&&Fm&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Bm.style),e}const Um=Wm,Hm=Dm,zm=Lm;function $m(t){const e={};return Object.keys(t).forEach(n=>{const s=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[s]=t[n]}),e}class Gm{validateStyleProperty(t){return jm(t)}matchesElement(t,e){return Um(t,e)}containsElement(t,e){return Hm(t,e)}query(t,e,n){return zm(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,s,l,i=[],r){return new Tm(n,s)}}const Ym=function(){class t{}return t.NOOP=new Gm,t}(),qm=1e3,Xm="{{",Km="ng-enter",Qm="ng-leave",Zm="ng-trigger",Jm=".ng-trigger",t_="ng-animating",e_=".ng-animating";function n_(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:s_(parseFloat(e[1]),e[2])}function s_(t,e){switch(e){case"s":return t*qm;default:return t}}function l_(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let s,l=0,i="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};s=s_(parseFloat(n[1]),n[2]);const r=n[3];null!=r&&(l=s_(parseFloat(r),n[4]));const o=n[5];o&&(i=o)}else s=t;if(!n){let n=!1,i=e.length;s<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),l<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(i,0,`The provided timing value "${t}" is invalid.`)}return{duration:s,delay:l,easing:i}}(t,e,n)}function i_(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function r_(t,e,n={}){if(e)for(let s in t)n[s]=t[s];else i_(t,n);return n}function o_(t,e,n){return n?e+":"+n+";":""}function u_(t){let e="";for(let n=0;n<t.style.length;n++){const s=t.style.item(n);e+=o_(0,s,t.style.getPropertyValue(s))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=o_(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function a_(t,e,n){t.style&&(Object.keys(e).forEach(s=>{const l=__(s);n&&!n.hasOwnProperty(s)&&(n[s]=t.style[l]),t.style[l]=e[s]}),km()&&u_(t))}function c_(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=__(e);t.style[n]=""}),km()&&u_(t))}function h_(t){return Array.isArray(t)?1==t.length?t[0]:wm(t):t}const d_=new RegExp(`${Xm}\\s*(.+?)\\s*}}`,"g");function p_(t){let e=[];if("string"==typeof t){const n=t.toString();let s;for(;s=d_.exec(n);)e.push(s[1]);d_.lastIndex=0}return e}function f_(t,e,n){const s=t.toString(),l=s.replace(d_,(t,s)=>{let l=e[s];return e.hasOwnProperty(s)||(n.push(`Please provide a value for the animation param ${s}`),l=""),l.toString()});return l==s?t:l}function g_(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const m_=/-+([a-z0-9])/g;function __(t){return t.replace(m_,(...t)=>t[1].toUpperCase())}function y_(t,e){return 0===t||0===e}function v_(t,e,n){const s=Object.keys(n);if(s.length&&e.length){let i=e[0],r=[];if(s.forEach(t=>{i.hasOwnProperty(t)||r.push(t),i[t]=n[t]}),r.length)for(var l=1;l<e.length;l++){let n=e[l];r.forEach(function(e){n[e]=w_(t,e)})}}return e}function b_(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function w_(t,e){return window.getComputedStyle(t)[e]}const C_="*";function S_(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>(function(t,e,n){if(":"==t[0]){const s=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof s)return void e.push(s);t=s}const s=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const l=s[1],i=s[2],r=s[3];e.push(E_(l,r)),"<"!=i[0]||l==C_&&r==C_||e.push(E_(r,l))})(t,n,e)):n.push(t),n}const T_=new Set(["true","1"]),x_=new Set(["false","0"]);function E_(t,e){const n=T_.has(t)||x_.has(t),s=T_.has(e)||x_.has(e);return(l,i)=>{let r=t==C_||t==l,o=e==C_||e==i;return!r&&n&&"boolean"==typeof l&&(r=l?T_.has(t):x_.has(t)),!o&&s&&"boolean"==typeof i&&(o=i?T_.has(e):x_.has(e)),r&&o}}const k_=":self",I_=new RegExp(`s*${k_}s*,?`,"g");function R_(t,e,n){return new O_(t).build(e,n)}const A_="";class O_{constructor(t){this._driver=t}build(t,e){const n=new P_(e);return this._resetContextStyleTimingState(n),b_(this,h_(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector=A_,t.collectedStyles={},t.collectedStyles[A_]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,s=e.depCount=0;const l=[],i=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,s=n.name;s.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,l.push(this.visitState(n,e))}),n.name=s}else if(1==t.type){const l=this.visitTransition(t,e);n+=l.queryCount,s+=l.depCount,i.push(l)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:l,transitions:i,queryCount:n,depCount:s,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(n.containsDynamicStyles){const l=new Set,i=s||{};if(n.styles.forEach(t=>{if(N_(t)){const e=t;Object.keys(e).forEach(t=>{p_(e[t]).forEach(t=>{i.hasOwnProperty(t)||l.add(t)})})}}),l.size){const n=g_(l.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=b_(this,h_(t.animation),e);return{type:1,matchers:S_(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:M_(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>b_(this,t,e)),options:M_(t.options)}}visitGroup(t,e){const n=e.currentTime;let s=0;const l=t.steps.map(t=>{e.currentTime=n;const l=b_(this,t,e);return s=Math.max(s,e.currentTime),l});return e.currentTime=s,{type:3,steps:l,options:M_(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return D_(l_(t,e).duration,0,"");const s=t;if(s.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=D_(0,0,"");return t.dynamic=!0,t.strValue=s,t}return D_((n=n||l_(s,e)).duration,n.delay,n.easing)}(t.timings,e.errors);let s;e.currentAnimateTimings=n;let l=t.styles?t.styles:Cm({});if(5==l.type)s=this.visitKeyframes(l,e);else{let l=t.styles,i=!1;if(!l){i=!0;const t={};n.easing&&(t.easing=n.easing),l=Cm(t)}e.currentTime+=n.duration+n.delay;const r=this.visitStyle(l,e);r.isEmptyStep=i,s=r}return e.currentAnimateTimings=null,{type:4,timings:n,style:s,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==bm?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let s=!1,l=null;return n.forEach(t=>{if(N_(t)){const e=t,n=e.easing;if(n&&(l=n,delete e.easing),!s)for(let t in e)if(e[t].toString().indexOf(Xm)>=0){s=!0;break}}}),{type:6,styles:n,easing:l,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let s=e.currentTime,l=e.currentTime;n&&l>0&&(l-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const i=e.collectedStyles[e.currentQuerySelector],r=i[n];let o=!0;r&&(l!=s&&l>=r.startTime&&s<=r.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${r.startTime}ms" and "${r.endTime}ms" is also being animated in a parallel animation between the times of "${l}ms" and "${s}ms"`),o=!1),l=r.startTime),o&&(i[n]={startTime:l,endTime:s}),e.options&&function(s,l,i){const r=e.options.params||{},o=p_(t[n]);o.length&&o.forEach(t=>{r.hasOwnProperty(t)||i.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(0,0,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let s=0;const l=[];let i=!1,r=!1,o=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(N_(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(N_(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),a=0;return null!=u&&(s++,a=n.offset=u),r=r||a<0||a>1,i=i||a<o,o=a,l.push(a),n});r&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),i&&e.errors.push("Please ensure that all keyframe offsets are in order");const a=t.steps.length;let c=0;s>0&&s<a?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(c=1/(a-1));const h=a-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return u.forEach((t,s)=>{const i=c>0?s==h?1:c*s:l[s],r=i*f;e.currentTime=d+p.delay+r,p.duration=r,this._validateStyleAst(t,e),t.offset=i,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:b_(this,h_(t.animation),e),options:M_(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:M_(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:M_(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[l,i]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>t==k_);return e&&(t=t.replace(I_,"")),[t=t.replace(/@\*/g,Jm).replace(/@\w+/g,t=>Jm+"-"+t.substr(1)).replace(/:animating/g,e_),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+l:l,Nm(e.collectedStyles,e.currentQuerySelector,{});const r=b_(this,h_(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:l,limit:s.limit||0,optional:!!s.optional,includeSelf:i,animation:r,originalSelector:t.selector,options:M_(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:l_(t.timings,e.errors,!0);return{type:12,animation:b_(this,h_(t.animation),e),timings:n,options:null}}}class P_{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function N_(t){return!Array.isArray(t)&&"object"==typeof t}function M_(t){var e;return t?(t=i_(t)).params&&(t.params=(e=t.params)?i_(e):null):t={},t}function D_(t,e,n){return{duration:t,delay:e,easing:n}}function W_(t,e,n,s,l,i,r=null,o=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:s,duration:l,delay:i,totalTime:l+i,easing:r,subTimeline:o}}class L_{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const V_=1,B_=new RegExp(":enter","g"),F_=new RegExp(":leave","g");function j_(t,e,n,s,l,i={},r={},o,u,a=[]){return(new U_).buildKeyframes(t,e,n,s,l,i,r,o,u,a)}class U_{buildKeyframes(t,e,n,s,l,i,r,o,u,a=[]){u=u||new L_;const c=new z_(t,e,u,s,l,a,[]);c.options=o,c.currentTimeline.setStyles([i],null,c.errors,o),b_(this,n,c);const h=c.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(r).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([r],null,c.errors,o)}return h.length?h.map(t=>t.buildKeyframes()):[W_(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const s=e.createSubContext(t.options),l=e.currentTimeline.currentTime,i=this._visitSubInstructions(n,s,s.options);l!=i&&e.transformIntoNewTimeline(i)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let s=e.currentTimeline.currentTime;const l=null!=n.duration?n_(n.duration):null,i=null!=n.delay?n_(n.delay):null;return 0!==l&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,l,i);s=Math.max(s,n.duration+n.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),b_(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let s=e;const l=t.options;if(l&&(l.params||l.delay)&&((s=e.createSubContext(l)).transformIntoNewTimeline(),null!=l.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=H_);const t=n_(l.delay);s.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>b_(this,t,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>n&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let s=e.currentTimeline.currentTime;const l=t.options&&t.options.delay?n_(t.options.delay):0;t.steps.forEach(i=>{const r=e.createSubContext(t.options);l&&r.delayNextStep(l),b_(this,i,r),s=Math.max(s,r.currentTimeline.currentTime),n.push(r.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return l_(e.params?f_(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),s.snapshotCurrentStyles());const l=t.style;5==l.type?this.visitKeyframes(l,e):(e.incrementTime(n.duration),this.visitStyle(l,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,s=e.currentAnimateTimings;!s&&n.getCurrentStyleProperties().length&&n.forwardFrame();const l=s&&s.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(l):n.setStyles(t.styles,l,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,s=e.currentTimeline.duration,l=n.duration,i=e.createSubContext().currentTimeline;i.easing=n.easing,t.styles.forEach(t=>{i.forwardTime((t.offset||0)*l),i.setStyles(t.styles,t.easing,e.errors,e.options),i.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(i),e.transformIntoNewTimeline(s+l),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,s=t.options||{},l=s.delay?n_(s.delay):0;l&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=H_);let i=n;const r=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=r.length;let o=null;r.forEach((n,s)=>{e.currentQueryIndex=s;const r=e.createSubContext(t.options,n);l&&r.delayNextStep(l),n===e.element&&(o=r.currentTimeline),b_(this,t.animation,r),r.currentTimeline.applyStylesToKeyframe(),i=Math.max(i,r.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(i),o&&(e.currentTimeline.mergeTimelineCollectedStyles(o),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,s=e.currentTimeline,l=t.timings,i=Math.abs(l.duration),r=i*(e.currentQueryTotal-1);let o=i*e.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":o=r-o;break;case"full":o=n.currentStaggerTime}const u=e.currentTimeline;o&&u.delayNextStep(o);const a=u.currentTime;b_(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=s.currentTime-a+(s.startTime-n.currentTimeline.startTime)}}const H_={};class z_{constructor(t,e,n,s,l,i,r,o){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=s,this._leaveClassName=l,this.errors=i,this.timelines=r,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=H_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=o||new $_(this._driver,e,0),r.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let s=this.options;null!=n.duration&&(s.duration=n_(n.duration)),null!=n.delay&&(s.delay=n_(n.delay));const l=n.params;if(l){let t=s.params;t||(t=this.options.params={}),Object.keys(l).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=f_(l[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const s=e||this.element,l=new z_(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,n||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(t),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(t){return this.previousNode=H_,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const s={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},l=new G_(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(l),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,s,l,i){let r=[];if(s&&r.push(this.element),t.length>0){t=(t=t.replace(B_,"."+this._enterClassName)).replace(F_,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),r.push(...e)}return l||0!=r.length||i.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),r}}class $_{constructor(t,e,n,s){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new $_(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=V_,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||bm,this._currentKeyframe[t]=bm}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,s){e&&(this._previousKeyframe.easing=e);const l=s&&s.params||{},i=function(t,e){const n={};let s;return t.forEach(t=>{"*"===t?(s=s||Object.keys(e)).forEach(t=>{n[t]=bm}):r_(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(i).forEach(t=>{const e=f_(i[t],l,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:bm),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],s=t._styleSummary[e];(!n||s.time>n.time)&&this._updateStyle(e,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((l,i)=>{const r=r_(l,!0);Object.keys(r).forEach(n=>{const s=r[n];s==Em?t.add(n):s==bm&&e.add(n)}),n||(r.offset=i/this.duration),s.push(r)});const l=t.size?g_(t.values()):[],i=e.size?g_(e.values()):[];if(n){const t=s[0],e=i_(t);t.offset=0,e.offset=1,s=[t,e]}return W_(this.element,s,l,i,this.duration,this.startTime,this.easing,!1)}}class G_ extends $_{constructor(t,e,n,s,l,i,r=!1){super(t,e,i.delay),this.element=e,this.keyframes=n,this.preStyleProps=s,this.postStyleProps=l,this._stretchStartingKeyframe=r,this.timings={duration:i.duration,delay:i.delay,easing:i.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const l=[],i=n+e,r=e/i,o=r_(t[0],!1);o.offset=0,l.push(o);const u=r_(t[0],!1);u.offset=Y_(r),l.push(u);const a=t.length-1;for(let s=1;s<=a;s++){let r=r_(t[s],!1);r.offset=Y_((e+r.offset*n)/i),l.push(r)}n=i,e=0,s="",t=l}return W_(this.element,t,this.preStyleProps,this.postStyleProps,n,e,s,!0)}}function Y_(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class q_{}class X_ extends q_{normalizePropertyName(t,e){return __(t)}normalizeStyleValue(t,e,n,s){let l="";const i=n.toString().trim();if(K_[e]&&0!==n&&"0"!==n)if("number"==typeof n)l="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&s.push(`Please provide a CSS unit value for ${t}:${n}`)}return i+l}}const K_=Q_("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function Q_(t){const e={};return t.forEach(t=>e[t]=!0),e}function Z_(t,e,n,s,l,i,r,o,u,a,c,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:l,fromState:n,fromStyles:i,toState:s,toStyles:r,timelines:o,queriedElements:u,preStyleProps:a,postStyleProps:c,totalTime:h,errors:d}}const J_={};class ty{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,s){return function(t,e,n,s,l){return t.some(t=>t(e,n,s,l))}(this.ast.matchers,t,e,n,s)}buildStyles(t,e,n){const s=this._stateStyles["*"],l=this._stateStyles[t],i=s?s.buildStyles(e,n):{};return l?l.buildStyles(e,n):i}build(t,e,n,s,l,i,r,o,u,a){const c=[],h=this.ast.options&&this.ast.options.params||J_,d=this.buildStyles(n,r&&r.params||J_,c),p=o&&o.params||J_,f=this.buildStyles(s,p,c),g=new Set,m=new Map,_=new Map,y="void"===s,v={params:Object.assign({},h,p)},b=a?[]:j_(t,e,this.ast.animation,l,i,d,f,v,u,c);let w=0;if(b.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return Z_(e,this._triggerName,n,s,y,d,f,[],[],m,_,w,c);b.forEach(t=>{const n=t.element,s=Nm(m,n,{});t.preStyleProps.forEach(t=>s[t]=!0);const l=Nm(_,n,{});t.postStyleProps.forEach(t=>l[t]=!0),n!==e&&g.add(n)});const C=g_(g.values());return Z_(e,this._triggerName,n,s,y,d,f,b,C,m,_,w)}}class ey{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},s=i_(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(s[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const l=t;Object.keys(l).forEach(t=>{let i=l[t];i.length>1&&(i=f_(i,s,e)),n[t]=i})}}),n}}class ny{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new ey(t.style,t.options&&t.options.params||{})}),sy(this.states,"true","1"),sy(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new ty(t,e,this.states))}),this.fallbackTransition=new ty(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,s){return this.transitionFactories.find(l=>l.match(t,e,n,s))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function sy(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const ly=new L_;class iy{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],s=R_(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=s}_buildPlayer(t,e,n){const s=t.element,l=Rm(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(s,l,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const s=[],l=this._animations[t];let i;const r=new Map;if(l?(i=j_(this._driver,e,l,Km,Qm,{},{},n,ly,s)).forEach(t=>{const e=Nm(r,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)}):(s.push("The requested animation doesn't exist or has already been destroyed"),i=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);r.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,bm)})});const o=Im(i.map(t=>{const e=r.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=o,o.onDestroy(()=>this.destroy(t)),this.players.push(o),o}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,s){const l=Pm(e,"","","");return Am(this._getPlayer(t),n,l,s),()=>{}}command(t,e,n,s){if("register"==n)return void this.register(t,s[0]);if("create"==n)return void this.create(t,e,s[0]||{});const l=this._getPlayer(t);switch(n){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const ry="ng-animate-queued",oy=".ng-animate-queued",uy="ng-animate-disabled",ay=".ng-animate-disabled",cy="ng-star-inserted",hy=".ng-star-inserted",dy=[],py={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},fy={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},gy="__ng_removed";class my{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=function(t){return null!=t?t:null}(n?t.value:t),n){const e=i_(t);delete e.value,this.options=e}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const _y="void",yy=new my(_y);class vy{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ky(e,this._hostClassName)}listen(t,e,n,s){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(l=n)&&"done"!=l)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var l;const i=Nm(this._elementListeners,t,[]),r={name:e,phase:n,callback:s};i.push(r);const o=Nm(this._engine.statesByElement,t,{});return o.hasOwnProperty(e)||(ky(t,Zm),ky(t,Zm+"-"+e),o[e]=yy),()=>{this._engine.afterFlush(()=>{const t=i.indexOf(r);t>=0&&i.splice(t,1),this._triggers[e]||delete o[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,s=!0){const l=this._getTrigger(e),i=new wy(this.id,e,t);let r=this._engine.statesByElement.get(t);r||(ky(t,Zm),ky(t,Zm+"-"+e),this._engine.statesByElement.set(t,r={}));let o=r[e];const u=new my(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&o&&u.absorbOptions(o.options),r[e]=u,o||(o=yy),u.value!==_y&&o.value===u.value){if(!function(t,e){const n=Object.keys(t),s=Object.keys(e);if(n.length!=s.length)return!1;for(let l=0;l<n.length;l++){const s=n[l];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}(o.params,u.params)){const e=[],n=l.matchStyles(o.value,o.params,e),s=l.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{c_(t,n),a_(t,s)})}return}const a=Nm(this._engine.playersByElement,t,[]);a.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=l.matchTransition(o.value,u.value,t,u.params),h=!1;if(!c){if(!s)return;c=l.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:o,toState:u,player:i,isFallbackTransition:h}),h||(ky(t,ry),i.onStart(()=>{Iy(t,ry)})),i.onDone(()=>{let e=this.players.indexOf(i);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(i);t>=0&&n.splice(t,1)}}),this.players.push(i),a.push(i),i}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e,n=!1){this._engine.driver.query(t,Jm,!0).forEach(t=>{if(t[gy])return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)})}triggerLeaveAnimation(t,e,n,s){const l=this._engine.statesByElement.get(t);if(l){const i=[];if(Object.keys(l).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,_y,s);n&&i.push(n)}}),i.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Im(i).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const s=e.name;if(n.has(s))return;n.add(s);const l=this._triggers[s].fallbackTransition,i=this._engine.statesByElement.get(t)[s]||yy,r=new my(_y),o=new wy(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:i,toState:r,player:o,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)s=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){s=!0;break}}}this.prepareLeaveAnimationListeners(t),s?n.markElementAsRemoved(this.id,t,!1,e):(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}insertNode(t,e){ky(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const s=n.player;if(s.destroyed)return;const l=n.element,i=this._elementListeners.get(l);i&&i.forEach(e=>{if(e.name==n.triggerName){const s=Pm(l,n.triggerName,n.fromState.value,n.toState.value);s._data=t,Am(n.player,e.phase,s,e.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,s=e.transition.ast.depCount;return 0==n||0==s?n-s:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find(e=>e.element===t)||e}}class by{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=((t,e)=>{})}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new vy(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let s=!1;for(let l=n;l>=0;l--)if(this.driver.containsElement(this._namespaceList[l].hostElement,e)){this._namespaceList.splice(l+1,0,t),s=!0;break}s||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let s=this._namespaceLookup[t];s&&s.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let s=0;s<t.length;s++){const l=n[t[s]].namespaceId;if(l){const t=this._fetchNamespace(l);t&&e.add(t)}}}return e}trigger(t,e,n,s){if(Cy(e)){const l=this._fetchNamespace(t);if(l)return l.trigger(e,n,s),!0}return!1}insertNode(t,e,n,s){if(!Cy(e))return;const l=e[gy];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,n)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ky(t,uy)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Iy(t,uy))}removeNode(t,e,n){if(!Cy(e))return void this._onRemovalComplete(e,n);const s=t?this._fetchNamespace(t):null;s?s.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n)}markElementAsRemoved(t,e,n,s){this.collectedLeaveElements.push(e),e[gy]={namespaceId:t,setForRemoval:s,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,s,l){return Cy(e)?this._fetchNamespace(t).listen(e,n,s,l):()=>{}}_buildInstruction(t,e,n,s,l){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,s,t.fromState.options,t.toState.options,e,l)}destroyInnerAnimations(t){let e=this.driver.query(t,Jm,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,e_,!0)).forEach(t=>this.finishActiveQueriedAnimationOnElement(t))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Im(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[gy];if(e&&e.setForRemoval){if(t[gy]=py,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,ay)&&this.markElementAsDisabled(t,!1),this.driver.query(t,ay,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)ky(this.collectedEnterElements[n],cy);if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Im(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new L_,s=[],l=new Map,i=[],r=new Map,o=new Map,u=new Map,a=new Set;this.disabledNodes.forEach(t=>{a.add(t);const e=this.driver.query(t,oy,!0);for(let n=0;n<e.length;n++)a.add(e[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=xy(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((t,e)=>{const n=Km+f++;p.set(e,n),t.forEach(t=>ky(t,n))});const g=[],m=new Set,_=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t[gy];e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,hy,!0).forEach(t=>m.add(t)):_.add(t))}const y=new Map,v=xy(h,Array.from(m));v.forEach((t,e)=>{const n=Qm+f++;y.set(e,n),t.forEach(t=>ky(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>Iy(t,n))}),v.forEach((t,e)=>{const n=y.get(e);t.forEach(t=>Iy(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,l=t.element;if(b.push(e),this.collectedEnterElements.length){const t=l[gy];if(t&&t.setForMove)return void e.destroy()}const a=!c||!this.driver.containsElement(c,l),h=y.get(l),d=p.get(l),f=this._buildInstruction(t,n,d,h,a);if(!f.errors||!f.errors.length)return a?(e.onStart(()=>c_(l,f.fromStyles)),e.onDestroy(()=>a_(l,f.toStyles)),void s.push(e)):t.isFallbackTransition?(e.onStart(()=>c_(l,f.fromStyles)),e.onDestroy(()=>a_(l,f.toStyles)),void s.push(e)):(f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(l,f.timelines),i.push({instruction:f,player:e,element:l}),f.queriedElements.forEach(t=>Nm(r,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=o.get(e);t||o.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let s=u.get(e);s||u.set(e,s=new Set),n.forEach(t=>s.add(t))}));w.push(f)});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,S=new Map;i.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),s.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Nm(C,e,[]).push(t),t.destroy()})});const T=g.filter(t=>Ay(t,o,u)),x=new Map;Ty(x,this.driver,_,u,bm).forEach(t=>{Ay(t,o,u)&&T.push(t)});const E=new Map;d.forEach((t,e)=>{Ty(E,this.driver,new Set(t),o,Em)}),T.forEach(t=>{const e=x.get(t),n=E.get(t);x.set(t,Object.assign({},e,n))});const k=[],I=[],R={};i.forEach(t=>{const{element:e,player:i,instruction:r}=t;if(n.has(e)){if(a.has(e))return i.onDestroy(()=>a_(e,r.toStyles)),i.disabled=!0,i.overrideTotalTime(r.totalTime),void s.push(i);let t=R;if(S.size>1){let n=e;const s=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}s.push(n)}s.forEach(e=>S.set(e,t))}const n=this._buildAnimation(i.namespaceId,r,C,l,E,x);if(i.setRealPlayer(n),t===R)k.push(i);else{const e=this.playersByElement.get(t);e&&e.length&&(i.parentPlayer=Im(e)),s.push(i)}}else c_(e,r.fromStyles),i.onDestroy(()=>a_(e,r.toStyles)),I.push(i),a.has(e)&&s.push(i)}),I.forEach(t=>{const e=l.get(t.element);if(e&&e.length){const n=Im(e);t.setRealPlayer(n)}}),s.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<g.length;A++){const t=g[A],e=t[gy];if(Iy(t,Qm),e&&e.hasAnimation)continue;let n=[];if(r.size){let e=r.get(t);e&&e.length&&n.push(...e);let s=this.driver.query(t,e_,!0);for(let t=0;t<s.length;t++){let e=r.get(s[t]);e&&e.length&&n.push(...e)}}const s=n.filter(t=>!t.destroyed);s.length?Ry(this,t,s):this.processLeaveNode(t)}return g.length=0,k.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),k}elementContainsData(t,e){let n=!1;const s=e[gy];return s&&s.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,s,l){let i=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(i=e)}else{const e=this.playersByElement.get(t);if(e){const t=!l||l==_y;e.forEach(e=>{e.queued||(t||e.triggerName==s)&&i.push(e)})}}return(n||s)&&(i=i.filter(t=>!(n&&n!=t.namespaceId||s&&s!=t.triggerName))),i}_beforeAnimationBuild(t,e,n){const s=e.element,l=e.isRemovalTransition?void 0:t,i=e.isRemovalTransition?void 0:e.triggerName;for(const r of e.timelines){const t=r.element,o=t!==s,u=Nm(n,t,[]);this._getPreviousPlayers(t,o,l,i,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}c_(s,e.fromStyles)}_buildAnimation(t,e,n,s,l,i){const r=e.triggerName,o=e.element,u=[],a=new Set,c=new Set,h=e.timelines.map(e=>{const h=e.element;a.add(h);const d=h[gy];if(d&&d.removedBeforeQueried)return new Tm(e.duration,e.delay);const p=h!==o,f=function(t){const e=[];return function t(e,n){for(let s=0;s<e.length;s++){const l=e[s];l instanceof xm?t(l.players,n):n.push(l)}}((n.get(h)||dy).map(t=>t.getRealPlayer()),e),e}().filter(t=>!!t.element&&t.element===h),g=l.get(h),m=i.get(h),_=Rm(0,this._normalizer,0,e.keyframes,g,m),y=this._buildPlayer(e,_,f);if(e.subTimeline&&s&&c.add(h),p){const e=new wy(t,r,h);e.setRealPlayer(y),u.push(e)}return y});u.forEach(t=>{Nm(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>(function(t,e,n){let s;if(t instanceof Map){if(s=t.get(e)){if(s.length){const t=s.indexOf(n);s.splice(t,1)}0==s.length&&t.delete(e)}}else if(s=t[e]){if(s.length){const t=s.indexOf(n);s.splice(t,1)}0==s.length&&delete t[e]}return s})(this.playersByQueriedElement,t.element,t))}),a.forEach(t=>ky(t,t_));const d=Im(h);return d.onDestroy(()=>{a.forEach(t=>Iy(t,t_)),a_(o,e.toStyles)}),c.forEach(t=>{Nm(s,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Tm(t.duration,t.delay)}}class wy{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Tm,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Am(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Nm(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Cy(t){return t&&1===t.nodeType}function Sy(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Ty(t,e,n,s,l){const i=[];n.forEach(t=>i.push(Sy(t)));const r=[];s.forEach((n,s)=>{const i={};n.forEach(t=>{const n=i[t]=e.computeStyle(s,t,l);n&&0!=n.length||(s[gy]=fy,r.push(s))}),t.set(s,i)});let o=0;return n.forEach(t=>Sy(t,i[o++])),r}function xy(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const s=new Set(e),l=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let i=l.get(e);if(i)return i;const r=e.parentNode;return i=n.has(r)?r:s.has(r)?1:t(r),l.set(e,i),i}(t);1!==e&&n.get(e).push(t)}),n}const Ey="$$classes";function ky(t,e){if(t.classList)t.classList.add(e);else{let n=t[Ey];n||(n=t[Ey]={}),n[e]=!0}}function Iy(t,e){if(t.classList)t.classList.remove(e);else{let n=t[Ey];n&&delete n[e]}}function Ry(t,e,n){Im(n).onDone(()=>t.processLeaveNode(e))}function Ay(t,e,n){const s=n.get(t);if(!s)return!1;let l=e.get(t);return l?s.forEach(t=>l.add(t)):e.set(t,s),n.delete(t),!0}class Oy{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=((t,e)=>{}),this._transitionEngine=new by(t,e,n),this._timelineEngine=new iy(t,e,n),this._transitionEngine.onRemovalComplete=((t,e)=>this.onRemovalComplete(t,e))}registerTrigger(t,e,n,s,l){const i=t+"-"+s;let r=this._triggerCache[i];if(!r){const t=[],e=R_(this._driver,l,t);if(t.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);r=function(t,e){return new ny(t,e)}(s,e),this._triggerCache[i]=r}this._transitionEngine.registerTrigger(e,s,r)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,s){this._transitionEngine.insertNode(t,e,n,s)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,s){if("@"==n.charAt(0)){const[t,l]=Mm(n);this._timelineEngine.command(t,e,l,s)}else this._transitionEngine.trigger(t,e,n,s)}listen(t,e,n,s,l){if("@"==n.charAt(0)){const[t,s]=Mm(n);return this._timelineEngine.listen(t,e,s,l)}return this._transitionEngine.listen(t,e,n,s,l)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Py(t,e){let n=null,s=null;return Array.isArray(e)&&e.length?(n=My(e[0]),e.length>1&&(s=My(e[e.length-1]))):e&&(n=My(e)),n||s?new Ny(t,n,s):null}const Ny=function(){class t{constructor(e,n,s){this._element=e,this._startStyles=n,this._endStyles=s,this._state=0;let l=t.initialStylesByElement.get(e);l||t.initialStylesByElement.set(e,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&a_(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(a_(this._element,this._initialStyles),this._endStyles&&(a_(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(c_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(c_(this._element,this._endStyles),this._endStyles=null),a_(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t}();function My(t){let e=null;const n=Object.keys(t);for(let s=0;s<n.length;s++){const l=n[s];Dy(l)&&((e=e||{})[l]=t[l])}return e}function Dy(t){return"display"===t||"position"===t}const Wy=3,Ly="animation",Vy="animationend",By=1e3;class Fy{constructor(t,e,n,s,l,i,r){this._element=t,this._name=e,this._duration=n,this._delay=s,this._easing=l,this._fillMode=i,this._onDoneFn=r,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=(t=>this._handleCallback(t))}apply(){!function(t,e){const n=Gy(t,"").trim();n.length&&(function(t,e){let n=0;for(let s=0;s<t.length;s++)","===t.charAt(s)&&n++}(n),e=`${n}, ${e}`),$y(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),zy(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){jy(this._element,this._name,"paused")}resume(){jy(this._element,this._name,"running")}setPosition(t){const e=Uy(this._element,this._name);this._position=t*this._duration,$y(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=parseFloat(t.elapsedTime.toFixed(Wy))*By;t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),zy(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Gy(t,"").split(","),s=Hy(n,e);s>=0&&(n.splice(s,1),$y(t,"",n.join(",")))}(this._element,this._name))}}function jy(t,e,n){$y(t,"PlayState",n,Uy(t,e))}function Uy(t,e){const n=Gy(t,"");return n.indexOf(",")>0?Hy(n.split(","),e):Hy([n],e)}function Hy(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function zy(t,e,n){n?t.removeEventListener(Vy,e):t.addEventListener(Vy,e)}function $y(t,e,n,s){const l=Ly+e;if(null!=s){const e=t.style[l];if(e.length){const t=e.split(",");t[s]=n,n=t.join(",")}}t.style[l]=n}function Gy(t,e){return t.style[Ly+e]}const Yy="forwards",qy="linear";class Xy{constructor(t,e,n,s,l,i,r,o){this.element=t,this.keyframes=e,this.animationName=n,this._duration=s,this._delay=l,this._finalStyles=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=i||qy,this.totalTime=s+l,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Fy(this.element,this.animationName,this._duration,this._delay,this.easing,Yy,()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:w_(this.element,n))})}this.currentSnapshot=t}}class Ky extends Tm{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=$m(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}const Qy="gen_css_kf_",Zy=" ";class Jy{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return jm(t)}matchesElement(t,e){return Um(t,e)}containsElement(t,e){return Hm(t,e)}query(t,e,n){return zm(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>$m(t));let s=`@keyframes ${e} {\n`,l="";n.forEach(t=>{l=Zy;const e=parseFloat(t.offset);s+=`${l}${100*e}% {\n`,l+=Zy,Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(s+=`${l}animation-timing-function: ${n};\n`));default:return void(s+=`${l}${e}: ${n};\n`)}}),s+=`${l}}\n`}),s+="}\n";const i=document.createElement("style");return i.innerHTML=s,i}animate(t,e,n,s,l,i=[],r){r&&this._notifyFaultyScrubber();const o=i.filter(t=>t instanceof Xy),u={};y_(n,s)&&o.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const a=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=v_(t,e,u));if(0==n)return new Ky(t,a);const c=`${Qy}${this._count++}`,h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);const d=Py(t,e),p=new Xy(t,e,c,n,s,l,a,d);return p.onDestroy(()=>(function(t){h.parentNode.removeChild(h)})()),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class tv{constructor(t,e,n,s){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:w_(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class ev{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(nv().toString()),this._cssKeyframesDriver=new Jy}validateStyleProperty(t){return jm(t)}matchesElement(t,e){return Um(t,e)}containsElement(t,e){return Hm(t,e)}query(t,e,n){return zm(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,s,l,i=[],r){if(!r&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,s,l,i);const o={duration:n,delay:s,fill:0==s?"both":"forwards"};l&&(o.easing=l);const u={},a=i.filter(t=>t instanceof tv);y_(n,s)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=Py(t,e=v_(t,e=e.map(t=>r_(t,!1)),u));return new tv(t,e,o,c)}}function nv(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class sv extends ym{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:At.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?wm(t):t;return rv(this._renderer,null,e,"register",[n]),new lv(e,this._renderer)}}class lv extends vm{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new iv(this._id,t,e||{},this._renderer)}}class iv{constructor(t,e,n,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return rv(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function rv(t,e,n,s,l){return t.setProperty(e,`@@${n}:${s}`,l)}const ov="@",uv="@.disabled";class av{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=((t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)})}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new cv("",n,this.engine),this._rendererCache.set(n,t)),t}const s=e.id,l=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(l,t),e.data.animation.forEach(e=>this.engine.registerTrigger(s,l,t,e.name,e)),new hv(this,l,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}class cv{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,s){this.delegate.setAttribute(t,e,n,s)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,s){this.delegate.setStyle(t,e,n,s)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==ov&&e==uv?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class hv extends cv{constructor(t,e,n,s){super(e,n,s),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==ov?"."==e.charAt(1)&&e==uv?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==ov){const s=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let l=e.substr(1),i="";return l.charAt(0)!=ov&&([l,i]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,s,l,i,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}class dv extends Oy{constructor(t,e,n){super(t.body,e,n)}}function pv(){return"function"==typeof nv()?new ev:new Jy}function fv(){return new X_}function gv(t,e,n){return new av(t,e,n)}const mv=new ft("AnimationModuleType");class _v{}var yv=hl({encapsulation:2,styles:[".mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:0;vertical-align:middle}.mat-slider-wrapper{position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{background-repeat:repeat;background-clip:content-box;box-sizing:border-box;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1),opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled) .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled) .mat-slider-thumb-label{cursor:-webkit-grab;cursor:grab}.mat-slider-sliding:not(.mat-slider-disabled) .mat-slider-thumb,.mat-slider-sliding:not(.mat-slider-disabled) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled) .mat-slider-thumb-label:active,.mat-slider:not(.mat-slider-disabled) .mat-slider-thumb:active{cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(.7);transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1),border-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform .4s cubic-bezier(.25,.8,.25,1),border-radius .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}@media (-ms-high-contrast:active){.mat-slider-thumb-label{outline:solid 1px}}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-sliding .mat-slider-thumb-container,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-track-fill{transition-duration:0s}.mat-slider-has-ticks .mat-slider-wrapper::after{content:'';position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}@media (-ms-high-contrast:active){.mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}@media (-ms-high-contrast:active){.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}@media (-ms-high-contrast:active){.mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-track-fill{transition:none}"],data:{}});function vv(t){return Zi(2,[Hi(402653184,1,{_sliderWrapper:0}),(t()(),Bl(1,0,[[1,0],["sliderWrapper",1]],null,16,"div",[["class","mat-slider-wrapper"]],null,null,null,null,null)),(t()(),Bl(2,0,null,null,4,"div",[["class","mat-slider-track-wrapper"]],null,null,null,null,null)),(t()(),Bl(3,0,null,null,1,"div",[["class","mat-slider-track-background"]],null,null,null,null,null)),ki(4,278528,null,0,Su,[Bs,xe,Ae],{ngStyle:[0,"ngStyle"]},null),(t()(),Bl(5,0,null,null,1,"div",[["class","mat-slider-track-fill"]],null,null,null,null,null)),ki(6,278528,null,0,Su,[Bs,xe,Ae],{ngStyle:[0,"ngStyle"]},null),(t()(),Bl(7,0,null,null,3,"div",[["class","mat-slider-ticks-container"]],null,null,null,null,null)),ki(8,278528,null,0,Su,[Bs,xe,Ae],{ngStyle:[0,"ngStyle"]},null),(t()(),Bl(9,0,null,null,1,"div",[["class","mat-slider-ticks"]],null,null,null,null,null)),ki(10,278528,null,0,Su,[Bs,xe,Ae],{ngStyle:[0,"ngStyle"]},null),(t()(),Bl(11,0,null,null,6,"div",[["class","mat-slider-thumb-container"]],null,null,null,null,null)),ki(12,278528,null,0,Su,[Bs,xe,Ae],{ngStyle:[0,"ngStyle"]},null),(t()(),Bl(13,0,null,null,0,"div",[["class","mat-slider-focus-ring"]],null,null,null,null,null)),(t()(),Bl(14,0,null,null,0,"div",[["class","mat-slider-thumb"]],null,null,null,null,null)),(t()(),Bl(15,0,null,null,2,"div",[["class","mat-slider-thumb-label"]],null,null,null,null,null)),(t()(),Bl(16,0,null,null,1,"span",[["class","mat-slider-thumb-label-text"]],null,null,null,null,null)),(t()(),Xi(17,null,["",""]))],function(t,e){var n=e.component;t(e,4,0,n._trackBackgroundStyles),t(e,6,0,n._trackFillStyles),t(e,8,0,n._ticksContainerStyles),t(e,10,0,n._ticksStyles),t(e,12,0,n._thumbContainerStyles)},function(t,e){t(e,17,0,e.component.displayValue)})}class bv{constructor(t,e){this.theLog=t,this.theWisard=e,this.itsSourceRef=null,this.itsViewRef=null,this.itsUIScale=300,this.itsScale=300,this.itsUIRotate=0,this.itsRotate=0,this.log("constructor:")}ngOnInit(){this.log("ngOnInit:"),this.itsSourceRef=this.theWisard.findObjectRefByClassIdNameId("W1Source0"),this.itsViewRef=this.theWisard.findObjectRefByClassIdNameId("W1View0"),this.loadScale(),this.loadRotate()}ngOnDestroy(){this.log("ngOnDestroy:"),this.itsSourceRef=null,this.itsViewRef=null}getObject(t){let e=null;return null!==t&&(e=t.getRef()),e}getSourceObject(){return this.getObject(this.itsSourceRef)}getViewObject(){return this.getObject(this.itsViewRef)}onUp(){const t=this.getSourceObject();null!==t&&t.moveDY(-1)}onDown(){const t=this.getSourceObject();null!==t&&t.moveDY(1)}onLeft(){const t=this.getSourceObject();null!==t&&t.moveDX(-1)}onRight(){const t=this.getSourceObject();null!==t&&t.moveDX(1)}get mx(){const t=this.getSourceObject();return null===t?"":t.getX().toFixed(0)}get my(){const t=this.getSourceObject();return null===t?"":t.getY().toFixed(0)}onScaleChange(t){const e=this.getViewObject();null!==e&&(this.itsUIScale=t.value,this.itsScale=.01*this.itsUIScale,e.setScale(this.itsScale))}loadScale(){const t=this.getViewObject();null!==t&&(this.itsScale=t.getScale(),this.itsUIScale=100*this.itsScale)}get scale(){return this.itsScale.toFixed(2)}onRotateChange(t){const e=this.getViewObject();null!==e&&(this.itsUIRotate=t.value,this.itsRotate=this.itsUIRotate,e.setRotate(this.itsRotate))}loadRotate(){const t=this.getViewObject();null!==t&&(this.itsRotate=t.getRotate(),this.itsUIRotate=this.itsRotate)}get rotate(){return this.itsRotate.toFixed(1)}log(t){this.theLog.add("View:"+t)}}var wv=hl({encapsulation:2,styles:[],data:{}});function Cv(t){return Zi(0,[(t()(),Bl(0,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(1,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Xi(-1,null,["View:"])),(t()(),Bl(3,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(4,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The 'View' creates a window of the 'Source' that can be moved, scaled or rotated."])),(t()(),Bl(6,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The 'View' size (in pixels) is configured when the pipeline is created."])),(t()(),Bl(8,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The 'View' size within the browser is controlled by CSS."])),(t()(),Bl(10,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["You can move the 'View' by clicking/dragging the mouse within the 'Source'."])),(t()(),Bl(12,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["You can move the 'View' by clicking the up/down/left/right buttons which send requests to the 'Source'."])),(t()(),Bl(14,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["You can scale the 'View' by dragging the 'Scale' slider."])),(t()(),Bl(16,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["You can rotate the 'View' by dragging the 'Rotate' slider."])),(t()(),Bl(18,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["An overlay is displayed within the 'Source' to show where the the 'View' is currently located."])),(t()(),Bl(20,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(21,0,null,null,25,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Source"])),(t()(),Bl(23,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(24,0,null,null,0,"div",[["class","W1Source0 W200 H200"]],null,null,null,null,null)),(t()(),Bl(25,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(26,0,null,null,20,"table",[["style","text-align:center"]],null,null,null,null,null)),(t()(),Bl(27,0,null,null,19,"tbody",[],null,null,null,null,null)),(t()(),Bl(28,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),Bl(29,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Xi(30,null,["",""])),(t()(),Bl(31,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Xi(32,null,["",""])),(t()(),Bl(33,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Bl(34,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Bl(35,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onUp()&&s),s},null,null)),(t()(),Xi(-1,null,["Up"])),(t()(),Bl(37,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Bl(38,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onDown()&&s),s},null,null)),(t()(),Xi(-1,null,["Down"])),(t()(),Bl(40,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Bl(41,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Bl(42,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onLeft()&&s),s},null,null)),(t()(),Xi(-1,null,["Left"])),(t()(),Bl(44,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Bl(45,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onRight()&&s),s},null,null)),(t()(),Xi(-1,null,["Right"])),(t()(),Bl(47,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(48,0,null,null,21,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" View"])),(t()(),Bl(50,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(51,0,null,null,0,"div",[["class","W1View0 W200 H200"]],null,null,null,null,null)),(t()(),Bl(52,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Xi(-1,null,[" Scale: "])),(t()(),Bl(54,0,null,null,5,"mat-slider",[["class","mat-slider"],["horizontal",""],["max","300"],["min","50"],["role","slider"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"focus"],[null,"blur"],[null,"mousedown"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,n){var s=!0,l=t.component;return"focus"===e&&(s=!1!==fi(t,55)._onFocus()&&s),"blur"===e&&(s=!1!==fi(t,55)._onBlur()&&s),"mousedown"===e&&(s=!1!==fi(t,55)._onMousedown(n)&&s),"keydown"===e&&(s=!1!==fi(t,55)._onKeydown(n)&&s),"keyup"===e&&(s=!1!==fi(t,55)._onKeyup()&&s),"mouseenter"===e&&(s=!1!==fi(t,55)._onMouseenter()&&s),"slide"===e&&(s=!1!==fi(t,55)._onSlide(n)&&s),"slideend"===e&&(s=!1!==fi(t,55)._onSlideEnd()&&s),"slidestart"===e&&(s=!1!==fi(t,55)._onSlideStart(n)&&s),"ngModelChange"===e&&(s=!1!==(l.itsUIScale=n)&&s),"input"===e&&(s=!1!==l.onScaleChange(n)&&s),s},vv,yv)),ki(55,245760,null,0,pm,[xe,Yg,bs,[2,mm],[8,null],[2,mv]],{max:[0,"max"],min:[1,"min"]},{input:"input"}),Ii(1024,null,Gf,function(t){return[t]},[pm]),ki(57,671744,null,0,Pg,[[8,null],[8,null],[8,null],[6,Gf]],{model:[0,"model"]},{update:"ngModelChange"}),Ii(2048,null,Qf,null,[Pg]),ki(59,16384,null,0,fg,[[4,Qf]],null,null),(t()(),Xi(60,null,[" ",""])),(t()(),Bl(61,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Xi(-1,null,[" Rotate: "])),(t()(),Bl(63,0,null,null,5,"mat-slider",[["class","mat-slider"],["horivontal",""],["max","45"],["min","-45"],["role","slider"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"focus"],[null,"blur"],[null,"mousedown"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,n){var s=!0,l=t.component;return"focus"===e&&(s=!1!==fi(t,64)._onFocus()&&s),"blur"===e&&(s=!1!==fi(t,64)._onBlur()&&s),"mousedown"===e&&(s=!1!==fi(t,64)._onMousedown(n)&&s),"keydown"===e&&(s=!1!==fi(t,64)._onKeydown(n)&&s),"keyup"===e&&(s=!1!==fi(t,64)._onKeyup()&&s),"mouseenter"===e&&(s=!1!==fi(t,64)._onMouseenter()&&s),"slide"===e&&(s=!1!==fi(t,64)._onSlide(n)&&s),"slideend"===e&&(s=!1!==fi(t,64)._onSlideEnd()&&s),"slidestart"===e&&(s=!1!==fi(t,64)._onSlideStart(n)&&s),"ngModelChange"===e&&(s=!1!==(l.itsUIRotate=n)&&s),"input"===e&&(s=!1!==l.onRotateChange(n)&&s),s},vv,yv)),ki(64,245760,null,0,pm,[xe,Yg,bs,[2,mm],[8,null],[2,mv]],{max:[0,"max"],min:[1,"min"]},{input:"input"}),Ii(1024,null,Gf,function(t){return[t]},[pm]),ki(66,671744,null,0,Pg,[[8,null],[8,null],[8,null],[6,Gf]],{model:[0,"model"]},{update:"ngModelChange"}),Ii(2048,null,Qf,null,[Pg]),ki(68,16384,null,0,fg,[[4,Qf]],null,null),(t()(),Xi(69,null,[" "," "])),(t()(),Bl(70,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(71,0,null,null,0,"br",[],null,null,null,null,null))],function(t,e){var n=e.component;t(e,55,0,"300","50"),t(e,57,0,n.itsUIScale),t(e,64,0,"45","-45"),t(e,66,0,n.itsUIRotate)},function(t,e){var n=e.component;t(e,30,0,n.mx),t(e,32,0,n.my),t(e,54,1,[fi(e,55).tabIndex,fi(e,55).disabled,fi(e,55).max,fi(e,55).min,fi(e,55).value,fi(e,55).vertical?"vertical":"horizontal",fi(e,55).disabled,fi(e,55).tickInterval,!fi(e,55).vertical,fi(e,55)._invertAxis,fi(e,55)._isSliding,fi(e,55).thumbLabel,fi(e,55).vertical,fi(e,55)._isMinValue,fi(e,55).disabled||fi(e,55)._isMinValue&&fi(e,55)._thumbGap&&fi(e,55)._invertAxis,"NoopAnimations"===fi(e,55)._animationMode,fi(e,59).ngClassUntouched,fi(e,59).ngClassTouched,fi(e,59).ngClassPristine,fi(e,59).ngClassDirty,fi(e,59).ngClassValid,fi(e,59).ngClassInvalid,fi(e,59).ngClassPending]),t(e,60,0,n.scale),t(e,63,1,[fi(e,64).tabIndex,fi(e,64).disabled,fi(e,64).max,fi(e,64).min,fi(e,64).value,fi(e,64).vertical?"vertical":"horizontal",fi(e,64).disabled,fi(e,64).tickInterval,!fi(e,64).vertical,fi(e,64)._invertAxis,fi(e,64)._isSliding,fi(e,64).thumbLabel,fi(e,64).vertical,fi(e,64)._isMinValue,fi(e,64).disabled||fi(e,64)._isMinValue&&fi(e,64)._thumbGap&&fi(e,64)._invertAxis,"NoopAnimations"===fi(e,64)._animationMode,fi(e,68).ngClassUntouched,fi(e,68).ngClassTouched,fi(e,68).ngClassPristine,fi(e,68).ngClassDirty,fi(e,68).ngClassValid,fi(e,68).ngClassInvalid,fi(e,68).ngClassPending]),t(e,69,0,n.rotate)})}function Sv(t){return Zi(0,[(t()(),Bl(0,0,null,null,1,"app-view",[],null,null,null,Cv,wv)),ki(1,245760,null,0,bv,[ro,ua],null,null)],function(t,e){t(e,1,0)},null)}var Tv=si("app-view",bv,Sv,{},{},[]);class xv{constructor(t,e){this.theLog=t,this.theWisard=e,this.itsThresholdRef=null,this.itsUIThreshold=50,this.itsThreshold=.5,this.log("constructor:")}ngOnInit(){this.log("ngOnInit:"),this.itsThresholdRef=this.theWisard.findObjectRefByClassIdNameId("W1Threshold0"),this.loadThreshold()}ngOnDestroy(){this.log("ngOnDestroy:"),this.itsThresholdRef=null}getObject(t){let e=null;return null!==t&&(e=t.getRef()),e}getThresholdObject(){return this.getObject(this.itsThresholdRef)}onThresholdChange(t){const e=this.getThresholdObject();null!==e&&(this.itsUIThreshold=t.value,this.itsThreshold=.01*this.itsUIThreshold,e.setThresh(this.itsThreshold))}loadThreshold(){const t=this.getThresholdObject();null!==t&&(this.itsThreshold=t.getThresh(),this.itsUIThreshold=100*this.itsThreshold)}get thresh(){return this.itsThreshold.toFixed(2)}log(t){this.theLog.add("Threshold:"+t)}}var Ev=hl({encapsulation:2,styles:[],data:{}});function kv(t){return Zi(0,[(t()(),Bl(0,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(1,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Threshold:"])),(t()(),Bl(3,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(4,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The 'Threshold' converts a colour image into a binary image."])),(t()(),Bl(6,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The 'Threshold' uses a pre-settable value to determine what brightness each pixel will be deemed to be '0' or '1'."])),(t()(),Bl(8,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The 'Threshold' is the same size (in pixels) as the 'View'."])),(t()(),Bl(10,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The 'Threshold' size within the browser is controlled by CSS."])),(t()(),Bl(12,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["You can change the threshold value by dragging the slider."])),(t()(),Bl(14,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["NB: If you cannot see anything in the 'Threshold' window you may need to go back to the 'View' tab and change it's Scale."])),(t()(),Bl(16,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(17,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Source"])),(t()(),Bl(19,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(20,0,null,null,0,"div",[["class","W1Source0 W200 H200"]],null,null,null,null,null)),(t()(),Bl(21,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(22,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" View"])),(t()(),Bl(24,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(25,0,null,null,0,"div",[["class","W1View0 W64 H64"]],null,null,null,null,null)),(t()(),Bl(26,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(27,0,null,null,12,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Threshold"])),(t()(),Bl(29,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(30,0,null,null,0,"div",[["class","W1Threshold0 W200 H200 WBorder1"]],null,null,null,null,null)),(t()(),Bl(31,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Xi(-1,null,[" Thresh: "])),(t()(),Bl(33,0,null,null,5,"mat-slider",[["class","mat-slider"],["horizontal",""],["max","100"],["min","0"],["role","slider"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"focus"],[null,"blur"],[null,"mousedown"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,n){var s=!0,l=t.component;return"focus"===e&&(s=!1!==fi(t,34)._onFocus()&&s),"blur"===e&&(s=!1!==fi(t,34)._onBlur()&&s),"mousedown"===e&&(s=!1!==fi(t,34)._onMousedown(n)&&s),"keydown"===e&&(s=!1!==fi(t,34)._onKeydown(n)&&s),"keyup"===e&&(s=!1!==fi(t,34)._onKeyup()&&s),"mouseenter"===e&&(s=!1!==fi(t,34)._onMouseenter()&&s),"slide"===e&&(s=!1!==fi(t,34)._onSlide(n)&&s),"slideend"===e&&(s=!1!==fi(t,34)._onSlideEnd()&&s),"slidestart"===e&&(s=!1!==fi(t,34)._onSlideStart(n)&&s),"ngModelChange"===e&&(s=!1!==(l.itsUIThreshold=n)&&s),"input"===e&&(s=!1!==l.onThresholdChange(n)&&s),s},vv,yv)),ki(34,245760,null,0,pm,[xe,Yg,bs,[2,mm],[8,null],[2,mv]],{max:[0,"max"],min:[1,"min"]},{input:"input"}),Ii(1024,null,Gf,function(t){return[t]},[pm]),ki(36,671744,null,0,Pg,[[8,null],[8,null],[8,null],[6,Gf]],{model:[0,"model"]},{update:"ngModelChange"}),Ii(2048,null,Qf,null,[Pg]),ki(38,16384,null,0,fg,[[4,Qf]],null,null),(t()(),Xi(39,null,[" "," "])),(t()(),Bl(40,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(41,0,null,null,0,"br",[],null,null,null,null,null))],function(t,e){var n=e.component;t(e,34,0,"100","0"),t(e,36,0,n.itsUIThreshold)},function(t,e){var n=e.component;t(e,33,1,[fi(e,34).tabIndex,fi(e,34).disabled,fi(e,34).max,fi(e,34).min,fi(e,34).value,fi(e,34).vertical?"vertical":"horizontal",fi(e,34).disabled,fi(e,34).tickInterval,!fi(e,34).vertical,fi(e,34)._invertAxis,fi(e,34)._isSliding,fi(e,34).thumbLabel,fi(e,34).vertical,fi(e,34)._isMinValue,fi(e,34).disabled||fi(e,34)._isMinValue&&fi(e,34)._thumbGap&&fi(e,34)._invertAxis,"NoopAnimations"===fi(e,34)._animationMode,fi(e,38).ngClassUntouched,fi(e,38).ngClassTouched,fi(e,38).ngClassPristine,fi(e,38).ngClassDirty,fi(e,38).ngClassValid,fi(e,38).ngClassInvalid,fi(e,38).ngClassPending]),t(e,39,0,n.thresh)})}function Iv(t){return Zi(0,[(t()(),Bl(0,0,null,null,1,"app-threshold",[],null,null,null,kv,Ev)),ki(1,245760,null,0,xv,[ro,ua],null,null)],function(t,e){t(e,1,0)},null)}var Rv=si("app-threshold",xv,Iv,{},{},[]);class Av{constructor(t,e){this.theLog=t,this.theWisard=e,this.log("constructor:")}ngOnInit(){this.log("ngOnInit:")}ngOnDestroy(){this.log("ngOnDestroy:")}log(t){this.theLog.add("Scramble:"+t)}}var Ov=hl({encapsulation:2,styles:[],data:{}});function Pv(t){return Zi(0,[(t()(),Bl(0,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(1,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Scramble:"])),(t()(),Bl(3,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(4,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The 'Scramble' uses a random sequence to shuffle the binary pixels."])),(t()(),Bl(6,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The pixels are scrambled as a precursor to converting them into 'features'."])),(t()(),Bl(8,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["A 'feature' is a random collection of binary pixels."])),(t()(),Bl(10,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The 'Scramble' can generate various random sequences and this can be configured when the pipeline is constructed."])),(t()(),Bl(12,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The shuffling process ensures that every pixel gets used."])),(t()(),Bl(14,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The size of the scrambled image (in pixels) is the same as the size of the View (in pixels)."])),(t()(),Bl(16,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The size of the scrambled image within the browser is controlled by CSS."])),(t()(),Bl(18,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(19,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(20,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Source"])),(t()(),Bl(22,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(23,0,null,null,0,"div",[["class","W1Source0 W200 H200"]],null,null,null,null,null)),(t()(),Bl(24,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(25,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" View"])),(t()(),Bl(27,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(28,0,null,null,0,"div",[["class","W1View0 W64 H64"]],null,null,null,null,null)),(t()(),Bl(29,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(30,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Thresh"])),(t()(),Bl(32,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(33,0,null,null,0,"div",[["class","W1Threshold0 W64 H64 WBorder1"]],null,null,null,null,null)),(t()(),Bl(34,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(35,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Scramble"])),(t()(),Bl(37,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(38,0,null,null,0,"div",[["class","W1Scramble0 W200 H200 WBorder1"]],null,null,null,null,null)),(t()(),Bl(39,0,null,null,0,"br",[],null,null,null,null,null))],null,null)}function Nv(t){return Zi(0,[(t()(),Bl(0,0,null,null,1,"app-scramble",[],null,null,null,Pv,Ov)),ki(1,245760,null,0,Av,[ro,ua],null,null)],function(t,e){t(e,1,0)},null)}var Mv=si("app-scramble",Av,Nv,{},{},[]);class Dv{constructor(t,e){this.theLog=t,this.theWisard=e,this.log("constructor:")}ngOnInit(){this.log("ngOnInit:")}ngOnDestroy(){this.log("ngOnDestroy:")}log(t){this.theLog.add("Tuple:"+t)}}var Wv=hl({encapsulation:2,styles:[],data:{}});function Lv(t){return Zi(0,[(t()(),Bl(0,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(1,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Features:"])),(t()(),Bl(3,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(4,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["A collection of bits is called a 'feature'."])),(t()(),Bl(6,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The Scrambled image is sequentially broken down into an array of 'features'."])),(t()(),Bl(8,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Each 'feature' represents a random collection of bits from within the 'View'."])),(t()(),Bl(10,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The 'feature' size (in bits) can be configured when the pipeline is constructed."])),(t()(),Bl(12,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["If the 'View' has a size of (W,H) then the total number of bits will be WxH."])),(t()(),Bl(14,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["If the 'feature' size is (F) then the number of features collected will be (WxH)/F."])),(t()(),Bl(16,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["For example if The 'View' size is (16,16) there will be 256 bits, if the 'feature' size is (4) then there will be 64 features."])),(t()(),Bl(18,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(19,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(20,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Source"])),(t()(),Bl(22,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(23,0,null,null,0,"div",[["class","W1Source0 W200 H200"]],null,null,null,null,null)),(t()(),Bl(24,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(25,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" View"])),(t()(),Bl(27,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(28,0,null,null,0,"div",[["class","W1View0 W64 H64"]],null,null,null,null,null)),(t()(),Bl(29,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(30,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Thresh"])),(t()(),Bl(32,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(33,0,null,null,0,"div",[["class","W1Threshold0 W64 H64 WBorder1"]],null,null,null,null,null)),(t()(),Bl(34,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(35,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Scram"])),(t()(),Bl(37,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(38,0,null,null,0,"div",[["class","W1Scramble0 W64 H64 WBorder1"]],null,null,null,null,null)),(t()(),Bl(39,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(40,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Features"])),(t()(),Bl(42,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(43,0,null,null,0,"div",[["class","W1Tuple0 W16 H256 WBorder1"]],null,null,null,null,null)),(t()(),Bl(44,0,null,null,0,"br",[],null,null,null,null,null))],null,null)}function Vv(t){return Zi(0,[(t()(),Bl(0,0,null,null,1,"app-tuple",[],null,null,null,Lv,Wv)),ki(1,245760,null,0,Dv,[ro,ua],null,null)],function(t,e){t(e,1,0)},null)}var Bv=si("app-tuple",Dv,Vv,{},{},[]);class Fv{constructor(t,e){this.theLog=t,this.theWisard=e,this.log("constructor:")}ngOnInit(){this.log("ngOnInit:")}ngOnDestroy(){this.log("ngOnDestroy:")}log(t){this.theLog.add("Decoder:"+t)}}var jv=hl({encapsulation:2,styles:[],data:{}});function Uv(t){return Zi(0,[(t()(),Bl(0,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(1,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Decoder:"])),(t()(),Bl(3,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(4,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The 'Decoder' is a diagnostic tool that can be used to see how each 'feature' is used to address each RAM within a Store."])),(t()(),Bl(6,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["In the scene below you can see the 'Decoder\"."])),(t()(),Bl(8,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The 'Decoder' has as many rows as there are rows in the 'Features' array."])),(t()(),Bl(10,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Each row within the 'Decoder' represents a single RAM."])),(t()(),Bl(12,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["If the 'feature' size is (F) then each RAM will contain (2"])),(t()(),Bl(14,0,null,null,1,"span",[["class","WSuper"]],null,null,null,null,null)),(t()(),Xi(-1,null,["F"])),(t()(),Xi(-1,null,[") bits of storage."])),(t()(),Bl(17,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["i.e. if F is 4 then there will be 16 pigeon holes within each row."])),(t()(),Bl(19,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The 'View' is broken up into multiple 'features', each row shows the decode for each feature."])),(t()(),Bl(21,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["i.e. If the 'View' size is (16,16) then there will be image 256 bits, and if F is 4 then there will be 64 features (rows)."])),(t()(),Bl(23,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The total Decoder size is the Row size times the number of Rows, ((WH)/F)(2"])),(t()(),Bl(25,0,null,null,1,"span",[["class","WSuper"]],null,null,null,null,null)),(t()(),Xi(-1,null,["F"])),(t()(),Xi(-1,null,[") bits."])),(t()(),Bl(28,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["i.e. If the 'View' size is (16,16) and F is 4 then the Decoder size is 1024 bits (64 x 16)."])),(t()(),Bl(30,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(31,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(32,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Source"])),(t()(),Bl(34,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(35,0,null,null,0,"div",[["class","W1Source0 W200 H200"]],null,null,null,null,null)),(t()(),Bl(36,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(37,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" View"])),(t()(),Bl(39,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(40,0,null,null,0,"div",[["class","W1View0 W64 H64"]],null,null,null,null,null)),(t()(),Bl(41,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(42,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Thresh"])),(t()(),Bl(44,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(45,0,null,null,0,"div",[["class","W1Threshold0 W64 H64 WBorder1"]],null,null,null,null,null)),(t()(),Bl(46,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(47,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Scram"])),(t()(),Bl(49,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(50,0,null,null,0,"div",[["class","W1Scramble0 W64 H64 WBorder1"]],null,null,null,null,null)),(t()(),Bl(51,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(52,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" F"])),(t()(),Bl(54,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(55,0,null,null,0,"div",[["class","W1Tuple0 W16 H256 WBorder1"]],null,null,null,null,null)),(t()(),Bl(56,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(57,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Decoder"])),(t()(),Bl(59,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(60,0,null,null,0,"div",[["class","W1Decoder0 W64 H256 WBorder1"]],null,null,null,null,null)),(t()(),Bl(61,0,null,null,0,"br",[],null,null,null,null,null))],null,null)}function Hv(t){return Zi(0,[(t()(),Bl(0,0,null,null,1,"app-decoder",[],null,null,null,Uv,jv)),ki(1,245760,null,0,Fv,[ro,ua],null,null)],function(t,e){t(e,1,0)},null)}var zv=si("app-decoder",Fv,Hv,{},{},[]);class $v{constructor(){this.itsLength=0,this.itsIndex=-1}set length(t){this.itsLength=t,t<=0&&(this.itsIndex=-1)}isValid(){return this.itsLength>0}first(){this.itsIndex=-1}next(){this.itsIndex<-1&&(this.itsIndex=-1);const t=this.itsLength;return t>0?(this.itsIndex++,this.itsIndex>=t&&(this.itsIndex=0)):this.itsIndex=-1,this.itsIndex}get index(){return this.itsIndex}}class Gv{constructor(t,e){this.theLog=t,this.theWisard=e,this.itsClassifierRef=null,this.itsSourceRef=null,this.itsStore1Ref=null,this.itsTeachMacro1=new $v,this.log("constructor:")}ngOnInit(){this.log("ngOnInit:"),this.itsClassifierRef=this.theWisard.findClassifierRefByClassId("W2"),this.itsSourceRef=this.theWisard.findObjectRefByClassIdNameId("W2Source0"),this.itsStore1Ref=this.theWisard.findObjectRefByClassIdNameId("W2Store1"),this.invokeInit(),this.itsIntervalId=setInterval(()=>this.tick(),1e3)}tick(){this.loadMacros()}ngOnDestroy(){this.log("ngOnDestroy:"),this.itsClassifierRef=null,this.itsSourceRef=null,this.itsStore1Ref=null,clearInterval(this.itsIntervalId)}getClassifier(t){let e=null;return null!==t&&(e=t.getRef()),e}getObject(t){let e=null;return null!==t&&(e=t.getRef()),e}getSourceObject(){return this.getObject(this.itsSourceRef)}getStore1Object(){return this.getObject(this.itsStore1Ref)}getMacros(){const t=this.getClassifier(this.itsClassifierRef);if(null===t)return null;const e=t.getConfig().getMacros();return!1===e.isLoaded()?null:e}invokeInit(){const t=this.getMacros();null!==t&&t.sendInit()}loadMacros(){const t=this.getMacros();null!==t&&(this.itsTeachMacro1.length=t.getTeachPos(1).length)}moveDXY(t,e){const n=this.getSourceObject();null!==n&&n.moveDXY(t,e)}onUp(){this.moveDXY(0,-1)}onDown(){this.moveDXY(0,1)}onLeft(){this.moveDXY(-1,0)}onRight(){this.moveDXY(1,0)}get mx(){const t=this.getSourceObject();return null===t?"":t.getX().toFixed(0)}get my(){const t=this.getSourceObject();return null===t?"":t.getY().toFixed(0)}onClear(){const t=this.getMacros();null!==t&&t.sendAction("Store1,clear")}onTeach(){const t=this.getMacros();if(null===t)return;const e=this.itsTeachMacro1.next();e>=0&&t.sendTeachPos(1,e,"Store1,teach")}log(t){this.theLog.add("Store1:"+t)}}var Yv=hl({encapsulation:2,styles:[],data:{}});function qv(t){return Zi(0,[(t()(),Bl(0,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(1,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Store 1:"])),(t()(),Bl(3,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(4,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["A 'Store' is used to record features found during training and to report on their presence during testing."])),(t()(),Bl(6,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["In the scenario below you can see a 'Source' that contains some letters of the alphabet that will used for training,"])),(t()(),Bl(8,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Xi(-1,null,[" there is also a single Store that we will train."])),(t()(),Bl(10,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["There are two action buttons that are for controlling the Store."])),(t()(),Bl(12,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Pressing the 'Clear' button will empty the Store's contents."])),(t()(),Bl(14,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Pressing the 'Teach' button will instruct the 'View' to move to the next letter in the teaching set and then instruct the store to record the features found."])),(t()(),Bl(16,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["In practice you should attempt to train a Store with a sufficiently large training set to ensure that it is capable of recognising images that deviate from the training set."])),(t()(),Bl(18,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(19,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(20,0,null,null,25,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Source"])),(t()(),Bl(22,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(23,0,null,null,0,"div",[["class","W2Source0 W200 H200"]],null,null,null,null,null)),(t()(),Bl(24,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(25,0,null,null,20,"table",[["style","text-align:center"]],null,null,null,null,null)),(t()(),Bl(26,0,null,null,19,"tbody",[],null,null,null,null,null)),(t()(),Bl(27,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),Bl(28,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Xi(29,null,["",""])),(t()(),Bl(30,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Xi(31,null,["",""])),(t()(),Bl(32,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Bl(33,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Bl(34,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onUp()&&s),s},null,null)),(t()(),Xi(-1,null,["Up"])),(t()(),Bl(36,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Bl(37,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onDown()&&s),s},null,null)),(t()(),Xi(-1,null,["Down"])),(t()(),Bl(39,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Bl(40,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Bl(41,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onLeft()&&s),s},null,null)),(t()(),Xi(-1,null,["Left"])),(t()(),Bl(43,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Bl(44,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onRight()&&s),s},null,null)),(t()(),Xi(-1,null,["Right"])),(t()(),Bl(46,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(47,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" View"])),(t()(),Bl(49,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(50,0,null,null,0,"div",[["class","W2View0 W64 H64"]],null,null,null,null,null)),(t()(),Bl(51,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(52,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Thresh"])),(t()(),Bl(54,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(55,0,null,null,0,"div",[["class","W2Threshold0 W64 H64 WBorder1"]],null,null,null,null,null)),(t()(),Bl(56,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(57,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Decoder"])),(t()(),Bl(59,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(60,0,null,null,0,"div",[["class","W2Decoder0 W64 H256 WBorder1"]],null,null,null,null,null)),(t()(),Bl(61,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(62,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Store1"])),(t()(),Bl(64,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(65,0,null,null,0,"div",[["class","W2Store1 W64 H256 WBorder1"]],null,null,null,null,null)),(t()(),Bl(66,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(67,0,null,null,8,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Actions:"])),(t()(),Bl(69,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(70,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onClear()&&s),s},null,null)),(t()(),Xi(-1,null,["Clear"])),(t()(),Bl(72,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(73,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onTeach()&&s),s},null,null)),(t()(),Xi(-1,null,["Teach"])),(t()(),Bl(75,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(76,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(77,0,null,null,0,"br",[],null,null,null,null,null))],null,function(t,e){var n=e.component;t(e,29,0,n.mx),t(e,31,0,n.my)})}function Xv(t){return Zi(0,[(t()(),Bl(0,0,null,null,1,"app-store1",[],null,null,null,qv,Yv)),ki(1,245760,null,0,Gv,[ro,ua],null,null)],function(t,e){t(e,1,0)},null)}var Kv=si("app-store1",Gv,Xv,{},{},[]);class Qv{constructor(t,e){this.theLog=t,this.theWisard=e,this.itsClassifierRef=null,this.itsSourceRef=null,this.itsStore1Ref=null,this.itsMatch1Ref=null,this.itsTeachMacro1=new $v,this.itsTestMacro1=new $v,this.log("constructor:")}ngOnInit(){this.log("ngOnInit:"),this.itsClassifierRef=this.theWisard.findClassifierRefByClassId("W2"),this.itsSourceRef=this.theWisard.findObjectRefByClassIdNameId("W2Source0"),this.itsStore1Ref=this.theWisard.findObjectRefByClassIdNameId("W2Store1"),this.itsMatch1Ref=this.theWisard.findObjectRefByClassIdNameId("W2Match1"),this.invokeInit(),this.itsIntervalId=setInterval(()=>this.tick(),1e3)}tick(){this.loadMacros()}ngOnDestroy(){this.log("ngOnDestroy:"),this.itsClassifierRef=null,this.itsSourceRef=null,this.itsStore1Ref=null,this.itsMatch1Ref=null,clearInterval(this.itsIntervalId)}getClassifier(t){let e=null;return null!==t&&(e=t.getRef()),e}getObject(t){let e=null;return null!==t&&(e=t.getRef()),e}getSourceObject(){return this.getObject(this.itsSourceRef)}getStore1Object(){return this.getObject(this.itsStore1Ref)}getMatch1Object(){return this.getObject(this.itsMatch1Ref)}getMacros(){const t=this.getClassifier(this.itsClassifierRef);if(null===t)return null;const e=t.getConfig().getMacros();return!1===e.isLoaded()?null:e}invokeInit(){const t=this.getMacros();null!==t&&t.sendInit()}loadMacros(){const t=this.getMacros();null!==t&&(this.itsTeachMacro1.length=t.getTeachPos(1).length,this.itsTestMacro1.length=t.getTestPos(1).length)}moveDXY(t,e){const n=this.getSourceObject();null!==n&&n.moveDXY(t,e)}onUp(){this.moveDXY(0,-1)}onDown(){this.moveDXY(0,1)}onLeft(){this.moveDXY(-1,0)}onRight(){this.moveDXY(1,0)}get mx(){const t=this.getSourceObject();return null===t?"":t.getX().toFixed(0)}get my(){const t=this.getSourceObject();return null===t?"":t.getY().toFixed(0)}onClear(){const t=this.getMacros();null!==t&&t.sendAction("Store1,clear")}onTeach(){const t=this.getMacros();if(null===t)return;const e=this.itsTeachMacro1.next();e>=0&&t.sendTeachPos(1,e,"Store1,teach")}onTest(){const t=this.getMacros();if(null===t)return;const e=this.itsTestMacro1.next();e>=0&&t.sendTestPos(1,e)}log(t){this.theLog.add("Match1:"+t)}}var Zv=hl({encapsulation:2,styles:[],data:{}});function Jv(t){return Zi(0,[(t()(),Bl(0,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(1,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Match 1:"])),(t()(),Bl(3,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(4,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["A 'Match' shows which RAM elements have detected a feature. "])),(t()(),Bl(6,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["In the scenario below you can see a 'Source' that contains some letters of the alphabet that will used for training and testing,"])),(t()(),Bl(8,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Xi(-1,null,[" there is also a single Store that we will train and test."])),(t()(),Bl(10,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["There are three action buttons that are for controlling the Store."])),(t()(),Bl(12,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Pressing the 'Clear' button will empty the Store's contents."])),(t()(),Bl(14,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Pressing the 'Teach' button will instruct the 'View' to move to the next letter in the teaching set and the instruct the store to record the features found."])),(t()(),Bl(16,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Pressing the 'Test' button will instruct the 'View' to move to the next letter in the testing set where its features will be reported."])),(t()(),Bl(18,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["You will notice that immediately after teaching, the 'Match' window will be fully populated, this is because the software will automatically test the 'View' and find all the features to be present."])),(t()(),Bl(20,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["You will notice that when testing the 'Store', some of the RAMs will not detect a feature, this is because we are using a real world image that contains noise, uneven lighting and distortion, however many of the RAMs should respond."])),(t()(),Bl(22,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(23,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(24,0,null,null,25,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Source"])),(t()(),Bl(26,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(27,0,null,null,0,"div",[["class","W2Source0 W200 H200"]],null,null,null,null,null)),(t()(),Bl(28,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(29,0,null,null,20,"table",[["style","text-align:center"]],null,null,null,null,null)),(t()(),Bl(30,0,null,null,19,"tbody",[],null,null,null,null,null)),(t()(),Bl(31,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),Bl(32,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Xi(33,null,["",""])),(t()(),Bl(34,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Xi(35,null,["",""])),(t()(),Bl(36,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Bl(37,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Bl(38,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onUp()&&s),s},null,null)),(t()(),Xi(-1,null,["Up"])),(t()(),Bl(40,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Bl(41,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onDown()&&s),s},null,null)),(t()(),Xi(-1,null,["Down"])),(t()(),Bl(43,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Bl(44,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Bl(45,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onLeft()&&s),s},null,null)),(t()(),Xi(-1,null,["Left"])),(t()(),Bl(47,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Bl(48,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onRight()&&s),s},null,null)),(t()(),Xi(-1,null,["Right"])),(t()(),Bl(50,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(51,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" View"])),(t()(),Bl(53,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(54,0,null,null,0,"div",[["class","W2View0 W64 H64"]],null,null,null,null,null)),(t()(),Bl(55,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(56,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Thresh"])),(t()(),Bl(58,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(59,0,null,null,0,"div",[["class","W2Threshold0 W64 H64 WBorder1"]],null,null,null,null,null)),(t()(),Bl(60,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(61,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Decoder"])),(t()(),Bl(63,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(64,0,null,null,0,"div",[["class","W2Decoder0 W64 H256 WBorder1"]],null,null,null,null,null)),(t()(),Bl(65,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(66,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Store1"])),(t()(),Bl(68,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(69,0,null,null,0,"div",[["class","W2Store1 W64 H256 WBorder1"]],null,null,null,null,null)),(t()(),Bl(70,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(71,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Match1"])),(t()(),Bl(73,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(74,0,null,null,0,"div",[["class","W2Match1 W8 H256 WBorder1"]],null,null,null,null,null)),(t()(),Bl(75,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(76,0,null,null,11,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Actions:"])),(t()(),Bl(78,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(79,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onClear()&&s),s},null,null)),(t()(),Xi(-1,null,["Clear"])),(t()(),Bl(81,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(82,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onTeach()&&s),s},null,null)),(t()(),Xi(-1,null,["Teach"])),(t()(),Bl(84,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(85,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onTest()&&s),s},null,null)),(t()(),Xi(-1,null,["Test"])),(t()(),Bl(87,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(88,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(89,0,null,null,0,"br",[],null,null,null,null,null))],null,function(t,e){var n=e.component;t(e,33,0,n.mx),t(e,35,0,n.my)})}function tb(t){return Zi(0,[(t()(),Bl(0,0,null,null,1,"app-match1",[],null,null,null,Jv,Zv)),ki(1,245760,null,0,Qv,[ro,ua],null,null)],function(t,e){t(e,1,0)},null)}var eb=si("app-match1",Qv,tb,{},{},[]);n("PSQu");class nb{constructor(t,e){this.theLog=t,this.theWisard=e,this.itsClassifierRef=null,this.itsSourceRef=null,this.itsStore1Ref=null,this.itsMatch1Ref=null,this.itsTeachMacro1=new $v,this.itsTestMacro1=new $v,this.log("constructor:")}ngOnInit(){this.log("ngOnInit:"),this.itsClassifierRef=this.theWisard.findClassifierRefByClassId("W2"),this.itsSourceRef=this.theWisard.findObjectRefByClassIdNameId("W2Source0"),this.itsStore1Ref=this.theWisard.findObjectRefByClassIdNameId("W2Store1"),this.itsMatch1Ref=this.theWisard.findObjectRefByClassIdNameId("W2Match1"),this.invokeInit(),this.itsIntervalId=setInterval(()=>this.tick(),1e3)}tick(){this.loadMacros()}ngOnDestroy(){this.log("ngOnDestroy:"),this.itsClassifierRef=null,this.itsSourceRef=null,this.itsStore1Ref=null,this.itsMatch1Ref=null,clearInterval(this.itsIntervalId)}getClassifier(t){let e=null;return null!==t&&(e=t.getRef()),e}getObject(t){let e=null;return null!==t&&(e=t.getRef()),e}getSourceObject(){return this.getObject(this.itsSourceRef)}getStore1Object(){return this.getObject(this.itsStore1Ref)}getMatch1Object(){return this.getObject(this.itsMatch1Ref)}getMacros(){const t=this.getClassifier(this.itsClassifierRef);if(null===t)return null;const e=t.getConfig().getMacros();return!1===e.isLoaded()?null:e}invokeInit(){const t=this.getMacros();null!==t&&t.sendInit()}loadMacros(){const t=this.getMacros();null!==t&&(this.itsTeachMacro1.length=t.getTeachPos(1).length,this.itsTestMacro1.length=t.getTestPos(1).length)}moveDXY(t,e){const n=this.getSourceObject();null!==n&&n.moveDXY(t,e)}onUp(){this.moveDXY(0,-1)}onDown(){this.moveDXY(0,1)}onLeft(){this.moveDXY(-1,0)}onRight(){this.moveDXY(1,0)}get mx(){const t=this.getSourceObject();return null===t?"":t.getX().toFixed(0)}get my(){const t=this.getSourceObject();return null===t?"":t.getY().toFixed(0)}onClear(){const t=this.getMacros();null!==t&&t.sendAction("Store1,clear")}onTeach(){const t=this.getMacros();if(null===t)return;const e=this.itsTeachMacro1.next();e>=0&&t.sendTeachPos(1,e,"Store1,teach")}onTest(){const t=this.getMacros();if(null===t)return;const e=this.itsTestMacro1.next();e>=0&&t.sendTestPos(1,e)}log(t){this.theLog.add("Score1:"+t)}}var sb=hl({encapsulation:2,styles:[],data:{}});function lb(t){return Zi(0,[(t()(),Bl(0,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(1,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Score 1:"])),(t()(),Bl(3,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(4,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["A 'Score' shows how many RAM elements have detected a feature. "])),(t()(),Bl(6,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["In the scenario below you can see a 'Source' that contains some letters of the alphabet that will used for training and testing,"])),(t()(),Bl(8,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Xi(-1,null,[" there is also a single Store that we will train and test."])),(t()(),Bl(10,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["There are three action buttons that are for controlling the Store."])),(t()(),Bl(12,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Pressing the 'Clear' button will empty the Store's contents."])),(t()(),Bl(14,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Pressing the 'Teach' button will instruct the 'View' to move to the next letter in the teaching set and the instruct the store to record the features found."])),(t()(),Bl(16,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Pressing the 'Test' button will instruct the 'View' to move to the next letter in the testing set where its features will be reported."])),(t()(),Bl(18,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["You will notice that immediately after teaching, the 'Score' window will be fully populated, this is because the software will automatically test the 'View' and find all the features to be present."])),(t()(),Bl(20,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["You will notice that when testing the 'Store', some of the RAMs will not detect a feature and this will lower the Score, this is because we are using a real world image that contains noise, uneven lighting and distortion, however many of the RAMs should respond."])),(t()(),Bl(22,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(23,0,null,null,25,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Source"])),(t()(),Bl(25,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(26,0,null,null,0,"div",[["class","W2Source0 W200 H200"]],null,null,null,null,null)),(t()(),Bl(27,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(28,0,null,null,20,"table",[["style","text-align:center"]],null,null,null,null,null)),(t()(),Bl(29,0,null,null,19,"tbody",[],null,null,null,null,null)),(t()(),Bl(30,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),Bl(31,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Xi(32,null,["",""])),(t()(),Bl(33,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Xi(34,null,["",""])),(t()(),Bl(35,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Bl(36,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Bl(37,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onUp()&&s),s},null,null)),(t()(),Xi(-1,null,["Up"])),(t()(),Bl(39,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Bl(40,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onDown()&&s),s},null,null)),(t()(),Xi(-1,null,["Down"])),(t()(),Bl(42,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Bl(43,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Bl(44,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onLeft()&&s),s},null,null)),(t()(),Xi(-1,null,["Left"])),(t()(),Bl(46,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Bl(47,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onRight()&&s),s},null,null)),(t()(),Xi(-1,null,["Right"])),(t()(),Bl(49,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(50,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" View"])),(t()(),Bl(52,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(53,0,null,null,0,"div",[["class","W2View0 W64 H64"]],null,null,null,null,null)),(t()(),Bl(54,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(55,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Thresh"])),(t()(),Bl(57,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(58,0,null,null,0,"div",[["class","W2Threshold0 W64 H64 WBorder1"]],null,null,null,null,null)),(t()(),Bl(59,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(60,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Decoder"])),(t()(),Bl(62,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(63,0,null,null,0,"div",[["class","W2Decoder0 W64 H256 WBorder1"]],null,null,null,null,null)),(t()(),Bl(64,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(65,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Store1"])),(t()(),Bl(67,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(68,0,null,null,0,"div",[["class","W2Store1 W64 H256 WBorder1"]],null,null,null,null,null)),(t()(),Bl(69,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(70,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Match1"])),(t()(),Bl(72,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(73,0,null,null,0,"div",[["class","W2Match1 W8 H256 WBorder1"]],null,null,null,null,null)),(t()(),Bl(74,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(75,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Score1"])),(t()(),Bl(77,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(78,0,null,null,0,"div",[["class","W2ScoreOut1 W8 H256 WBorder1"]],null,null,null,null,null)),(t()(),Bl(79,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(80,0,null,null,11,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Actions:"])),(t()(),Bl(82,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(83,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onClear()&&s),s},null,null)),(t()(),Xi(-1,null,["Clear"])),(t()(),Bl(85,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(86,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onTeach()&&s),s},null,null)),(t()(),Xi(-1,null,["Teach"])),(t()(),Bl(88,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(89,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onTest()&&s),s},null,null)),(t()(),Xi(-1,null,["Test"])),(t()(),Bl(91,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(92,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(93,0,null,null,0,"br",[],null,null,null,null,null))],null,function(t,e){var n=e.component;t(e,32,0,n.mx),t(e,34,0,n.my)})}function ib(t){return Zi(0,[(t()(),Bl(0,0,null,null,1,"app-score1",[],null,null,null,lb,sb)),ki(1,245760,null,0,nb,[ro,ua],null,null)],function(t,e){t(e,1,0)},null)}var rb=si("app-score1",nb,ib,{},{},[]);class ob{constructor(t,e){this.theLog=t,this.theWisard=e,this.itsClassifierRef=null,this.itsSourceRef=null,this.itsStore1Ref=null,this.itsMatch1Ref=null,this.itsTeachMacro1=new $v,this.itsTeachMacro2=new $v,this.itsTeachMacro3=new $v,this.itsTeachMacro4=new $v,this.itsTestMacro1=new $v,this.itsTestMacro2=new $v,this.itsTestMacro3=new $v,this.itsTestMacro4=new $v,this.log("constructor:")}ngOnInit(){this.log("ngOnInit:"),this.itsClassifierRef=this.theWisard.findClassifierRefByClassId("W3"),this.itsSourceRef=this.theWisard.findObjectRefByClassIdNameId("W3Source0"),this.itsStore1Ref=this.theWisard.findObjectRefByClassIdNameId("W3Store1"),this.itsMatch1Ref=this.theWisard.findObjectRefByClassIdNameId("W3Match1"),this.invokeInit(),this.itsIntervalId=setInterval(()=>this.tick(),1e3)}tick(){this.loadMacros()}ngOnDestroy(){this.log("ngOnDestroy:"),this.itsClassifierRef=null,this.itsSourceRef=null,this.itsStore1Ref=null,this.itsMatch1Ref=null,clearInterval(this.itsIntervalId)}getClassifier(t){let e=null;return null!==t&&(e=t.getRef()),e}getObject(t){let e=null;return null!==t&&(e=t.getRef()),e}getSourceObject(){return this.getObject(this.itsSourceRef)}getStore1Object(){return this.getObject(this.itsStore1Ref)}getMatch1Object(){return this.getObject(this.itsMatch1Ref)}getMacros(){const t=this.getClassifier(this.itsClassifierRef);if(null===t)return null;const e=t.getConfig().getMacros();return!1===e.isLoaded()?null:e}invokeInit(){const t=this.getMacros();null!==t&&t.sendInit()}loadMacros(){const t=this.getMacros();null!==t&&(this.itsTeachMacro1.length=t.getTeachPos(1).length,this.itsTeachMacro2.length=t.getTeachPos(2).length,this.itsTeachMacro3.length=t.getTeachPos(3).length,this.itsTeachMacro4.length=t.getTeachPos(4).length,this.itsTestMacro1.length=t.getTestPos(1).length,this.itsTestMacro2.length=t.getTestPos(2).length,this.itsTestMacro3.length=t.getTestPos(3).length,this.itsTestMacro4.length=t.getTestPos(4).length)}moveDXY(t,e){const n=this.getSourceObject();null!==n&&n.moveDXY(t,e)}onUp(){this.moveDXY(0,-1)}onDown(){this.moveDXY(0,1)}onLeft(){this.moveDXY(-1,0)}onRight(){this.moveDXY(1,0)}get mx(){const t=this.getSourceObject();return null===t?"":t.getX().toFixed(0)}get my(){const t=this.getSourceObject();return null===t?"":t.getY().toFixed(0)}onClear(t){const e=this.getMacros();if(null!==e)switch(t){case 1:e.sendAction("Store1,clear");break;case 2:e.sendAction("Store2,clear");break;case 3:e.sendAction("Store3,clear");break;case 4:e.sendAction("Store4,clear")}}onTeach(t){const e=this.getMacros();if(null!==e)switch(t){case 1:const n=this.itsTeachMacro1.next();n>=0&&e.sendTeachPos(1,n,"Store1,teach");break;case 2:const s=this.itsTeachMacro2.next();s>=0&&e.sendTeachPos(2,s,"Store2,teach");break;case 3:const l=this.itsTeachMacro3.next();l>=0&&e.sendTeachPos(3,l,"Store3,teach");break;case 4:const i=this.itsTeachMacro4.next();i>=0&&e.sendTeachPos(4,i,"Store4,teach")}}onTest(t){const e=this.getMacros();if(null!==e)switch(t){case 1:const n=this.itsTestMacro1.next();n>=0&&e.sendTestPos(1,n);break;case 2:const s=this.itsTestMacro2.next();s>=0&&e.sendTestPos(2,s);break;case 3:const l=this.itsTestMacro3.next();l>=0&&e.sendTestPos(3,l);break;case 4:const i=this.itsTestMacro4.next();i>=0&&e.sendTestPos(4,i)}}log(t){this.theLog.add("Store1-4:"+t)}}var ub=hl({encapsulation:2,styles:[],data:{}});function ab(t){return Zi(0,[(t()(),Bl(0,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(1,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Store 1-4:"])),(t()(),Bl(3,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(4,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Multiple Stores are used when we want recognise a 'type' of scene."])),(t()(),Bl(6,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["In the scenario below you can see a 'Source' that contains some letters of the alphabet that will used for training and testing,"])),(t()(),Bl(8,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Xi(-1,null,[" and there are four Stores that we will independently train and test."])),(t()(),Bl(10,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The 'Source' contains two sets of letters. The letters at the top are for teaching only. The letters at the bottom are for testing only"])),(t()(),Bl(12,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Each Store has three action control buttons."])),(t()(),Bl(14,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Pressing the 'Clear' button will empty the associated Store."])),(t()(),Bl(16,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Pressing the 'Teach' button will instruct the 'View' to move to the next letter in the teaching set and then instruct the associated store to record the features found."])),(t()(),Bl(18,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Pressing the 'Test' button will instruct the 'View' to move to the next letter in the testing set where its features will be reported."])),(t()(),Bl(20,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["You will notice that immediately after teaching, the 'Score' window for the 'Store' just taught will be fully populated, this is because the software will automatically test the 'View' and find all the features to be present."])),(t()(),Bl(22,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["You will notice that when testing any 'Store', some of the RAMs might not detect a feature and this will lower the score, this is because we are using a real world image that contains noise, uneven lighting and distortion, however many of the RAMs should respond."])),(t()(),Bl(24,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["You will notice that when testing a store, some of the other stores will also produce a significant response, this is becuase there may be many features that are common to both."])),(t()(),Bl(26,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(27,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(28,0,null,null,25,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Source"])),(t()(),Bl(30,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(31,0,null,null,0,"div",[["class","W3Source0 W200 H200"]],null,null,null,null,null)),(t()(),Bl(32,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(33,0,null,null,20,"table",[["style","text-align:center"]],null,null,null,null,null)),(t()(),Bl(34,0,null,null,19,"tbody",[],null,null,null,null,null)),(t()(),Bl(35,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),Bl(36,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Xi(37,null,["",""])),(t()(),Bl(38,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Xi(39,null,["",""])),(t()(),Bl(40,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Bl(41,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Bl(42,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onUp()&&s),s},null,null)),(t()(),Xi(-1,null,["Up"])),(t()(),Bl(44,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Bl(45,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onDown()&&s),s},null,null)),(t()(),Xi(-1,null,["Down"])),(t()(),Bl(47,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Bl(48,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Bl(49,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onLeft()&&s),s},null,null)),(t()(),Xi(-1,null,["Left"])),(t()(),Bl(51,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Bl(52,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onRight()&&s),s},null,null)),(t()(),Xi(-1,null,["Right"])),(t()(),Bl(54,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(55,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" View"])),(t()(),Bl(57,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(58,0,null,null,0,"div",[["class","W3View0 W64 H64"]],null,null,null,null,null)),(t()(),Bl(59,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(60,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Thresh"])),(t()(),Bl(62,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(63,0,null,null,0,"div",[["class","W3Threshold0 W64 H64 WBorder1"]],null,null,null,null,null)),(t()(),Bl(64,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(65,0,null,null,14,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" S1"])),(t()(),Bl(67,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(68,0,null,null,0,"div",[["class","W3Store1 W64 H256 WBorder1"]],null,null,null,null,null)),(t()(),Bl(69,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(70,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onClear(1)&&s),s},null,null)),(t()(),Xi(-1,null,["Clear"])),(t()(),Bl(72,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(73,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onTeach(1)&&s),s},null,null)),(t()(),Xi(-1,null,["Teach"])),(t()(),Bl(75,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(76,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onTest(1)&&s),s},null,null)),(t()(),Xi(-1,null,["Test"])),(t()(),Bl(78,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(79,0,null,null,0,"div",[["class","W3ScoreOut1 W16 H128 WBorder1"]],null,null,null,null,null)),(t()(),Bl(80,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(81,0,null,null,14,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" S2"])),(t()(),Bl(83,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(84,0,null,null,0,"div",[["class","W3Store2 W64 H256 WBorder1"]],null,null,null,null,null)),(t()(),Bl(85,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(86,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onClear(2)&&s),s},null,null)),(t()(),Xi(-1,null,["Clear"])),(t()(),Bl(88,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(89,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onTeach(2)&&s),s},null,null)),(t()(),Xi(-1,null,["Teach"])),(t()(),Bl(91,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(92,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onTest(2)&&s),s},null,null)),(t()(),Xi(-1,null,["Test"])),(t()(),Bl(94,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(95,0,null,null,0,"div",[["class","W3ScoreOut2 W16 H128 WBorder1"]],null,null,null,null,null)),(t()(),Bl(96,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(97,0,null,null,14,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" S3"])),(t()(),Bl(99,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(100,0,null,null,0,"div",[["class","W3Store3 W64 H256 WBorder1"]],null,null,null,null,null)),(t()(),Bl(101,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(102,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onClear(3)&&s),s},null,null)),(t()(),Xi(-1,null,["Clear"])),(t()(),Bl(104,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(105,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onTeach(3)&&s),s},null,null)),(t()(),Xi(-1,null,["Teach"])),(t()(),Bl(107,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(108,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onTest(3)&&s),s},null,null)),(t()(),Xi(-1,null,["Test"])),(t()(),Bl(110,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(111,0,null,null,0,"div",[["class","W3ScoreOut3 W16 H128 WBorder1"]],null,null,null,null,null)),(t()(),Bl(112,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(113,0,null,null,14,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" S4"])),(t()(),Bl(115,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(116,0,null,null,0,"div",[["class","W3Store4 W64 H256 WBorder1"]],null,null,null,null,null)),(t()(),Bl(117,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(118,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onClear(4)&&s),s},null,null)),(t()(),Xi(-1,null,["Clear"])),(t()(),Bl(120,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(121,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onTeach(4)&&s),s},null,null)),(t()(),Xi(-1,null,["Teach"])),(t()(),Bl(123,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(124,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onTest(4)&&s),s},null,null)),(t()(),Xi(-1,null,["Test"])),(t()(),Bl(126,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(127,0,null,null,0,"div",[["class","W3ScoreOut4 W16 H128 WBorder1"]],null,null,null,null,null)),(t()(),Bl(128,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(129,0,null,null,0,"br",[],null,null,null,null,null))],null,function(t,e){var n=e.component;t(e,37,0,n.mx),t(e,39,0,n.my)})}function cb(t){return Zi(0,[(t()(),Bl(0,0,null,null,1,"app-store4",[],null,null,null,ab,ub)),ki(1,245760,null,0,ob,[ro,ua],null,null)],function(t,e){t(e,1,0)},null)}var hb=si("app-store4",ob,cb,{},{},[]);class db{constructor(t,e){this.theLog=t,this.theWisard=e,this.itsClassifierRef=null,this.itsSourceRef=null,this.itsStore1Ref=null,this.itsMatch1Ref=null,this.itsTeachMacro1=new $v,this.itsTeachMacro2=new $v,this.itsTeachMacro3=new $v,this.itsTeachMacro4=new $v,this.itsTestMacro1=new $v,this.itsTestMacro2=new $v,this.itsTestMacro3=new $v,this.itsTestMacro4=new $v,this.log("constructor:")}ngOnInit(){this.log("ngOnInit:"),this.itsClassifierRef=this.theWisard.findClassifierRefByClassId("W3"),this.itsSourceRef=this.theWisard.findObjectRefByClassIdNameId("W3Source0"),this.itsStore1Ref=this.theWisard.findObjectRefByClassIdNameId("W3Store1"),this.itsMatch1Ref=this.theWisard.findObjectRefByClassIdNameId("W3Match1"),this.invokeInit(),this.itsIntervalId=setInterval(()=>this.tick(),1e3)}tick(){this.loadMacros()}ngOnDestroy(){this.log("ngOnDestroy:"),this.itsClassifierRef=null,this.itsSourceRef=null,this.itsStore1Ref=null,this.itsMatch1Ref=null,clearInterval(this.itsIntervalId)}getClassifier(t){let e=null;return null!==t&&(e=t.getRef()),e}getObject(t){let e=null;return null!==t&&(e=t.getRef()),e}getSourceObject(){return this.getObject(this.itsSourceRef)}getStore1Object(){return this.getObject(this.itsStore1Ref)}getMatch1Object(){return this.getObject(this.itsMatch1Ref)}getMacros(){const t=this.getClassifier(this.itsClassifierRef);if(null===t)return null;const e=t.getConfig().getMacros();return!1===e.isLoaded()?null:e}invokeInit(){const t=this.getMacros();null!==t&&t.sendInit()}loadMacros(){const t=this.getMacros();null!==t&&(this.itsTeachMacro1.length=t.getTeachPos(1).length,this.itsTeachMacro2.length=t.getTeachPos(2).length,this.itsTeachMacro3.length=t.getTeachPos(3).length,this.itsTeachMacro4.length=t.getTeachPos(4).length,this.itsTestMacro1.length=t.getTestPos(1).length,this.itsTestMacro2.length=t.getTestPos(2).length,this.itsTestMacro3.length=t.getTestPos(3).length,this.itsTestMacro4.length=t.getTestPos(4).length)}moveDXY(t,e){const n=this.getSourceObject();null!==n&&n.moveDXY(t,e)}onUp(){this.moveDXY(0,-1)}onDown(){this.moveDXY(0,1)}onLeft(){this.moveDXY(-1,0)}onRight(){this.moveDXY(1,0)}get mx(){const t=this.getSourceObject();return null===t?"":t.getX().toFixed(0)}get my(){const t=this.getSourceObject();return null===t?"":t.getY().toFixed(0)}onClear(t){const e=this.getMacros();if(null!==e)switch(t){case 1:e.sendAction("Store1,clear");break;case 2:e.sendAction("Store2,clear");break;case 3:e.sendAction("Store3,clear");break;case 4:e.sendAction("Store4,clear")}}onTeach(t){const e=this.getMacros();if(null!==e)switch(t){case 1:const n=this.itsTeachMacro1.next();n>=0&&e.sendTeachPos(1,n,"Store1,teach");break;case 2:const s=this.itsTeachMacro2.next();s>=0&&e.sendTeachPos(2,s,"Store2,teach");break;case 3:const l=this.itsTeachMacro3.next();l>=0&&e.sendTeachPos(3,l,"Store3,teach");break;case 4:const i=this.itsTeachMacro4.next();i>=0&&e.sendTeachPos(4,i,"Store4,teach")}}onTest(t){const e=this.getMacros();if(null!==e)switch(t){case 1:const n=this.itsTestMacro1.next();n>=0&&e.sendTestPos(1,n);break;case 2:const s=this.itsTestMacro2.next();s>=0&&e.sendTestPos(2,s);break;case 3:const l=this.itsTestMacro3.next();l>=0&&e.sendTestPos(3,l);break;case 4:const i=this.itsTestMacro4.next();i>=0&&e.sendTestPos(4,i)}}log(t){this.theLog.add("Result:"+t)}}var pb=hl({encapsulation:2,styles:[],data:{}});function fb(t){return Zi(0,[(t()(),Bl(0,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(1,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Result:"])),(t()(),Bl(3,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(4,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["When using multiple Stores we want to know which one is showing the strongest response, this is used to decide what 'type' of scene is being observed."])),(t()(),Bl(6,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The 'Result' module looks for the classifier producing the strongest response, in addition to this it ensures that the strongest response exceeds a minimum threshold."])),(t()(),Bl(8,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Xi(-1,null,["The 'Result' module displays the chosen 'type' of scene."])),(t()(),Bl(10,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(11,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(12,0,null,null,25,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Source"])),(t()(),Bl(14,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(15,0,null,null,0,"div",[["class","W3Source0 W200 H200"]],null,null,null,null,null)),(t()(),Bl(16,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(17,0,null,null,20,"table",[["style","text-align:center"]],null,null,null,null,null)),(t()(),Bl(18,0,null,null,19,"tbody",[],null,null,null,null,null)),(t()(),Bl(19,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),Bl(20,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Xi(21,null,["",""])),(t()(),Bl(22,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Xi(23,null,["",""])),(t()(),Bl(24,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Bl(25,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Bl(26,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onUp()&&s),s},null,null)),(t()(),Xi(-1,null,["Up"])),(t()(),Bl(28,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Bl(29,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onDown()&&s),s},null,null)),(t()(),Xi(-1,null,["Down"])),(t()(),Bl(31,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Bl(32,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Bl(33,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onLeft()&&s),s},null,null)),(t()(),Xi(-1,null,["Left"])),(t()(),Bl(35,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Bl(36,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onRight()&&s),s},null,null)),(t()(),Xi(-1,null,["Right"])),(t()(),Bl(38,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(39,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" View"])),(t()(),Bl(41,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(42,0,null,null,0,"div",[["class","W3View0 W64 H64"]],null,null,null,null,null)),(t()(),Bl(43,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(44,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Thresh"])),(t()(),Bl(46,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(47,0,null,null,0,"div",[["class","W3Threshold0 W64 H64 WBorder1"]],null,null,null,null,null)),(t()(),Bl(48,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(49,0,null,null,14,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" S1"])),(t()(),Bl(51,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(52,0,null,null,0,"div",[["class","W3Store1 W64 H256 WBorder1"]],null,null,null,null,null)),(t()(),Bl(53,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(54,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onClear(1)&&s),s},null,null)),(t()(),Xi(-1,null,["Clear"])),(t()(),Bl(56,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(57,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onTeach(1)&&s),s},null,null)),(t()(),Xi(-1,null,["Teach"])),(t()(),Bl(59,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(60,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onTest(1)&&s),s},null,null)),(t()(),Xi(-1,null,["Test"])),(t()(),Bl(62,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(63,0,null,null,0,"div",[["class","W3ScoreOut1 W16 H128 WBorder1"]],null,null,null,null,null)),(t()(),Bl(64,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(65,0,null,null,14,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" S2"])),(t()(),Bl(67,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(68,0,null,null,0,"div",[["class","W3Store2 W64 H256 WBorder1"]],null,null,null,null,null)),(t()(),Bl(69,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(70,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onClear(2)&&s),s},null,null)),(t()(),Xi(-1,null,["Clear"])),(t()(),Bl(72,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(73,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onTeach(2)&&s),s},null,null)),(t()(),Xi(-1,null,["Teach"])),(t()(),Bl(75,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(76,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onTest(2)&&s),s},null,null)),(t()(),Xi(-1,null,["Test"])),(t()(),Bl(78,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(79,0,null,null,0,"div",[["class","W3ScoreOut2 W16 H128 WBorder1"]],null,null,null,null,null)),(t()(),Bl(80,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(81,0,null,null,14,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" S3"])),(t()(),Bl(83,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(84,0,null,null,0,"div",[["class","W3Store3 W64 H256 WBorder1"]],null,null,null,null,null)),(t()(),Bl(85,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(86,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onClear(3)&&s),s},null,null)),(t()(),Xi(-1,null,["Clear"])),(t()(),Bl(88,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(89,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onTeach(3)&&s),s},null,null)),(t()(),Xi(-1,null,["Teach"])),(t()(),Bl(91,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(92,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onTest(3)&&s),s},null,null)),(t()(),Xi(-1,null,["Test"])),(t()(),Bl(94,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(95,0,null,null,0,"div",[["class","W3ScoreOut3 W16 H128 WBorder1"]],null,null,null,null,null)),(t()(),Bl(96,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(97,0,null,null,14,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" S4"])),(t()(),Bl(99,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(100,0,null,null,0,"div",[["class","W3Store4 W64 H256 WBorder1"]],null,null,null,null,null)),(t()(),Bl(101,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(102,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onClear(4)&&s),s},null,null)),(t()(),Xi(-1,null,["Clear"])),(t()(),Bl(104,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(105,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onTeach(4)&&s),s},null,null)),(t()(),Xi(-1,null,["Teach"])),(t()(),Bl(107,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(108,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onTest(4)&&s),s},null,null)),(t()(),Xi(-1,null,["Test"])),(t()(),Bl(110,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(111,0,null,null,0,"div",[["class","W3ScoreOut4 W16 H128 WBorder1"]],null,null,null,null,null)),(t()(),Bl(112,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(113,0,null,null,4,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Result"])),(t()(),Bl(115,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(116,0,null,null,0,"div",[["class","W3Result0 W64 H64 WBorder1"]],null,null,null,null,null)),(t()(),Bl(117,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(118,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(119,0,null,null,0,"br",[],null,null,null,null,null))],null,function(t,e){var n=e.component;t(e,21,0,n.mx),t(e,23,0,n.my)})}function gb(t){return Zi(0,[(t()(),Bl(0,0,null,null,1,"app-result",[],null,null,null,fb,pb)),ki(1,245760,null,0,db,[ro,ua],null,null)],function(t,e){t(e,1,0)},null)}var mb=si("app-result",db,gb,{},{},[]);class _b{constructor(t,e){this.theLog=t,this.theWisard=e,this.itsClassifierRef=null,this.itsSourceRef=null,this.itsViewRef=null,this.itsThresholdRef=null,this.itsUIScale=300,this.itsUIRotate=0,this.itsUIThreshold=50,this.itsScale=300,this.itsRotate=0,this.itsThreshold=.5,this.itsGotoList=["0"],this.itsUIGoto="0",this.log("constructor:")}ngOnInit(){this.log("ngOnInit:"),this.itsClassifierRef=this.theWisard.findClassifierRefByClassId("W2"),this.itsSourceRef=this.theWisard.findObjectRefByClassIdNameId("W2Source0"),this.itsViewRef=this.theWisard.findObjectRefByClassIdNameId("W2View0"),this.itsThresholdRef=this.theWisard.findObjectRefByClassIdNameId("W2Threshold0"),this.invokeInit(),this.itsIntervalId=setInterval(()=>this.tick(),1e3)}tick(){this.loadMacros(),this.loadScale(),this.loadRotate(),this.loadThreshold()}ngOnDestroy(){this.log("ngOnDestroy:"),this.itsClassifierRef=null,this.itsSourceRef=null,this.itsViewRef=null,this.itsThresholdRef=null,clearInterval(this.itsIntervalId)}getClassifier(t){let e=null;return null!==t&&(e=t.getRef()),e}getObject(t){let e=null;return null!==t&&(e=t.getRef()),e}getSourceObject(){return this.getObject(this.itsSourceRef)}getViewObject(){return this.getObject(this.itsViewRef)}getThresholdObject(){return this.getObject(this.itsThresholdRef)}moveDXY(t,e){const n=this.getSourceObject();null!==n&&n.moveDXY(t,e)}onUp(){this.moveDXY(0,-1)}onDown(){this.moveDXY(0,1)}onLeft(){this.moveDXY(-1,0)}onRight(){this.moveDXY(1,0)}get mx(){const t=this.getSourceObject();return null===t?"":t.getX().toFixed(0)}get my(){const t=this.getSourceObject();return null===t?"":t.getY().toFixed(0)}invokeInit(){const t=this.getClassifier(this.itsClassifierRef);null!==t&&t.getConfig().getMacros().sendInit()}loadMacros(){const t=this.getClassifier(this.itsClassifierRef);if(null===t)return;const e=t.getConfig().getMacros();if(!1===e.isLoaded())return;const n=this.itsGotoList.length,s=e.getTeachPos(1).length;if(n!==s){const t=[];for(let e=0;e<s;e++)t.push(""+e);this.itsGotoList=t}}onGotoClick(){const t=this.getClassifier(this.itsClassifierRef);if(null===t)return;const e=bo.parseInt(this.itsUIGoto);t.getConfig().getMacros().sendTeachPos(1,e)}onScaleChange(t){const e=this.getViewObject();null!==e&&(this.itsUIScale=t.value,this.itsScale=.01*this.itsUIScale,e.setScale(this.itsScale))}loadScale(){const t=this.getViewObject();null!==t&&(this.itsScale=t.getScale(),this.itsUIScale=100*this.itsScale)}get scale(){return this.itsScale.toFixed(2)}onRotateChange(t){const e=this.getViewObject();null!==e&&(this.itsUIRotate=t.value,this.itsRotate=this.itsUIRotate,e.setRotate(this.itsRotate))}loadRotate(){const t=this.getViewObject();null!==t&&(this.itsRotate=t.getRotate(),this.itsUIRotate=this.itsRotate)}get rotate(){return this.itsRotate.toFixed(1)}onThresholdChange(t){const e=this.getThresholdObject();null!==e&&(this.itsUIThreshold=t.value,this.itsThreshold=.01*this.itsUIThreshold,e.setThresh(this.itsThreshold))}loadThreshold(){const t=this.getThresholdObject();null!==t&&(this.itsThreshold=t.getThresh(),this.itsUIThreshold=100*this.itsThreshold)}get thresh(){return this.itsThreshold.toFixed(2)}log(t){this.theLog.add("Setup:"+t)}}var yb=hl({encapsulation:2,styles:[],data:{}});function vb(t){return Zi(0,[(t()(),Bl(0,0,null,null,3,"option",[],null,null,null,null,null)),ki(1,147456,null,0,ng,[xe,Ae,[2,eg]],{value:[0,"value"]},null),ki(2,147456,null,0,lg,[xe,Ae,[8,null]],{value:[0,"value"]},null),(t()(),Xi(3,null,["",""]))],function(t,e){t(e,1,0,e.context.$implicit),t(e,2,0,e.context.$implicit)},function(t,e){t(e,3,0,e.context.$implicit)})}function bb(t){return Zi(0,[(t()(),Bl(0,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(1,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Setup:"])),(t()(),Bl(3,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(4,0,null,null,25,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Source"])),(t()(),Bl(6,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(7,0,null,null,0,"div",[["class","W2Source0 W200 H200"]],null,null,null,null,null)),(t()(),Bl(8,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(9,0,null,null,20,"table",[["style","text-align:center"]],null,null,null,null,null)),(t()(),Bl(10,0,null,null,19,"tbody",[],null,null,null,null,null)),(t()(),Bl(11,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),Bl(12,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Xi(13,null,["",""])),(t()(),Bl(14,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Xi(15,null,["",""])),(t()(),Bl(16,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Bl(17,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Bl(18,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onUp()&&s),s},null,null)),(t()(),Xi(-1,null,["Up"])),(t()(),Bl(20,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Bl(21,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onDown()&&s),s},null,null)),(t()(),Xi(-1,null,["Down"])),(t()(),Bl(23,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Bl(24,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Bl(25,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onLeft()&&s),s},null,null)),(t()(),Xi(-1,null,["Left"])),(t()(),Bl(27,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Bl(28,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onRight()&&s),s},null,null)),(t()(),Xi(-1,null,["Right"])),(t()(),Bl(30,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(31,0,null,null,20,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" View"])),(t()(),Bl(33,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(34,0,null,null,0,"div",[["class","W2View0 W64 H64"]],null,null,null,null,null)),(t()(),Bl(35,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(36,0,null,null,5,"mat-slider",[["class","W32 H128 mat-slider"],["max","300"],["min","50"],["role","slider"],["vertical",""]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"focus"],[null,"blur"],[null,"mousedown"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,n){var s=!0,l=t.component;return"focus"===e&&(s=!1!==fi(t,37)._onFocus()&&s),"blur"===e&&(s=!1!==fi(t,37)._onBlur()&&s),"mousedown"===e&&(s=!1!==fi(t,37)._onMousedown(n)&&s),"keydown"===e&&(s=!1!==fi(t,37)._onKeydown(n)&&s),"keyup"===e&&(s=!1!==fi(t,37)._onKeyup()&&s),"mouseenter"===e&&(s=!1!==fi(t,37)._onMouseenter()&&s),"slide"===e&&(s=!1!==fi(t,37)._onSlide(n)&&s),"slideend"===e&&(s=!1!==fi(t,37)._onSlideEnd()&&s),"slidestart"===e&&(s=!1!==fi(t,37)._onSlideStart(n)&&s),"ngModelChange"===e&&(s=!1!==(l.itsUIScale=n)&&s),"input"===e&&(s=!1!==l.onScaleChange(n)&&s),s},vv,yv)),ki(37,245760,null,0,pm,[xe,Yg,bs,[2,mm],[8,null],[2,mv]],{max:[0,"max"],min:[1,"min"],vertical:[2,"vertical"]},{input:"input"}),Ii(1024,null,Gf,function(t){return[t]},[pm]),ki(39,671744,null,0,Pg,[[8,null],[8,null],[8,null],[6,Gf]],{model:[0,"model"]},{update:"ngModelChange"}),Ii(2048,null,Qf,null,[Pg]),ki(41,16384,null,0,fg,[[4,Qf]],null,null),(t()(),Bl(42,0,null,null,5,"mat-slider",[["class","W32 H128 mat-slider"],["max","45"],["min","-45"],["role","slider"],["vertical",""]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"focus"],[null,"blur"],[null,"mousedown"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,n){var s=!0,l=t.component;return"focus"===e&&(s=!1!==fi(t,43)._onFocus()&&s),"blur"===e&&(s=!1!==fi(t,43)._onBlur()&&s),"mousedown"===e&&(s=!1!==fi(t,43)._onMousedown(n)&&s),"keydown"===e&&(s=!1!==fi(t,43)._onKeydown(n)&&s),"keyup"===e&&(s=!1!==fi(t,43)._onKeyup()&&s),"mouseenter"===e&&(s=!1!==fi(t,43)._onMouseenter()&&s),"slide"===e&&(s=!1!==fi(t,43)._onSlide(n)&&s),"slideend"===e&&(s=!1!==fi(t,43)._onSlideEnd()&&s),"slidestart"===e&&(s=!1!==fi(t,43)._onSlideStart(n)&&s),"ngModelChange"===e&&(s=!1!==(l.itsUIRotate=n)&&s),"input"===e&&(s=!1!==l.onRotateChange(n)&&s),s},vv,yv)),ki(43,245760,null,0,pm,[xe,Yg,bs,[2,mm],[8,null],[2,mv]],{max:[0,"max"],min:[1,"min"],vertical:[2,"vertical"]},{input:"input"}),Ii(1024,null,Gf,function(t){return[t]},[pm]),ki(45,671744,null,0,Pg,[[8,null],[8,null],[8,null],[6,Gf]],{model:[0,"model"]},{update:"ngModelChange"}),Ii(2048,null,Qf,null,[Pg]),ki(47,16384,null,0,fg,[[4,Qf]],null,null),(t()(),Bl(48,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Xi(49,null,[" S:",""])),(t()(),Bl(50,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Xi(51,null,[" R:"," "])),(t()(),Bl(52,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(53,0,null,null,12,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Thresh"])),(t()(),Bl(55,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(56,0,null,null,0,"div",[["class","W2Threshold0 W64 H64 WBorder1"]],null,null,null,null,null)),(t()(),Bl(57,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(58,0,null,null,5,"mat-slider",[["class","W32 H128 mat-slider"],["max","100"],["min","0"],["role","slider"],["vertical",""]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"focus"],[null,"blur"],[null,"mousedown"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,n){var s=!0,l=t.component;return"focus"===e&&(s=!1!==fi(t,59)._onFocus()&&s),"blur"===e&&(s=!1!==fi(t,59)._onBlur()&&s),"mousedown"===e&&(s=!1!==fi(t,59)._onMousedown(n)&&s),"keydown"===e&&(s=!1!==fi(t,59)._onKeydown(n)&&s),"keyup"===e&&(s=!1!==fi(t,59)._onKeyup()&&s),"mouseenter"===e&&(s=!1!==fi(t,59)._onMouseenter()&&s),"slide"===e&&(s=!1!==fi(t,59)._onSlide(n)&&s),"slideend"===e&&(s=!1!==fi(t,59)._onSlideEnd()&&s),"slidestart"===e&&(s=!1!==fi(t,59)._onSlideStart(n)&&s),"ngModelChange"===e&&(s=!1!==(l.itsUIThreshold=n)&&s),"input"===e&&(s=!1!==l.onThresholdChange(n)&&s),s},vv,yv)),ki(59,245760,null,0,pm,[xe,Yg,bs,[2,mm],[8,null],[2,mv]],{max:[0,"max"],min:[1,"min"],vertical:[2,"vertical"]},{input:"input"}),Ii(1024,null,Gf,function(t){return[t]},[pm]),ki(61,671744,null,0,Pg,[[8,null],[8,null],[8,null],[6,Gf]],{model:[0,"model"]},{update:"ngModelChange"}),Ii(2048,null,Qf,null,[Pg]),ki(63,16384,null,0,fg,[[4,Qf]],null,null),(t()(),Bl(64,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Xi(65,null,[" T:"," "])),(t()(),Bl(66,0,null,null,0,"div",[["class","WBorder0 W10 H200"]],null,null,null,null,null)),(t()(),Bl(67,0,null,null,3,"div",[["class","WBorder0"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Decoder"])),(t()(),Bl(69,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(70,0,null,null,0,"div",[["class","W2Decoder0 W64 H256 WBorder1"]],null,null,null,null,null)),(t()(),Bl(71,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(72,0,null,null,7,"select",[["class","WButton"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,e,n){var s=!0,l=t.component;return"change"===e&&(s=!1!==fi(t,73).onChange(n.target.value)&&s),"blur"===e&&(s=!1!==fi(t,73).onTouched()&&s),"ngModelChange"===e&&(s=!1!==(l.itsUIGoto=n)&&s),s},null,null)),ki(73,16384,null,0,eg,[Ae,xe],null,null),Ii(1024,null,Gf,function(t){return[t]},[eg]),ki(75,671744,null,0,Pg,[[8,null],[8,null],[8,null],[6,Gf]],{model:[0,"model"]},{update:"ngModelChange"}),Ii(2048,null,Qf,null,[Pg]),ki(77,16384,null,0,fg,[[4,Qf]],null,null),(t()(),Vl(16777216,null,null,1,null,vb)),ki(79,278528,null,0,wu,[ys,un,Vs],{ngForOf:[0,"ngForOf"]},null),(t()(),Bl(80,0,null,null,1,"button",[["class","WButton"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.onGotoClick()&&s),s},null,null)),(t()(),Xi(-1,null,["Goto"]))],function(t,e){var n=e.component;t(e,37,0,"300","50",""),t(e,39,0,n.itsUIScale),t(e,43,0,"45","-45",""),t(e,45,0,n.itsUIRotate),t(e,59,0,"100","0",""),t(e,61,0,n.itsUIThreshold),t(e,75,0,n.itsUIGoto),t(e,79,0,n.itsGotoList)},function(t,e){var n=e.component;t(e,13,0,n.mx),t(e,15,0,n.my),t(e,36,1,[fi(e,37).tabIndex,fi(e,37).disabled,fi(e,37).max,fi(e,37).min,fi(e,37).value,fi(e,37).vertical?"vertical":"horizontal",fi(e,37).disabled,fi(e,37).tickInterval,!fi(e,37).vertical,fi(e,37)._invertAxis,fi(e,37)._isSliding,fi(e,37).thumbLabel,fi(e,37).vertical,fi(e,37)._isMinValue,fi(e,37).disabled||fi(e,37)._isMinValue&&fi(e,37)._thumbGap&&fi(e,37)._invertAxis,"NoopAnimations"===fi(e,37)._animationMode,fi(e,41).ngClassUntouched,fi(e,41).ngClassTouched,fi(e,41).ngClassPristine,fi(e,41).ngClassDirty,fi(e,41).ngClassValid,fi(e,41).ngClassInvalid,fi(e,41).ngClassPending]),t(e,42,1,[fi(e,43).tabIndex,fi(e,43).disabled,fi(e,43).max,fi(e,43).min,fi(e,43).value,fi(e,43).vertical?"vertical":"horizontal",fi(e,43).disabled,fi(e,43).tickInterval,!fi(e,43).vertical,fi(e,43)._invertAxis,fi(e,43)._isSliding,fi(e,43).thumbLabel,fi(e,43).vertical,fi(e,43)._isMinValue,fi(e,43).disabled||fi(e,43)._isMinValue&&fi(e,43)._thumbGap&&fi(e,43)._invertAxis,"NoopAnimations"===fi(e,43)._animationMode,fi(e,47).ngClassUntouched,fi(e,47).ngClassTouched,fi(e,47).ngClassPristine,fi(e,47).ngClassDirty,fi(e,47).ngClassValid,fi(e,47).ngClassInvalid,fi(e,47).ngClassPending]),t(e,49,0,n.scale),t(e,51,0,n.rotate),t(e,58,1,[fi(e,59).tabIndex,fi(e,59).disabled,fi(e,59).max,fi(e,59).min,fi(e,59).value,fi(e,59).vertical?"vertical":"horizontal",fi(e,59).disabled,fi(e,59).tickInterval,!fi(e,59).vertical,fi(e,59)._invertAxis,fi(e,59)._isSliding,fi(e,59).thumbLabel,fi(e,59).vertical,fi(e,59)._isMinValue,fi(e,59).disabled||fi(e,59)._isMinValue&&fi(e,59)._thumbGap&&fi(e,59)._invertAxis,"NoopAnimations"===fi(e,59)._animationMode,fi(e,63).ngClassUntouched,fi(e,63).ngClassTouched,fi(e,63).ngClassPristine,fi(e,63).ngClassDirty,fi(e,63).ngClassValid,fi(e,63).ngClassInvalid,fi(e,63).ngClassPending]),t(e,65,0,n.thresh),t(e,72,0,fi(e,77).ngClassUntouched,fi(e,77).ngClassTouched,fi(e,77).ngClassPristine,fi(e,77).ngClassDirty,fi(e,77).ngClassValid,fi(e,77).ngClassInvalid,fi(e,77).ngClassPending)})}function wb(t){return Zi(0,[(t()(),Bl(0,0,null,null,1,"app-setup",[],null,null,null,bb,yb)),ki(1,245760,null,0,_b,[ro,ua],null,null)],function(t,e){t(e,1,0)},null)}var Cb=si("app-setup",_b,wb,{},{},[]),Sb=hl({encapsulation:0,styles:['.wrow[_ngcontent-%COMP%]:after {\n      content: "";\n      display: table;\n      clear: both;\n    }\n\n    .wcolumn[_ngcontent-%COMP%] {\n      float: left;\n      width: 50%;\n      padding: 5px;\n    }'],data:{}});function Tb(t){return Zi(0,[(t()(),Bl(0,0,null,null,10,"div",[["class","wrow"]],null,null,null,null,null)),(t()(),Bl(1,0,null,null,2,"div",[["class","wcolumn"]],null,null,null,null,null)),(t()(),Bl(2,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Xi(-1,null,["Soft WISARD"])),(t()(),Bl(4,0,null,null,6,"div",[["class","wcolumn"]],null,null,null,null,null)),(t()(),Bl(5,0,null,null,1,"h6",[],null,null,null,null,null)),(t()(),Xi(6,null,["Status: ",""])),(t()(),Bl(7,0,null,null,1,"h6",[],null,null,null,null,null)),(t()(),Xi(8,null,["Render Rate: ",""])),(t()(),Bl(9,0,null,null,1,"h6",[],null,null,null,null,null)),(t()(),Xi(10,null,["Texture Count: ",""])),(t()(),Bl(11,0,null,null,78,"nav",[],null,null,null,null,null)),(t()(),Bl(12,0,null,null,5,"a",[["routerLink","/intro"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==fi(t,13).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&s),s},null,null)),ki(13,671744,[[2,4]],0,Op,[Ap,vd,ru],{routerLink:[0,"routerLink"]},null),ki(14,1720320,null,2,Np,[Ap,xe,Ae,bs],{routerLinkActive:[0,"routerLinkActive"]},null),Hi(603979776,1,{links:1}),Hi(603979776,2,{linksWithHrefs:1}),(t()(),Xi(-1,null,["Intro"])),(t()(),Bl(18,0,null,null,5,"a",[["routerLink","/overview"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==fi(t,19).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&s),s},null,null)),ki(19,671744,[[4,4]],0,Op,[Ap,vd,ru],{routerLink:[0,"routerLink"]},null),ki(20,1720320,null,2,Np,[Ap,xe,Ae,bs],{routerLinkActive:[0,"routerLinkActive"]},null),Hi(603979776,3,{links:1}),Hi(603979776,4,{linksWithHrefs:1}),(t()(),Xi(-1,null,["Overview"])),(t()(),Bl(24,0,null,null,5,"a",[["routerLink","/source"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==fi(t,25).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&s),s},null,null)),ki(25,671744,[[6,4]],0,Op,[Ap,vd,ru],{routerLink:[0,"routerLink"]},null),ki(26,1720320,null,2,Np,[Ap,xe,Ae,bs],{routerLinkActive:[0,"routerLinkActive"]},null),Hi(603979776,5,{links:1}),Hi(603979776,6,{linksWithHrefs:1}),(t()(),Xi(-1,null,["Source"])),(t()(),Bl(30,0,null,null,5,"a",[["routerLink","/view"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==fi(t,31).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&s),s},null,null)),ki(31,671744,[[8,4]],0,Op,[Ap,vd,ru],{routerLink:[0,"routerLink"]},null),ki(32,1720320,null,2,Np,[Ap,xe,Ae,bs],{routerLinkActive:[0,"routerLinkActive"]},null),Hi(603979776,7,{links:1}),Hi(603979776,8,{linksWithHrefs:1}),(t()(),Xi(-1,null,["View"])),(t()(),Bl(36,0,null,null,5,"a",[["routerLink","/threshold"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==fi(t,37).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&s),s},null,null)),ki(37,671744,[[10,4]],0,Op,[Ap,vd,ru],{routerLink:[0,"routerLink"]},null),ki(38,1720320,null,2,Np,[Ap,xe,Ae,bs],{routerLinkActive:[0,"routerLinkActive"]},null),Hi(603979776,9,{links:1}),Hi(603979776,10,{linksWithHrefs:1}),(t()(),Xi(-1,null,["Threshold"])),(t()(),Bl(42,0,null,null,5,"a",[["routerLink","/scramble"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==fi(t,43).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&s),s},null,null)),ki(43,671744,[[12,4]],0,Op,[Ap,vd,ru],{routerLink:[0,"routerLink"]},null),ki(44,1720320,null,2,Np,[Ap,xe,Ae,bs],{routerLinkActive:[0,"routerLinkActive"]},null),Hi(603979776,11,{links:1}),Hi(603979776,12,{linksWithHrefs:1}),(t()(),Xi(-1,null,["Scramble"])),(t()(),Bl(48,0,null,null,5,"a",[["routerLink","/features"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==fi(t,49).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&s),s},null,null)),ki(49,671744,[[14,4]],0,Op,[Ap,vd,ru],{routerLink:[0,"routerLink"]},null),ki(50,1720320,null,2,Np,[Ap,xe,Ae,bs],{routerLinkActive:[0,"routerLinkActive"]},null),Hi(603979776,13,{links:1}),Hi(603979776,14,{linksWithHrefs:1}),(t()(),Xi(-1,null,["Features"])),(t()(),Bl(54,0,null,null,5,"a",[["routerLink","/decoder"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==fi(t,55).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&s),s},null,null)),ki(55,671744,[[16,4]],0,Op,[Ap,vd,ru],{routerLink:[0,"routerLink"]},null),ki(56,1720320,null,2,Np,[Ap,xe,Ae,bs],{routerLinkActive:[0,"routerLinkActive"]},null),Hi(603979776,15,{links:1}),Hi(603979776,16,{linksWithHrefs:1}),(t()(),Xi(-1,null,["Decoder"])),(t()(),Bl(60,0,null,null,5,"a",[["routerLink","/store1"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==fi(t,61).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&s),s},null,null)),ki(61,671744,[[18,4]],0,Op,[Ap,vd,ru],{routerLink:[0,"routerLink"]},null),ki(62,1720320,null,2,Np,[Ap,xe,Ae,bs],{routerLinkActive:[0,"routerLinkActive"]},null),Hi(603979776,17,{links:1}),Hi(603979776,18,{linksWithHrefs:1}),(t()(),Xi(-1,null,["Store 1"])),(t()(),Bl(66,0,null,null,5,"a",[["routerLink","/match1"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==fi(t,67).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&s),s},null,null)),ki(67,671744,[[20,4]],0,Op,[Ap,vd,ru],{routerLink:[0,"routerLink"]},null),ki(68,1720320,null,2,Np,[Ap,xe,Ae,bs],{routerLinkActive:[0,"routerLinkActive"]},null),Hi(603979776,19,{links:1}),Hi(603979776,20,{linksWithHrefs:1}),(t()(),Xi(-1,null,["Match 1"])),(t()(),Bl(72,0,null,null,5,"a",[["routerLink","/score1"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==fi(t,73).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&s),s},null,null)),ki(73,671744,[[22,4]],0,Op,[Ap,vd,ru],{routerLink:[0,"routerLink"]},null),ki(74,1720320,null,2,Np,[Ap,xe,Ae,bs],{routerLinkActive:[0,"routerLinkActive"]},null),Hi(603979776,21,{links:1}),Hi(603979776,22,{linksWithHrefs:1}),(t()(),Xi(-1,null,["Score 1"])),(t()(),Bl(78,0,null,null,5,"a",[["routerLink","/store4"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==fi(t,79).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&s),s},null,null)),ki(79,671744,[[24,4]],0,Op,[Ap,vd,ru],{routerLink:[0,"routerLink"]},null),ki(80,1720320,null,2,Np,[Ap,xe,Ae,bs],{routerLinkActive:[0,"routerLinkActive"]},null),Hi(603979776,23,{links:1}),Hi(603979776,24,{linksWithHrefs:1}),(t()(),Xi(-1,null,["Store 1-4"])),(t()(),Bl(84,0,null,null,5,"a",[["routerLink","/result"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==fi(t,85).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&s),s},null,null)),ki(85,671744,[[26,4]],0,Op,[Ap,vd,ru],{routerLink:[0,"routerLink"]},null),ki(86,1720320,null,2,Np,[Ap,xe,Ae,bs],{routerLinkActive:[0,"routerLinkActive"]},null),Hi(603979776,25,{links:1}),Hi(603979776,26,{linksWithHrefs:1}),(t()(),Xi(-1,null,["Result"])),(t()(),Bl(90,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),ki(91,212992,null,0,Wp,[Dp,ys,be,[8,null],bs],null,null),(t()(),Bl(92,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Bl(93,0,null,null,1,"p",[["style","text-align:center;"]],null,null,null,null,null)),(t()(),Xi(-1,null,[" Copyright 2019 Binstead Systems Ltd. All rights reserved. "]))],function(t,e){t(e,13,0,"/intro"),t(e,14,0,"active"),t(e,19,0,"/overview"),t(e,20,0,"active"),t(e,25,0,"/source"),t(e,26,0,"active"),t(e,31,0,"/view"),t(e,32,0,"active"),t(e,37,0,"/threshold"),t(e,38,0,"active"),t(e,43,0,"/scramble"),t(e,44,0,"active"),t(e,49,0,"/features"),t(e,50,0,"active"),t(e,55,0,"/decoder"),t(e,56,0,"active"),t(e,61,0,"/store1"),t(e,62,0,"active"),t(e,67,0,"/match1"),t(e,68,0,"active"),t(e,73,0,"/score1"),t(e,74,0,"active"),t(e,79,0,"/store4"),t(e,80,0,"active"),t(e,85,0,"/result"),t(e,86,0,"active"),t(e,91,0)},function(t,e){var n=e.component;t(e,6,0,n.status),t(e,8,0,n.renderRate),t(e,10,0,n.textureCount),t(e,12,0,fi(e,13).target,fi(e,13).href),t(e,18,0,fi(e,19).target,fi(e,19).href),t(e,24,0,fi(e,25).target,fi(e,25).href),t(e,30,0,fi(e,31).target,fi(e,31).href),t(e,36,0,fi(e,37).target,fi(e,37).href),t(e,42,0,fi(e,43).target,fi(e,43).href),t(e,48,0,fi(e,49).target,fi(e,49).href),t(e,54,0,fi(e,55).target,fi(e,55).href),t(e,60,0,fi(e,61).target,fi(e,61).href),t(e,66,0,fi(e,67).target,fi(e,67).href),t(e,72,0,fi(e,73).target,fi(e,73).href),t(e,78,0,fi(e,79).target,fi(e,79).href),t(e,84,0,fi(e,85).target,fi(e,85).href)})}function xb(t){return Zi(0,[(t()(),Bl(0,0,null,null,1,"app-root",[],null,null,null,Tb,Sb)),ki(1,114688,null,0,aa,[ro,ua],null,null)],function(t,e){t(e,1,0)},null)}var Eb=si("app-root",aa,xb,{},{},[]);const kb=function(){class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.ngInjectableDef=dt({factory:function(){return new t},token:t,providedIn:"root"}),t}();class Ib{}function Rb(t,e,n,l){return s(n)&&(l=n,n=void 0),l?Rb(t,e,n).pipe(G(t=>u(t)?l(...t):l(t))):new x(s=>{!function t(e,n,s,l,i){let r;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,s,i),r=(()=>t.removeEventListener(n,s,i))}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,s),r=(()=>t.off(n,s))}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,s),r=(()=>t.removeListener(n,s))}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let r=0,o=e.length;r<o;r++)t(e[r],n,s,l,i)}l.add(r)}(t,e,function(t){s.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},s,n)})}class Ab{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Ob(t,this.durationSelector))}}class Ob extends ${constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){const e=p(this.durationSelector)(t);if(e===c)this.destination.error(c.e);else{const t=z(this,e);!t||t.closed?this.clearThrottle():this.add(this.throttled=t)}}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,s){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Pb(t){return!u(t)&&t-parseFloat(t)+1>=0}function Nb(t){const{index:e,period:n,subscriber:s}=t;if(s.next(e),!s.closed){if(-1===n)return s.complete();t.index=e+1,this.schedule(t,n)}}function Mb(t,e=zg){return n=(()=>(function(t=0,e,n){let s=-1;return Pb(e)?s=Number(e)<1?1:Number(e):N(e)&&(n=e),N(n)||(n=zg),new x(e=>{const l=Pb(t)?t:+t-n.now();return n.schedule(Nb,l,{index:0,period:s,subscriber:e})})})(t,e)),function(t){return t.lift(new Ab(n))};var n}class Db{constructor(t){this.notifier=t}call(t,e){const n=new Wb(t),s=z(n,this.notifier);return s&&!n.seenValue?(n.add(s),e.subscribe(n)):n}}class Wb extends ${constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,s,l){this.seenValue=!0,this.complete()}notifyComplete(){}}const Lb=20,Vb=function(){class t{constructor(t,e){this._ngZone=t,this._platform=e,this._scrolled=new O,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=Lb){return this._platform.isBrowser?new x(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Mb(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Jo()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(eu(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,s)=>{this._scrollableContainsElement(s,t)&&e.push(s)}),e}_scrollableContainsElement(t,e){let n=e.nativeElement,s=t.getElementRef().nativeElement;do{if(n==s)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Rb(window.document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.ngInjectableDef=dt({factory:function(){return new t(Bt(zn),Bt(Wg))},token:t,providedIn:"root"}),t}();class Bb{}const Fb=20,jb=function(){class t{constructor(t,e){this._platform=t,e.runOutsideAngular(()=>{this._change=t.isBrowser?nt(Rb(window,"resize"),Rb(window,"orientationchange")):Jo(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=document.documentElement,e=t.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}}change(t=Fb){return t>0?this._change.pipe(Mb(t)):this._change}_updateViewportSize(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}return t.ngInjectableDef=dt({factory:function(){return new t(Bt(Wg),Bt(zn))},token:t,providedIn:"root"}),t}();function Ub(){throw Error("Host already has a portal attached")}class Hb{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&Ub(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class zb extends Hb{constructor(t,e,n,s){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=s}}class $b extends Hb{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Gb{constructor(){this._isDisposed=!1}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&Ub(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof zb?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof $b?(this._attachedPortal=t,this.attachTemplatePortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Yb extends Gb{constructor(t,e,n,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=s}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class qb{}class Xb{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=kf(-this._previousScrollPosition.left),t.style.top=kf(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,s=e.scrollBehavior||"",l=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=s,n.scrollBehavior=l}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function Kb(){return Error("Scroll strategy has already been attached.")}class Qb{constructor(t,e,n,s){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=s,this._scrollSubscription=null,this._detach=(()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())})}attach(t){if(this._overlayRef)throw Kb();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}}class Zb{enable(){}disable(){}attach(){}}function Jb(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function tw(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class ew{constructor(t,e,n,s){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=s,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw Kb();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();Jb(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}}const nw=function(){class t{constructor(t,e,n,s){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=(()=>new Zb),this.close=(t=>new Qb(this._scrollDispatcher,this._ngZone,this._viewportRuler,t)),this.block=(()=>new Xb(this._viewportRuler,this._document)),this.reposition=(t=>new ew(this._scrollDispatcher,this._viewportRuler,this._ngZone,t)),this._document=s}}return t.ngInjectableDef=dt({factory:function(){return new t(Bt(Vb),Bt(jb),Bt(zn),Bt(xu))},token:t,providedIn:"root"}),t}();class sw{constructor(t){this.scrollStrategy=new Zb,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t&&Object.keys(t).forEach(e=>{void 0!==t[e]&&(this[e]=t[e])})}}class lw{constructor(t,e,n,s,l){this.offsetX=n,this.offsetY=s,this.panelClass=l,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class iw{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function rw(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "top", "bottom" or "center".')}function ow(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "start", "end" or "center".')}const uw=function(){class t{constructor(t){this._attachedOverlays=[],this._keydownListener=(t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEventSubscriptions>0){e[n]._keydownEvents.next(t);break}}),this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener,!0),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener,!0),this._isAttached=!1)}}return t.ngInjectableDef=dt({factory:function(){return new t(Bt(xu))},token:t,providedIn:"root"}),t}(),aw=function(){class t{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("cdk-overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return t.ngInjectableDef=dt({factory:function(){return new t(Bt(xu))},token:t,providedIn:"root"}),t}();class cw{constructor(t,e,n,s,l,i,r,o){this._portalOutlet=t,this._host=e,this._pane=n,this._config=s,this._ngZone=l,this._keyboardDispatcher=i,this._document=r,this._location=o,this._backdropElement=null,this._backdropClick=new O,this._attachments=new O,this._detachments=new O,this._locationChanges=m.EMPTY,this._keydownEventsObservable=new x(t=>{const e=this._keydownEvents.subscribe(t);return this._keydownEventSubscriptions++,()=>{e.unsubscribe(),this._keydownEventSubscriptions--}}),this._keydownEvents=new O,this._keydownEventSubscriptions=0,s.scrollStrategy&&s.scrollStrategy.attach(this),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._config.scrollStrategy&&this._config.scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Ma(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._config.scrollStrategy&&this._config.scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._config.scrollStrategy&&this._config.scrollStrategy.disable(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEventsObservable}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign({},this._config,t),this._updateElementSize()}setDirection(t){this._config=Object.assign({},this._config,{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){const t=this._pane.style;t.width=kf(this._config.width),t.height=kf(this._config.height),t.minWidth=kf(this._config.minWidth),t.minHeight=kf(this._config.minHeight),t.maxWidth=kf(this._config.maxWidth),t.maxHeight=kf(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",t=>this._backdropClick.next(t)),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&e.parentNode&&e.parentNode.removeChild(e),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const s=t.classList;Ef(e).forEach(t=>{n?s.add(t):s.remove(t)})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe(function(t){return e=>e.lift(new Db(t))}(nt(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}}const hw="cdk-overlay-connected-position-bounding-box";class dw{constructor(t,e,n,s,l){this._viewportRuler=e,this._document=n,this._platform=s,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this.scrollables=[],this._preferredPositions=[],this._positionChanges=new O,this._resizeSubscription=m.EMPTY,this._offsetX=0,this._offsetY=0,this._positionChangeSubscriptions=0,this._appliedPanelClasses=[],this.positionChanges=new x(t=>{const e=this._positionChanges.subscribe(t);return this._positionChangeSubscriptions++,()=>{e.unsubscribe(),this._positionChangeSubscriptions--}}),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add(hw),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||this._platform&&!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,s=[];let l;for(let i of this._preferredPositions){let r=this._getOriginPoint(t,i),o=this._getOverlayPoint(r,e,i),u=this._getOverlayFit(o,e,n,i);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(i,r);this._canFitWithFlexibleDimensions(u,o,n)?s.push({position:i,origin:r,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(r,i)}):(!l||l.overlayFit.visibleArea<u.visibleArea)&&(l={overlayFit:u,overlayPoint:o,originPoint:r,position:i,overlayRect:e})}if(s.length){let t=null,e=-1;for(const n of s){const s=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);s>e&&(e=s,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&pw(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(hw),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){this.scrollables=t}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,s;if("center"==e.originX)n=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,l=this._isRtl()?t.left:t.right;n="start"==e.originX?s:l}return{x:n,y:s="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}_getOverlayPoint(t,e,n){let s,l;return s="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,{x:t.x+s,y:t.y+(l="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height)}}_getOverlayFit(t,e,n,s){let{x:l,y:i}=t,r=this._getOffset(s,"x"),o=this._getOffset(s,"y");r&&(l+=r),o&&(i+=o);let u=0-i,a=i+e.height-n.height,c=this._subtractOverflows(e.width,0-l,l+e.width-n.width),h=this._subtractOverflows(e.height,u,a),d=c*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:c==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const s=n.bottom-e.y,l=n.right-e.x,i=this._overlayRef.getConfig().minHeight,r=this._overlayRef.getConfig().minWidth,o=t.fitsInViewportHorizontally||null!=r&&r<=l;return(t.fitsInViewportVertically||null!=i&&i<=s)&&o}}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const s=this._viewportRect,l=Math.max(t.x+e.width-s.right,0),i=Math.max(t.y+e.height-s.bottom,0),r=Math.max(s.top-n.top-t.y,0),o=Math.max(s.left-n.left-t.x,0);let u=0,a=0;return this._previousPushAmount={x:u=e.width<=s.width?o||-l:t.x<this._viewportMargin?s.left-n.left-t.x:0,y:a=e.height<=s.height?r||-i:t.y<this._viewportMargin?s.top-n.top-t.y:0},{x:t.x+u,y:t.y+a}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChangeSubscriptions>0){const e=this._getScrollVisibility(),n=new iw(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,s=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let l=0;l<e.length;l++)e[l].style.transformOrigin=`${n} ${s}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,s=this._isRtl();let l,i,r,o,u,a;if("top"===e.overlayY)l=n.height-(i=t.y)+this._viewportMargin;else if("bottom"===e.overlayY)l=n.height-(r=n.height-t.y+2*this._viewportMargin)+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),s=this._lastBoundingBoxSize.height;i=t.y-e,(l=2*e)>s&&!this._isInitialRender&&!this._growAfterOpen&&(i=t.y-s/2)}if("end"===e.overlayX&&!s||"start"===e.overlayX&&s)a=n.right-t.x+this._viewportMargin,o=t.x-n.left;else if("start"===e.overlayX&&!s||"end"===e.overlayX&&s)u=t.x,o=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),s=this._lastBoundingBoxSize.width;u=t.x-e,(o=2*e)>s&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-s/2)}return{top:i,left:u,bottom:r,right:a,width:o,height:l}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right="",s.width=s.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;s.height=kf(n.height),s.top=kf(n.top),s.bottom=kf(n.bottom),s.width=kf(n.width),s.left=kf(n.left),s.right=kf(n.right),s.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",s.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(s.maxHeight=kf(t)),l&&(s.maxWidth=kf(l))}this._lastBoundingBoxSize=n,pw(this._boundingBox.style,s)}_resetBoundingBoxStyles(){pw(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){pw(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={};if(this._hasExactPosition()){const s=this._viewportRuler.getViewportScrollPosition();pw(n,this._getExactOverlayY(e,t,s)),pw(n,this._getExactOverlayX(e,t,s))}else n.position="static";let s="",l=this._getOffset(e,"x"),i=this._getOffset(e,"y");l&&(s+=`translateX(${l}px) `),i&&(s+=`translateY(${i}px)`),n.transform=s.trim(),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxHeight&&(n.maxHeight=""),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxWidth&&(n.maxWidth=""),pw(this._pane.style,n)}_getExactOverlayY(t,e,n){let s={top:null,bottom:null},l=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,n));let i=this._overlayContainer?this._overlayContainer.getContainerElement().getBoundingClientRect().top:0;return l.y-=i,"bottom"===t.overlayY?s.bottom=`${this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)}px`:s.top=kf(l.y),s}_getExactOverlayX(t,e,n){let s,l={left:null,right:null},i=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n)),"right"==(s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?l.right=`${this._document.documentElement.clientWidth-(i.x+this._overlayRect.width)}px`:l.left=kf(i.x),l}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this.scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:tw(t,n),isOriginOutsideView:Jb(t,n),isOverlayClipped:tw(e,n),isOverlayOutsideView:Jb(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{ow("originX",t.originX),rw("originY",t.originY),ow("overlayX",t.overlayX),rw("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&Ef(t).forEach(t=>{-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>this._pane.classList.remove(t)),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;return t instanceof xe?t.nativeElement.getBoundingClientRect():t instanceof HTMLElement?t.getBoundingClientRect():{top:t.y,bottom:t.y,left:t.x,right:t.x,height:0,width:0}}}function pw(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}class fw{constructor(t,e,n,s,l,i){this._preferredPositions=[],this._positionStrategy=new dw(n,s,l,i).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,s){const l=new lw(t,e,n,s);return this._preferredPositions.push(l),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const gw="cdk-global-overlay-wrapper";class mw{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(gw),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig();t.position=this._cssPosition,t.marginLeft="100%"===n.width?"0":this._leftOffset,t.marginTop="100%"===n.height?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,"100%"===n.width?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems="100%"===n.height?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(gw),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}const _w=function(){class t{constructor(t,e,n,s){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=s}global(){return new mw}connectedTo(t,e,n){return new fw(e,n,t,this._viewportRuler,this._document)}flexibleConnectedTo(t){return new dw(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.ngInjectableDef=dt({factory:function(){return new t(Bt(jb),Bt(xu),Bt(Wg,8),Bt(aw,8))},token:t,providedIn:"root"}),t}();let yw=0;class vw{constructor(t,e,n,s,l,i,r,o,u,a){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=s,this._keyboardDispatcher=l,this._injector=i,this._ngZone=r,this._document=o,this._directionality=u,this._location=a}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),s=this._createPortalOutlet(n),l=new sw(t);return l.direction=l.direction||this._directionality.value,new cw(s,e,n,l,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id=`cdk-overlay-${yw++}`,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(as)),new Yb(t,this._componentFactoryResolver,this._appRef,this._injector)}}const bw=new ft("cdk-connected-overlay-scroll-strategy");function ww(t){return()=>t.scrollStrategies.reposition()}class Cw{}const Sw=new ft("mat-select-scroll-strategy");function Tw(t){return()=>t.scrollStrategies.reposition()}class xw{}class Ew{}class kw{}class Iw{}class Rw{}var Aw=so(io,[aa],function(t){return function(t){const e={},n=[];let s=!1;for(let l=0;l<t.length;l++){const i=t[l];i.token===fe&&!0===i.value&&(s=!0),1073741824&i.flags&&n.push(i.token),i.index=l,e[ul(i.token)]=i}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:s}}([ql(512,be,we,[[8,[uf,pf,yf,Sf,Tv,Rv,Mv,Bv,zv,Kv,eb,rb,hb,mb,Cb,Eb]],[3,be],Se]),ql(5120,zs,Ys,[[3,zs]]),ql(4608,_u,yu,[zs,[2,mu]]),ql(5120,Tn,xn,[]),ql(5120,Vs,$s,[]),ql(5120,Bs,Gs,[]),ql(4608,th,eh,[xu]),ql(6144,Ne,null,[th]),ql(4608,Yc,nm,[[2,Jg],[2,Xg]]),ql(5120,gc,function(t,e,n,s,l,i,r,o){return[new $c(t,e,n),new Jc(s),new Kc(l,i,r,o)]},[xu,zn,In,xu,xu,Yc,An,[2,qc]]),ql(4608,mc,mc,[gc,zn]),ql(135680,vc,vc,[xu]),ql(4608,Ec,Ec,[mc,vc]),ql(5120,Ym,pv,[]),ql(5120,q_,fv,[]),ql(4608,Oy,dv,[xu,Ym,q_]),ql(5120,Ie,gv,[Ec,Oy,zn]),ql(6144,yc,null,[vc]),ql(4608,Qn,Qn,[zn]),ql(5120,vd,Jp,[Ap]),ql(4608,Fp,Fp,[]),ql(6144,Vp,null,[Fp]),ql(135680,jp,jp,[Ap,dn,Wn,Zt,Vp]),ql(4608,Bp,Bp,[]),ql(5120,Up,qp,[Ap,Iu,Hp]),ql(5120,sf,nf,[tf]),ql(5120,Rn,function(t){return[t]},[sf]),ql(4608,Zf,Zf,[]),ql(4608,ym,sv,[Ie,rc]),ql(4608,kb,kb,[]),ql(4608,vw,vw,[nw,aw,be,_w,uw,Zt,zn,xu,mm,[2,uu]]),ql(5120,bw,ww,[vw]),ql(5120,Sw,Tw,[vw]),ql(4608,na,sa,[xu,In,ta]),ql(4608,la,la,[na,ea]),ql(5120,qu,function(t){return[t]},[la]),ql(4608,Zu,Zu,[]),ql(6144,Qu,null,[Zu]),ql(4608,Ju,Ju,[Qu]),ql(6144,Ou,null,[Ju]),ql(4608,Au,ia,[Ou,Zt]),ql(4608,Gu,Gu,[Au]),ql(1073742336,Tu,Tu,[]),ql(1024,vn,ah,[]),ql(1024,ls,function(){return[Gp()]},[]),ql(512,tf,tf,[Zt]),ql(1024,Cn,function(t,e){return[(n=t,dc("probe",fc),dc("coreTokens",Object.assign({},pc,(n||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>fc),ef(e)];var n},[[2,ls],tf]),ql(512,Sn,Sn,[[2,Cn]]),ql(131584,as,as,[zn,An,Zt,vn,be,Sn]),ql(1073742336,qs,qs,[as]),ql(1073742336,ch,ch,[[3,ch]]),ql(1024,zp,Kp,[[3,Ap]]),ql(512,Qh,Zh,[]),ql(512,Dp,Dp,[]),ql(256,Hp,{},[]),ql(1024,ru,Xp,[lu,[2,ou],Hp]),ql(512,uu,uu,[ru]),ql(512,Wn,Wn,[]),ql(512,dn,ms,[Wn,[2,fs]]),ql(1024,Sp,function(){return[[{path:"",component:af},{path:"intro",component:af},{path:"overview",component:ff},{path:"source",component:vf},{path:"view",component:bv},{path:"threshold",component:xv},{path:"scramble",component:Av},{path:"features",component:Dv},{path:"decoder",component:Fv},{path:"store1",component:Gv},{path:"match1",component:Qv},{path:"score1",component:nb},{path:"store4",component:ob},{path:"result",component:db},{path:"setup",component:_b}]]},[]),ql(1024,Ap,Zp,[as,Qh,Dp,uu,Zt,dn,Wn,Sp,Hp,[2,xp],[2,wp]]),ql(1073742336,Yp,Yp,[[2,zp],[2,Ap]]),ql(1073742336,Ew,Ew,[]),ql(1073742336,Ng,Ng,[]),ql(1073742336,Mg,Mg,[]),ql(1073742336,_v,_v,[]),ql(1073742336,Ib,Ib,[]),ql(1073742336,kw,kw,[]),ql(1073742336,_m,_m,[]),ql(1073742336,Xg,Xg,[[2,qg],[2,qc]]),ql(1073742336,Lg,Lg,[]),ql(1073742336,sm,sm,[]),ql(1073742336,Iw,Iw,[]),ql(1073742336,fm,fm,[]),ql(1073742336,qb,qb,[]),ql(1073742336,Bb,Bb,[]),ql(1073742336,Cw,Cw,[]),ql(1073742336,lm,lm,[]),ql(1073742336,im,im,[]),ql(1073742336,xw,xw,[]),ql(1073742336,Rw,Rw,[]),ql(1073742336,ra,ra,[]),ql(1073742336,oa,oa,[]),ql(1073742336,io,io,[]),ql(256,fe,!0,[]),ql(256,mv,"BrowserAnimations",[]),ql(256,ta,"XSRF-TOKEN",[]),ql(256,ea,"X-XSRF-TOKEN",[])])});(function(){if(Le)throw new Error("Cannot enable prod mode after platform setup.");We=!1})(),uh().bootstrapModuleFactory(Aw).catch(t=>console.error(t))}},[[0,0]]]);